{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { catchError, debounceTime, distinctUntilChanged, filter, map, of, switchMap, tap } from 'rxjs';\nimport { NgxMaskDirective } from 'ngx-mask';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"src/app/services/orcamentos.service\";\nimport * as i4 from \"@angular/common\";\nfunction Step9CustosAdicionaisComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.openModal());\n    });\n    i0.ɵɵtext(1, \" Configurar / calcular \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"label\", 9)(2, \"span\", 15);\n    i0.ɵɵtext(3, \"Valor de transporte (opcional)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 16);\n    i0.ɵɵelementStart(5, \"span\", 17);\n    i0.ɵɵtext(6, \"Se preencher, \");\n    i0.ɵɵelementStart(7, \"b\");\n    i0.ɵɵtext(8, \"substitui\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \" o valor calculado.\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"mask\", \"separator.2\")(\"thousandSeparator\", \".\")(\"prefix\", \"R$ \")(\"dropSpecialCharacters\", true)(\"allowNegativeNumbers\", false)(\"formControl\", ctx_r1.transporteForm.controls.valorManual);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Valor (manual): \", i0.ɵɵpipeBind4(3, 1, ctx_r1.valorManual, \"BRL\", \"symbol\", \"1.2-2\"), \"\");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_ng_template_4_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Valor (calculado): \", i0.ɵɵpipeBind4(2, 1, ctx_r1.frete == null ? null : ctx_r1.frete.valor, \"BRL\", \"symbol\", \"1.2-2\"), \" \");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_ng_template_4_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1, \"Aguardando c\\u00E1lculo\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, Step9CustosAdicionaisComponent_div_9_ng_template_4_div_0_Template, 3, 6, \"div\", 22)(1, Step9CustosAdicionaisComponent_div_9_ng_template_4_ng_template_1_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const aguardando_r3 = i0.ɵɵreference(2);\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.frete)(\"ngIfElse\", aguardando_r3);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Dist\\u00E2ncia: \", i0.ɵɵpipeBind2(2, 1, ctx_r1.frete == null ? null : ctx_r1.frete.distanciaKm, \"1.0-0\"), \" km\");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 15);\n    i0.ɵɵtext(2, \"Transporte\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, Step9CustosAdicionaisComponent_div_9_ng_container_3_Template, 4, 6, \"ng-container\", 19)(4, Step9CustosAdicionaisComponent_div_9_ng_template_4_Template, 3, 2, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor)(6, Step9CustosAdicionaisComponent_div_9_div_6_Template, 3, 4, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const calcado_r4 = i0.ɵɵreference(5);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.valorManual && ctx_r1.valorManual > 0)(\"ngIfElse\", calcado_r4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.frete);\n  }\n}\nfunction Step9CustosAdicionaisComponent_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \" Informe seu nome completo. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 31);\n    i0.ɵɵtext(1, \"Buscando CEP\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 48);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.cepOrigemErro);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 31);\n    i0.ɵɵtext(1, \"Buscando CEP\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 48);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.cepDestinoErro);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 48);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" O limite para c\\u00E1lculo autom\\u00E1tico \\u00E9 \", ctx_r1.MAX_PESO, \" kg. Informe manualmente o valor do transporte fora desta janela. \");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 31);\n    i0.ɵɵtext(1, \" * Correios normalmente aceitam ~0,3 a 30 kg. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" Peso informado (\", ctx_r1.transporteForm.value.pesoKg || 0, \" kg) excede \", ctx_r1.MAX_PESO, \" kg. \");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.apiError, \" \");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_div_87_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Prazo: \", ctx_r1.frete == null ? null : ctx_r1.frete.prazoDias, \" dia(s)\");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_div_87_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54);\n    i0.ɵɵtext(1, \"Detalhe por servi\\u00E7o:\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_div_87_table_8_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_6_0;\n    const s_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r6.nome || s_r6.codigo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", (tmp_6_0 = s_r6.prazoDias) !== null && tmp_6_0 !== undefined ? tmp_6_0 : \"-\", \" d\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(7, 3, s_r6.valor, \"BRL\", \"symbol\", \"1.2-2\"));\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_div_87_table_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 55)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Servi\\u00E7o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Prazo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Valor\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, Step9CustosAdicionaisComponent_div_16_div_87_table_8_tr_10_Template, 8, 8, \"tr\", 56);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.frete.servicos);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_div_87_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50)(1, \"div\", 15);\n    i0.ɵɵtext(2, \"Resultado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, Step9CustosAdicionaisComponent_div_16_div_87_div_6_Template, 2, 1, \"div\", 20)(7, Step9CustosAdicionaisComponent_div_16_div_87_div_7_Template, 2, 0, \"div\", 51)(8, Step9CustosAdicionaisComponent_div_16_div_87_table_8_Template, 11, 1, \"table\", 52);\n    i0.ɵɵelementStart(9, \"p\", 53);\n    i0.ɵɵtext(10, \" Valores \");\n    i0.ɵɵelementStart(11, \"b\");\n    i0.ɵɵtext(12, \"estimados\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵelementStart(14, \"b\");\n    i0.ɵɵtext(15, \"informe um valor manual\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \" no campo de transporte fora desta janela \\u2014 esse valor ter\\u00E1 prioridade sobre a cota\\u00E7\\u00E3o. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Valor: \", i0.ɵɵpipeBind4(5, 5, ctx_r1.frete.valor, \"BRL\", \"symbol\", \"1.2-2\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.frete == null ? null : ctx_r1.frete.prazoDias) != null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.frete.servicos == null ? null : ctx_r1.frete.servicos.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.frete.servicos == null ? null : ctx_r1.frete.servicos.length);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" por \", ctx_r1.freteFonte || \"parceiro de frete\", \" a partir dos dados informados (CEPs, peso e dimens\\u00F5es). S\\u00E3o cota\\u00E7\\u00F5es indicativas e podem variar no ato da contrata\\u00E7\\u00E3o/postagem. Se preferir, \");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeModal());\n    });\n    i0.ɵɵelementStart(1, \"div\", 26);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_div_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementStart(2, \"div\", 27)(3, \"h4\");\n    i0.ɵɵtext(4, \"Calculadora de frete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeModal());\n    });\n    i0.ɵɵtext(6, \"\\u00D7\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 29)(8, \"div\", 30)(9, \"div\", 31);\n    i0.ɵɵtext(10, \"Endere\\u00E7o de origem\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 32)(12, \"label\")(13, \"span\", 15);\n    i0.ɵɵtext(14, \"CEP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 33);\n    i0.ɵɵelementStart(16, \"div\", 34);\n    i0.ɵɵtemplate(17, Step9CustosAdicionaisComponent_div_16_span_17_Template, 2, 0, \"span\", 35)(18, Step9CustosAdicionaisComponent_div_16_span_18_Template, 2, 1, \"span\", 36);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"label\")(20, \"span\", 15);\n    i0.ɵɵtext(21, \"UF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"input\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"label\")(24, \"span\", 15);\n    i0.ɵɵtext(25, \"Cidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(26, \"input\", 37);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 30)(28, \"div\", 31);\n    i0.ɵɵtext(29, \"Endere\\u00E7o de destino\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 32)(31, \"label\")(32, \"span\", 15);\n    i0.ɵɵtext(33, \"CEP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(34, \"input\", 33);\n    i0.ɵɵelementStart(35, \"div\", 34);\n    i0.ɵɵtemplate(36, Step9CustosAdicionaisComponent_div_16_span_36_Template, 2, 0, \"span\", 35)(37, Step9CustosAdicionaisComponent_div_16_span_37_Template, 2, 1, \"span\", 36);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"label\")(39, \"span\", 15);\n    i0.ɵɵtext(40, \"UF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(41, \"input\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"label\")(43, \"span\", 15);\n    i0.ɵɵtext(44, \"Cidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(45, \"input\", 37);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(46, \"div\", 38)(47, \"label\")(48, \"span\", 15);\n    i0.ɵɵtext(49, \"Peso (kg)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"input\", 39);\n    i0.ɵɵlistener(\"input\", function Step9CustosAdicionaisComponent_div_16_Template_input_input_50_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onPesoInput());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"div\", 34);\n    i0.ɵɵtemplate(52, Step9CustosAdicionaisComponent_div_16_span_52_Template, 2, 1, \"span\", 36)(53, Step9CustosAdicionaisComponent_div_16_span_53_Template, 2, 0, \"span\", 35);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(54, \"label\")(55, \"span\", 15);\n    i0.ɵɵtext(56, \"Altura (cm)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(57, \"input\", 40);\n    i0.ɵɵelementStart(58, \"div\", 34)(59, \"span\", 31);\n    i0.ɵɵtext(60);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(61, \"label\")(62, \"span\", 15);\n    i0.ɵɵtext(63, \"Largura (cm)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(64, \"input\", 40);\n    i0.ɵɵelementStart(65, \"div\", 34)(66, \"span\", 31);\n    i0.ɵɵtext(67);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(68, \"div\", 41)(69, \"label\")(70, \"span\", 15);\n    i0.ɵɵtext(71, \"Comprimento (cm)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(72, \"input\", 40);\n    i0.ɵɵelementStart(73, \"div\", 34)(74, \"span\", 31);\n    i0.ɵɵtext(75);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(76, \"div\", 42);\n    i0.ɵɵtemplate(77, Step9CustosAdicionaisComponent_div_16_span_77_Template, 2, 2, \"span\", 43)(78, Step9CustosAdicionaisComponent_div_16_span_78_Template, 2, 1, \"span\", 43);\n    i0.ɵɵelementStart(79, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_79_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.limparFreteForm());\n    });\n    i0.ɵɵtext(80, \"Limpar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(81, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_81_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeModal());\n    });\n    i0.ɵɵtext(82, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(83, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_83_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.calcularFrete());\n    });\n    i0.ɵɵtext(84);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(85, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_85_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.aplicarFrete());\n    });\n    i0.ɵɵtext(86, \" Aplicar ao or\\u00E7amento \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(87, Step9CustosAdicionaisComponent_div_16_div_87_Template, 17, 10, \"div\", 47);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.origemCep);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.buscandoOrigem);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.cepOrigemErro);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.origemUf);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.origemCidade);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.destinoCep);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.buscandoDestino);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.cepDestinoErro);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.destinoUf);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.destinoCidade);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"max\", ctx_r1.MAX_PESO)(\"formControl\", ctx_r1.transporteForm.controls.pesoKg);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.pesoAcimaLimite);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.pesoAcimaLimite);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"placeholder\", ctx_r1.DEFAULT_PKG.height.toString())(\"formControl\", ctx_r1.transporteForm.controls.alturaCm);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Padr\\u00E3o: \", ctx_r1.DEFAULT_PKG.height, \" cm\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"placeholder\", ctx_r1.DEFAULT_PKG.width.toString())(\"formControl\", ctx_r1.transporteForm.controls.larguraCm);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Padr\\u00E3o: \", ctx_r1.DEFAULT_PKG.width, \" cm\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"placeholder\", ctx_r1.DEFAULT_PKG.length.toString())(\"formControl\", ctx_r1.transporteForm.controls.comprimentoCm);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Padr\\u00E3o: \", ctx_r1.DEFAULT_PKG.length, \" cm\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.pesoAcimaLimite);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.apiError && !ctx_r1.pesoAcimaLimite);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.loading || ctx_r1.transporteForm.invalid || ctx_r1.pesoAcimaLimite);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.loading ? \"Calculando\\u2026\" : \"Calcular frete\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.frete || ctx_r1.pesoAcimaLimite);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.frete);\n  }\n}\nexport class Step9CustosAdicionaisComponent {\n  constructor(fb, httpBackend, orcSvc) {\n    this.fb = fb;\n    this.orcSvc = orcSvc;\n    this.changed = new EventEmitter();\n    this.MAX_PESO = 30; // limite para cálculo automático\n    this.DEFAULT_PKG = {\n      height: 5,\n      width: 15,\n      length: 20\n    }; // placeholders & fallback\n    this.freteFonte = 'SuperFrete (PAC/SEDEX)';\n    this.form = this.fb.group({\n      nomeCompleto: ['', [Validators.required, Validators.minLength(3)]],\n      incluirTransporte: [false]\n    });\n    this.transporteForm = this.fb.group({\n      // ORIGEM\n      origemCep: ['', [Validators.required, Validators.minLength(8)]],\n      origemUf: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\n      origemCidade: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2)]],\n      // DESTINO\n      destinoCep: ['', [Validators.required, Validators.minLength(8)]],\n      destinoUf: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\n      destinoCidade: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2)]],\n      // CAMPOS DE CÁLCULO\n      pesoKg: [null, [Validators.required, Validators.min(0.3)]],\n      // DIMENSÕES (opcionais) — se vazias, uso DEFAULT_PKG\n      alturaCm: [null, [Validators.min(1)]],\n      larguraCm: [null, [Validators.min(1)]],\n      comprimentoCm: [null, [Validators.min(1)]],\n      // VALOR MANUAL (fora da modal)\n      valorManual: [null]\n    });\n    this.modalOpen = false;\n    this.loading = false;\n    // status CEP\n    this.buscandoOrigem = false;\n    this.buscandoDestino = false;\n    this.cepOrigemErro = '';\n    this.cepDestinoErro = '';\n    this.apiError = '';\n    this.httpRaw = new HttpClient(httpBackend);\n  }\n  ngOnInit() {\n    // CEP watchers\n    this.watchCep('origemCep', 'origemUf', 'origemCidade', b => this.buscandoOrigem = b, e => this.cepOrigemErro = e);\n    this.watchCep('destinoCep', 'destinoUf', 'destinoCidade', b => this.buscandoDestino = b, e => this.cepDestinoErro = e);\n    // emite quando o VALOR MANUAL muda\n    this.transporteForm.controls.valorManual.valueChanges.pipe(debounceTime(150)).subscribe(() => this.emit());\n    // emite quando o NOME COMPLETO muda\n    this.form.controls.nomeCompleto.valueChanges.pipe(debounceTime(150)).subscribe(() => this.emit());\n  }\n  // CEP → ViaCEP\n  watchCep(ctrlCep, ctrlUf, ctrlCidade, setBusy, setErr) {\n    const cepCtrl = this.transporteForm.controls[ctrlCep];\n    cepCtrl.valueChanges.pipe(map(v => (v || '').toString().replace(/\\D/g, '')), tap(v => {\n      if (v !== cepCtrl.value) cepCtrl.setValue(v, {\n        emitEvent: false\n      });\n    }), debounceTime(250), distinctUntilChanged(), tap(() => setErr('')), filter(v => v.length >= 8), tap(() => setBusy(true)), switchMap(cep => this.httpRaw.get(`https://viacep.com.br/ws/${cep}/json/`, {\n      withCredentials: false\n    }).pipe(catchError(() => of(null)), tap(() => setBusy(false))))).subscribe(resp => {\n      if (!resp || resp.erro) {\n        this.transporteForm.patchValue({\n          [ctrlUf]: '',\n          [ctrlCidade]: ''\n        }, {\n          emitEvent: false\n        });\n        setErr('CEP não encontrado');\n        return;\n      }\n      this.transporteForm.patchValue({\n        [ctrlUf]: (resp.uf || '').toUpperCase(),\n        [ctrlCidade]: resp.localidade || ''\n      }, {\n        emitEvent: false\n      });\n      setErr('');\n    });\n  }\n  // ======= UI principal =======\n  onToggleTransporte() {\n    // não abre modal automaticamente\n    this.emit();\n  }\n  openModal() {\n    this.modalOpen = true;\n    this.apiError = '';\n  }\n  closeModal() {\n    this.modalOpen = false;\n  }\n  // getter para o HTML saber quando bloquear o botão\n  get pesoAcimaLimite() {\n    const v = Number(this.transporteForm.controls.pesoKg.value ?? 0);\n    return v > this.MAX_PESO;\n  }\n  // chamado no (input) do campo de peso\n  onPesoInput() {\n    const ctrl = this.transporteForm.controls.pesoKg;\n    const v = Number(ctrl.value ?? 0);\n    const errs = {\n      ...(ctrl.errors || {})\n    };\n    if (v > this.MAX_PESO) errs['limite'] = true;else delete errs['limite'];\n    ctrl.setErrors(Object.keys(errs).length ? errs : null);\n  }\n  calcularFrete() {\n    this.apiError = '';\n    // bloqueia envio se peso acima do limite\n    if (this.pesoAcimaLimite) {\n      this.apiError = `Peso acima do limite de ${this.MAX_PESO} kg para cálculo automático. Informe o valor manualmente.`;\n      return;\n    }\n    if (this.transporteForm.invalid) return;\n    this.loading = true;\n    const raw = this.transporteForm.getRawValue();\n    // fallback de dimensões aos padrões se usuário não preencher\n    const height = this.numOrDefault(raw.alturaCm, this.DEFAULT_PKG.height);\n    const width = this.numOrDefault(raw.larguraCm, this.DEFAULT_PKG.width);\n    const length = this.numOrDefault(raw.comprimentoCm, this.DEFAULT_PKG.length);\n    const body = {\n      origem: {\n        cep: (raw.origemCep || '').trim(),\n        uf: (raw.origemUf || '').toString().toUpperCase(),\n        cidade: raw.origemCidade || ''\n      },\n      destino: {\n        cep: (raw.destinoCep || '').trim(),\n        uf: (raw.destinoUf || '').toString().toUpperCase(),\n        cidade: raw.destinoCidade || ''\n      },\n      pesoKg: this.pesoAcimaLimite ? undefined : Number(raw.pesoKg),\n      // segurança extra\n      retornoVazio: false,\n      // envia pacote (se o backend aceitar, usa; senão, ele cairá no default)\n      package: {\n        height,\n        width,\n        length\n      }\n    };\n    this.orcSvc.calcularFrete(body).subscribe({\n      next: q => {\n        this.frete = q;\n        this.loading = false;\n        this.emit();\n      },\n      error: err => {\n        this.frete = undefined;\n        this.apiError = err?.error?.mensagem || 'Falha ao calcular frete.';\n        this.loading = false;\n        this.emit();\n      }\n    });\n  }\n  aplicarFrete() {\n    if (!this.frete) return;\n    this.modalOpen = false;\n    this.emit();\n  }\n  // botão \"Limpar\" da modal\n  limparFreteForm() {\n    this.apiError = '';\n    this.frete = undefined;\n    this.buscandoOrigem = this.buscandoDestino = false;\n    this.cepOrigemErro = this.cepDestinoErro = '';\n    this.transporteForm.reset({\n      origemCep: '',\n      origemUf: '',\n      origemCidade: '',\n      destinoCep: '',\n      destinoUf: '',\n      destinoCidade: '',\n      pesoKg: null,\n      alturaCm: null,\n      larguraCm: null,\n      comprimentoCm: null,\n      valorManual: this.transporteForm.controls.valorManual.value // mantém valor manual fora da modal\n    }, {\n      emitEvent: false\n    });\n    // limpa erros e toque do campo de peso\n    const ctrl = this.transporteForm.controls.pesoKg;\n    ctrl.setErrors(null);\n    ctrl.markAsPristine();\n    ctrl.markAsUntouched();\n    this.emit();\n  }\n  // Helpers de valor selecionado\n  get valorManual() {\n    const v = this.transporteForm.value.valorManual;\n    if (v === null || v === undefined || v === '') return null;\n    const n = Number(v);\n    return isNaN(n) ? null : n;\n  }\n  custoSelecionado() {\n    if (this.form.value.incluirTransporte !== true) return undefined;\n    if (this.valorManual && this.valorManual > 0) return this.valorManual;\n    return this.frete?.valor;\n  }\n  numOrDefault(v, d) {\n    const n = Number(v);\n    return isNaN(n) || n <= 0 ? d : n;\n  }\n  emit() {\n    this.changed.emit({\n      nomeCompleto: (this.form.value.nomeCompleto || '').trim(),\n      incluirTransporte: this.form.value.incluirTransporte === true,\n      custoTransporte: this.custoSelecionado(),\n      frete: this.frete\n    });\n  }\n  static {\n    this.ɵfac = function Step9CustosAdicionaisComponent_Factory(t) {\n      return new (t || Step9CustosAdicionaisComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpBackend), i0.ɵɵdirectiveInject(i3.OrcamentosService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: Step9CustosAdicionaisComponent,\n      selectors: [[\"app-step9-custos-adicionais\"]],\n      outputs: {\n        changed: \"changed\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 17,\n      vars: 7,\n      consts: [[\"calcado\", \"\"], [\"aguardando\", \"\"], [1, \"card\", \"grid\", 2, \"gap\", \"12px\"], [1, \"title\"], [1, \"row\"], [\"type\", \"checkbox\", 3, \"change\", \"formControl\"], [\"class\", \"btn btn-ghost sm push-right\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"manual\", 4, \"ngIf\"], [\"class\", \"resumo\", 4, \"ngIf\"], [1, \"col\"], [\"type\", \"text\", \"placeholder\", \"Digite seu nome\", 1, \"input\", 3, \"formControl\"], [\"class\", \"field-hint\", 4, \"ngIf\"], [\"class\", \"modal\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-ghost\", \"sm\", \"push-right\", 3, \"click\"], [1, \"manual\"], [1, \"small\"], [\"type\", \"text\", \"inputmode\", \"numeric\", \"placeholder\", \"R$ 0,00\", 1, \"input\", 3, \"mask\", \"thousandSeparator\", \"prefix\", \"dropSpecialCharacters\", \"allowNegativeNumbers\", \"formControl\"], [1, \"field-hint\", \"small\"], [1, \"resumo\"], [4, \"ngIf\", \"ngIfElse\"], [\"class\", \"pill\", 4, \"ngIf\"], [1, \"pill\"], [\"class\", \"pill\", 4, \"ngIf\", \"ngIfElse\"], [1, \"pill\", \"muted\"], [1, \"field-hint\"], [1, \"modal\", 3, \"click\"], [1, \"modal-inner\", 3, \"click\"], [1, \"modal-head\"], [1, \"btn\", \"btn-ghost\", 3, \"click\"], [1, \"grid\", \"two\"], [1, \"card\"], [1, \"small\", \"muted\"], [1, \"grid\", \"three\"], [\"inputmode\", \"numeric\", \"placeholder\", \"00000000\", 1, \"input\", 3, \"formControl\"], [1, \"hint-row\"], [\"class\", \"small muted\", 4, \"ngIf\"], [\"class\", \"small error\", 4, \"ngIf\"], [\"placeholder\", \"\\u2014\", 1, \"input\", \"readonly\", 3, \"formControl\"], [1, \"grid\", \"three\", 2, \"margin-top\", \"12px\"], [\"type\", \"number\", \"min\", \"0.3\", \"step\", \"0.1\", \"placeholder\", \"Ex.: 1.5\", 1, \"input\", 3, \"input\", \"max\", \"formControl\"], [\"type\", \"number\", \"min\", \"1\", \"step\", \"1\", 1, \"input\", 3, \"placeholder\", \"formControl\"], [1, \"grid\", \"one\"], [1, \"actions\"], [\"class\", \"small error\", \"style\", \"margin-right:auto;\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-ghost\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", 3, \"click\", \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [\"class\", \"quote\", 4, \"ngIf\"], [1, \"small\", \"error\"], [1, \"small\", \"error\", 2, \"margin-right\", \"auto\"], [1, \"quote\"], [\"class\", \"small muted\", \"style\", \"width:100%; margin-top:8px;\", 4, \"ngIf\"], [\"class\", \"servicos\", 4, \"ngIf\"], [1, \"note\"], [1, \"small\", \"muted\", 2, \"width\", \"100%\", \"margin-top\", \"8px\"], [1, \"servicos\"], [4, \"ngFor\", \"ngForOf\"]],\n      template: function Step9CustosAdicionaisComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 2)(1, \"h3\", 3);\n          i0.ɵɵtext(2, \"Custos adicionais\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"label\", 4)(4, \"input\", 5);\n          i0.ɵɵlistener(\"change\", function Step9CustosAdicionaisComponent_Template_input_change_4_listener() {\n            return ctx.onToggleTransporte();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"span\");\n          i0.ɵɵtext(6, \"Transporte\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(7, Step9CustosAdicionaisComponent_button_7_Template, 2, 0, \"button\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(8, Step9CustosAdicionaisComponent_div_8_Template, 10, 6, \"div\", 7)(9, Step9CustosAdicionaisComponent_div_9_Template, 7, 3, \"div\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 2)(11, \"h3\", 3);\n          i0.ɵɵtext(12, \"Nome completo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"label\", 9);\n          i0.ɵɵelement(14, \"input\", 10);\n          i0.ɵɵtemplate(15, Step9CustosAdicionaisComponent_span_15_Template, 2, 0, \"span\", 11);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(16, Step9CustosAdicionaisComponent_div_16_Template, 88, 29, \"div\", 12);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"formControl\", ctx.form.controls.incluirTransporte);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.form.value.incluirTransporte);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.form.value.incluirTransporte);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.form.value.incluirTransporte);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"formControl\", ctx.form.controls.nomeCompleto);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.form.controls.nomeCompleto.invalid && ctx.form.controls.nomeCompleto.touched);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.modalOpen);\n        }\n      },\n      dependencies: [CommonModule, i4.NgForOf, i4.NgIf, i4.DecimalPipe, i4.CurrencyPipe, ReactiveFormsModule, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.CheckboxControlValueAccessor, i1.NgControlStatus, i1.MinValidator, i1.MaxValidator, i1.FormControlDirective, HttpClientModule, NgxMaskDirective],\n      styles: [\".title[_ngcontent-%COMP%] { margin: 0; }\\n.row[_ngcontent-%COMP%] { display:flex; align-items:center; gap:8px; }\\n.row[_ngcontent-%COMP%]   .push-right[_ngcontent-%COMP%] { margin-left:auto; }\\n.col[_ngcontent-%COMP%] { display:flex; flex-direction:column; gap:6px; }\\n.input[_ngcontent-%COMP%] { width:100%; }\\n.input.readonly[_ngcontent-%COMP%] { background: color-mix(in oklab, var(--bg-2) 55%, transparent); cursor: not-allowed; }\\n.divider[_ngcontent-%COMP%] { height:1px; background:var(--border); opacity:.6; }\\n\\n.manual[_ngcontent-%COMP%] { margin-top:6px; }\\n\\n.resumo[_ngcontent-%COMP%] { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }\\n.pill[_ngcontent-%COMP%] { border:1px solid var(--border); border-radius:9999px; padding:4px 10px; background:color-mix(in oklab, var(--bg-2) 60%, transparent); }\\n.pill.muted[_ngcontent-%COMP%] { opacity:.7; }\\n\\n.grid.two[_ngcontent-%COMP%] { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:12px; }\\n.grid.three[_ngcontent-%COMP%] { display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; }\\n.small.muted[_ngcontent-%COMP%] { opacity:.8; }\\n.small.error[_ngcontent-%COMP%] { color:#ff6b6b; }\\n.hint-row[_ngcontent-%COMP%] { display:flex; gap:8px; min-height:18px; }\\n\\n.modal[_ngcontent-%COMP%] { position:fixed; inset:0; background:rgba(0,0,0,.6); display:flex; align-items:center; justify-content:center; z-index:1000; }\\n.modal-inner[_ngcontent-%COMP%] { width:min(980px, 96vw); background:var(--bg); border:1px solid var(--border); border-radius:12px; padding:16px; }\\n.modal-head[_ngcontent-%COMP%] { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }\\n.actions[_ngcontent-%COMP%] { display:flex; gap:8px; align-items:center; justify-content:flex-end; margin-top:12px; }\\n.quote[_ngcontent-%COMP%] { margin-top:10px; display:flex; gap:8px; align-items:center; flex-wrap:wrap; }\\n.note[_ngcontent-%COMP%] { margin-top:8px; font-size: .9rem; opacity:.9; }\\n\\n.small.error[_ngcontent-%COMP%] {\\n    color: #ff6b6b;\\n}\\n.hint-row[_ngcontent-%COMP%] { margin-top: 4px; }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvd2l6YXJkL3Bhc3NvOS1jdXN0b3MtYWRpY2lvbmFpcy9wYXNzbzktY3VzdG9zLWFkaWNpb25haXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLFNBQVMsRUFBRTtBQUNwQixPQUFPLFlBQVksRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEVBQUU7QUFDbEQsbUJBQW1CLGdCQUFnQixFQUFFO0FBQ3JDLE9BQU8sWUFBWSxFQUFFLHFCQUFxQixFQUFFLE9BQU8sRUFBRTtBQUNyRCxTQUFTLFVBQVUsRUFBRTtBQUNyQixrQkFBa0IsNkRBQTZELEVBQUUsbUJBQW1CLEVBQUU7QUFDdEcsV0FBVyxVQUFVLEVBQUUsd0JBQXdCLEVBQUUsVUFBVSxFQUFFOztBQUU3RCxVQUFVLGNBQWMsRUFBRTs7QUFFMUIsVUFBVSxZQUFZLEVBQUUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLGNBQWMsRUFBRTtBQUNyRSxRQUFRLDhCQUE4QixFQUFFLG9CQUFvQixFQUFFLGdCQUFnQixFQUFFLDREQUE0RCxFQUFFO0FBQzlJLGNBQWMsVUFBVSxFQUFFOztBQUUxQixZQUFZLFlBQVksRUFBRSwyREFBMkQsRUFBRSxRQUFRLEVBQUU7QUFDakcsY0FBYyxZQUFZLEVBQUUscUNBQXFDLEVBQUUsT0FBTyxFQUFFO0FBQzVFLGVBQWUsVUFBVSxFQUFFO0FBQzNCLGVBQWUsYUFBYSxFQUFFO0FBQzlCLFlBQVksWUFBWSxFQUFFLE9BQU8sRUFBRSxlQUFlLEVBQUU7O0FBRXBELFNBQVMsY0FBYyxFQUFFLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxZQUFZLEVBQUUsa0JBQWtCLEVBQUUsc0JBQXNCLEVBQUUsWUFBWSxFQUFFO0FBQ3JJLGVBQWUsc0JBQXNCLEVBQUUsb0JBQW9CLEVBQUUsOEJBQThCLEVBQUUsa0JBQWtCLEVBQUUsWUFBWSxFQUFFO0FBQy9ILGNBQWMsWUFBWSxFQUFFLGtCQUFrQixFQUFFLDZCQUE2QixFQUFFLGlCQUFpQixFQUFFO0FBQ2xHLFdBQVcsWUFBWSxFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSx3QkFBd0IsRUFBRSxlQUFlLEVBQUU7QUFDakcsU0FBUyxlQUFlLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxjQUFjLEVBQUU7QUFDckYsUUFBUSxjQUFjLEVBQUUsZ0JBQWdCLEVBQUUsVUFBVSxFQUFFOztBQUV0RDtJQUNJLGNBQWM7QUFDbEI7QUFDQSxZQUFZLGVBQWUsRUFBRSIsInNvdXJjZXNDb250ZW50IjpbIi50aXRsZSB7IG1hcmdpbjogMDsgfVxyXG4ucm93IHsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDo4cHg7IH1cclxuLnJvdyAucHVzaC1yaWdodCB7IG1hcmdpbi1sZWZ0OmF1dG87IH1cclxuLmNvbCB7IGRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246Y29sdW1uOyBnYXA6NnB4OyB9XHJcbi5pbnB1dCB7IHdpZHRoOjEwMCU7IH1cclxuLmlucHV0LnJlYWRvbmx5IHsgYmFja2dyb3VuZDogY29sb3ItbWl4KGluIG9rbGFiLCB2YXIoLS1iZy0yKSA1NSUsIHRyYW5zcGFyZW50KTsgY3Vyc29yOiBub3QtYWxsb3dlZDsgfVxyXG4uZGl2aWRlciB7IGhlaWdodDoxcHg7IGJhY2tncm91bmQ6dmFyKC0tYm9yZGVyKTsgb3BhY2l0eTouNjsgfVxyXG5cclxuLm1hbnVhbCB7IG1hcmdpbi10b3A6NnB4OyB9XHJcblxyXG4ucmVzdW1vIHsgZGlzcGxheTpmbGV4OyBnYXA6OHB4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGZsZXgtd3JhcDp3cmFwOyB9XHJcbi5waWxsIHsgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBib3JkZXItcmFkaXVzOjk5OTlweDsgcGFkZGluZzo0cHggMTBweDsgYmFja2dyb3VuZDpjb2xvci1taXgoaW4gb2tsYWIsIHZhcigtLWJnLTIpIDYwJSwgdHJhbnNwYXJlbnQpOyB9XHJcbi5waWxsLm11dGVkIHsgb3BhY2l0eTouNzsgfVxyXG5cclxuLmdyaWQudHdvIHsgZGlzcGxheTpncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDI2MHB4LCAxZnIpKTsgZ2FwOjEycHg7IH1cclxuLmdyaWQudGhyZWUgeyBkaXNwbGF5OmdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDMsIDFmcik7IGdhcDo4cHg7IH1cclxuLnNtYWxsLm11dGVkIHsgb3BhY2l0eTouODsgfVxyXG4uc21hbGwuZXJyb3IgeyBjb2xvcjojZmY2YjZiOyB9XHJcbi5oaW50LXJvdyB7IGRpc3BsYXk6ZmxleDsgZ2FwOjhweDsgbWluLWhlaWdodDoxOHB4OyB9XHJcblxyXG4ubW9kYWwgeyBwb3NpdGlvbjpmaXhlZDsgaW5zZXQ6MDsgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLC42KTsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGp1c3RpZnktY29udGVudDpjZW50ZXI7IHotaW5kZXg6MTAwMDsgfVxyXG4ubW9kYWwtaW5uZXIgeyB3aWR0aDptaW4oOTgwcHgsIDk2dncpOyBiYWNrZ3JvdW5kOnZhcigtLWJnKTsgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBib3JkZXItcmFkaXVzOjEycHg7IHBhZGRpbmc6MTZweDsgfVxyXG4ubW9kYWwtaGVhZCB7IGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsgbWFyZ2luLWJvdHRvbTo4cHg7IH1cclxuLmFjdGlvbnMgeyBkaXNwbGF5OmZsZXg7IGdhcDo4cHg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OmZsZXgtZW5kOyBtYXJnaW4tdG9wOjEycHg7IH1cclxuLnF1b3RlIHsgbWFyZ2luLXRvcDoxMHB4OyBkaXNwbGF5OmZsZXg7IGdhcDo4cHg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZmxleC13cmFwOndyYXA7IH1cclxuLm5vdGUgeyBtYXJnaW4tdG9wOjhweDsgZm9udC1zaXplOiAuOXJlbTsgb3BhY2l0eTouOTsgfVxyXG5cclxuLnNtYWxsLmVycm9yIHtcclxuICAgIGNvbG9yOiAjZmY2YjZiO1xyXG59XHJcbi5oaW50LXJvdyB7IG1hcmdpbi10b3A6IDRweDsgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["EventEmitter","CommonModule","ReactiveFormsModule","Validators","HttpClient","HttpClientModule","catchError","debounceTime","distinctUntilChanged","filter","map","of","switchMap","tap","NgxMaskDirective","i0","ɵɵelementStart","ɵɵlistener","Step9CustosAdicionaisComponent_button_7_Template_button_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","openModal","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty","transporteForm","controls","valorManual","ɵɵelementContainerStart","ɵɵtextInterpolate1","ɵɵpipeBind4","frete","valor","ɵɵtemplate","Step9CustosAdicionaisComponent_div_9_ng_template_4_div_0_Template","Step9CustosAdicionaisComponent_div_9_ng_template_4_ng_template_1_Template","ɵɵtemplateRefExtractor","aguardando_r3","ɵɵpipeBind2","distanciaKm","Step9CustosAdicionaisComponent_div_9_ng_container_3_Template","Step9CustosAdicionaisComponent_div_9_ng_template_4_Template","Step9CustosAdicionaisComponent_div_9_div_6_Template","calcado_r4","ɵɵtextInterpolate","cepOrigemErro","cepDestinoErro","MAX_PESO","ɵɵtextInterpolate2","value","pesoKg","apiError","prazoDias","s_r6","nome","codigo","tmp_6_0","undefined","Step9CustosAdicionaisComponent_div_16_div_87_table_8_tr_10_Template","servicos","Step9CustosAdicionaisComponent_div_16_div_87_div_6_Template","Step9CustosAdicionaisComponent_div_16_div_87_div_7_Template","Step9CustosAdicionaisComponent_div_16_div_87_table_8_Template","length","freteFonte","Step9CustosAdicionaisComponent_div_16_Template_div_click_0_listener","_r5","closeModal","Step9CustosAdicionaisComponent_div_16_Template_div_click_1_listener","$event","stopPropagation","Step9CustosAdicionaisComponent_div_16_Template_button_click_5_listener","Step9CustosAdicionaisComponent_div_16_span_17_Template","Step9CustosAdicionaisComponent_div_16_span_18_Template","Step9CustosAdicionaisComponent_div_16_span_36_Template","Step9CustosAdicionaisComponent_div_16_span_37_Template","Step9CustosAdicionaisComponent_div_16_Template_input_input_50_listener","onPesoInput","Step9CustosAdicionaisComponent_div_16_span_52_Template","Step9CustosAdicionaisComponent_div_16_span_53_Template","Step9CustosAdicionaisComponent_div_16_span_77_Template","Step9CustosAdicionaisComponent_div_16_span_78_Template","Step9CustosAdicionaisComponent_div_16_Template_button_click_79_listener","limparFreteForm","Step9CustosAdicionaisComponent_div_16_Template_button_click_81_listener","Step9CustosAdicionaisComponent_div_16_Template_button_click_83_listener","calcularFrete","Step9CustosAdicionaisComponent_div_16_Template_button_click_85_listener","aplicarFrete","Step9CustosAdicionaisComponent_div_16_div_87_Template","origemCep","buscandoOrigem","origemUf","origemCidade","destinoCep","buscandoDestino","destinoUf","destinoCidade","pesoAcimaLimite","DEFAULT_PKG","height","toString","alturaCm","width","larguraCm","comprimentoCm","loading","invalid","Step9CustosAdicionaisComponent","constructor","fb","httpBackend","orcSvc","changed","form","group","nomeCompleto","required","minLength","incluirTransporte","disabled","maxLength","min","modalOpen","httpRaw","ngOnInit","watchCep","b","e","valueChanges","pipe","subscribe","emit","ctrlCep","ctrlUf","ctrlCidade","setBusy","setErr","cepCtrl","v","replace","setValue","emitEvent","cep","get","withCredentials","resp","erro","patchValue","uf","toUpperCase","localidade","onToggleTransporte","Number","ctrl","errs","errors","setErrors","Object","keys","raw","getRawValue","numOrDefault","body","origem","trim","cidade","destino","retornoVazio","package","next","q","error","err","mensagem","reset","markAsPristine","markAsUntouched","n","isNaN","custoSelecionado","d","custoTransporte","ɵɵdirectiveInject","i1","FormBuilder","i2","HttpBackend","i3","OrcamentosService","selectors","outputs","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","Step9CustosAdicionaisComponent_Template","rf","ctx","Step9CustosAdicionaisComponent_Template_input_change_4_listener","Step9CustosAdicionaisComponent_button_7_Template","Step9CustosAdicionaisComponent_div_8_Template","Step9CustosAdicionaisComponent_div_9_Template","Step9CustosAdicionaisComponent_span_15_Template","Step9CustosAdicionaisComponent_div_16_Template","touched","i4","NgForOf","NgIf","DecimalPipe","CurrencyPipe","DefaultValueAccessor","NumberValueAccessor","CheckboxControlValueAccessor","NgControlStatus","MinValidator","MaxValidator","FormControlDirective","styles"],"sources":["G:\\Estudos\\Angular\\Orcamentador\\src\\app\\pages\\wizard\\passo9-custos-adicionais\\passo9-custos-adicionais.component.ts","G:\\Estudos\\Angular\\Orcamentador\\src\\app\\pages\\wizard\\passo9-custos-adicionais\\passo9-custos-adicionais.component.html"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { HttpClient, HttpClientModule, HttpBackend } from '@angular/common/http';\r\nimport { catchError, debounceTime, distinctUntilChanged, filter, map, of, switchMap, tap } from 'rxjs';\r\nimport { FreteQuote } from 'src/app/models/orcamento.model';\r\nimport { OrcamentosService } from 'src/app/services/orcamentos.service';\r\nimport { NgxMaskDirective } from 'ngx-mask';\r\n\r\n@Component({\r\n    standalone: true,\r\n    selector: 'app-step9-custos-adicionais',\r\n    imports: [CommonModule, ReactiveFormsModule, HttpClientModule, NgxMaskDirective],\r\n    templateUrl: './passo9-custos-adicionais.component.html',\r\n    styleUrls: ['./passo9-custos-adicionais.component.css']\r\n})\r\nexport class Step9CustosAdicionaisComponent implements OnInit {\r\n    @Output() changed = new EventEmitter<{\r\n        nomeCompleto: string;\r\n        incluirTransporte: boolean;\r\n        custoTransporte?: number;\r\n        frete?: FreteQuote;\r\n    }>();\r\n\r\n    constructor(\r\n        private fb: FormBuilder,\r\n        httpBackend: HttpBackend,\r\n        private orcSvc: OrcamentosService\r\n    ) { this.httpRaw = new HttpClient(httpBackend); }\r\n\r\n    private httpRaw: HttpClient;\r\n\r\n    readonly MAX_PESO = 30; // limite para cálculo automático\r\n    readonly DEFAULT_PKG = { height: 5, width: 15, length: 20 }; // placeholders & fallback\r\n\r\n    freteFonte = 'SuperFrete (PAC/SEDEX)';\r\n\r\n    form = this.fb.group({\r\n        nomeCompleto: ['', [Validators.required, Validators.minLength(3)]],\r\n        incluirTransporte: [false],\r\n    });\r\n\r\n    transporteForm = this.fb.group({\r\n        // ORIGEM\r\n        origemCep: ['', [Validators.required, Validators.minLength(8)]],\r\n        origemUf: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\r\n        origemCidade: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2)]],\r\n        // DESTINO\r\n        destinoCep: ['', [Validators.required, Validators.minLength(8)]],\r\n        destinoUf: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\r\n        destinoCidade: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2)]],\r\n        // CAMPOS DE CÁLCULO\r\n        pesoKg: [null as number | null, [Validators.required, Validators.min(0.3)]],\r\n        // DIMENSÕES (opcionais) — se vazias, uso DEFAULT_PKG\r\n        alturaCm: [null as number | null, [Validators.min(1)]],\r\n        larguraCm: [null as number | null, [Validators.min(1)]],\r\n        comprimentoCm: [null as number | null, [Validators.min(1)]],\r\n        // VALOR MANUAL (fora da modal)\r\n        valorManual: [null as number | null]\r\n    });\r\n\r\n    modalOpen = false;\r\n    loading = false;\r\n    frete?: FreteQuote;\r\n\r\n    // status CEP\r\n    buscandoOrigem = false; buscandoDestino = false;\r\n    cepOrigemErro = ''; cepDestinoErro = '';\r\n    apiError = '';\r\n\r\n    ngOnInit(): void {\r\n        // CEP watchers\r\n        this.watchCep('origemCep', 'origemUf', 'origemCidade', b => this.buscandoOrigem = b, e => this.cepOrigemErro = e);\r\n        this.watchCep('destinoCep', 'destinoUf', 'destinoCidade', b => this.buscandoDestino = b, e => this.cepDestinoErro = e);\r\n\r\n        // emite quando o VALOR MANUAL muda\r\n        this.transporteForm.controls.valorManual.valueChanges!\r\n            .pipe(debounceTime(150))\r\n            .subscribe(() => this.emit());\r\n\r\n        // emite quando o NOME COMPLETO muda\r\n        this.form.controls.nomeCompleto.valueChanges!\r\n            .pipe(debounceTime(150))\r\n            .subscribe(() => this.emit());\r\n    }\r\n\r\n    // CEP → ViaCEP\r\n    private watchCep(\r\n        ctrlCep: 'origemCep' | 'destinoCep', ctrlUf: 'origemUf' | 'destinoUf', ctrlCidade: 'origemCidade' | 'destinoCidade',\r\n        setBusy: (b: boolean) => void, setErr: (m: string) => void\r\n    ) {\r\n        const cepCtrl = this.transporteForm.controls[ctrlCep];\r\n        cepCtrl.valueChanges!.pipe(\r\n            map(v => (v || '').toString().replace(/\\D/g, '')),\r\n            tap(v => { if (v !== cepCtrl.value) cepCtrl.setValue(v, { emitEvent: false }); }),\r\n            debounceTime(250),\r\n            distinctUntilChanged(),\r\n            tap(() => setErr('')),\r\n            filter(v => v.length >= 8),\r\n            tap(() => setBusy(true)),\r\n            switchMap(cep => this.httpRaw.get<any>(`https://viacep.com.br/ws/${cep}/json/`, { withCredentials: false }).pipe(\r\n                catchError(() => of(null)),\r\n                tap(() => setBusy(false))\r\n            ))\r\n        ).subscribe(resp => {\r\n            if (!resp || resp.erro) {\r\n                this.transporteForm.patchValue({ [ctrlUf]: '', [ctrlCidade]: '' } as any, { emitEvent: false });\r\n                setErr('CEP não encontrado');\r\n                return;\r\n            }\r\n            this.transporteForm.patchValue(\r\n                { [ctrlUf]: (resp.uf || '').toUpperCase(), [ctrlCidade]: resp.localidade || '' } as any,\r\n                { emitEvent: false }\r\n            );\r\n            setErr('');\r\n        });\r\n    }\r\n\r\n    // ======= UI principal =======\r\n    onToggleTransporte() {\r\n        // não abre modal automaticamente\r\n        this.emit();\r\n    }\r\n\r\n    openModal() { this.modalOpen = true; this.apiError = ''; }\r\n    closeModal() { this.modalOpen = false; }\r\n\r\n    // getter para o HTML saber quando bloquear o botão\r\n    get pesoAcimaLimite(): boolean {\r\n        const v = Number(this.transporteForm.controls.pesoKg.value ?? 0);\r\n        return v > this.MAX_PESO;\r\n    }\r\n\r\n    // chamado no (input) do campo de peso\r\n    onPesoInput() {\r\n        const ctrl = this.transporteForm.controls.pesoKg;\r\n        const v = Number(ctrl.value ?? 0);\r\n        const errs = { ...(ctrl.errors || {}) };\r\n        if (v > this.MAX_PESO) errs['limite'] = true; else delete errs['limite'];\r\n        ctrl.setErrors(Object.keys(errs).length ? errs : null);\r\n    }\r\n\r\n    calcularFrete() {\r\n        this.apiError = '';\r\n\r\n        // bloqueia envio se peso acima do limite\r\n        if (this.pesoAcimaLimite) {\r\n            this.apiError = `Peso acima do limite de ${this.MAX_PESO} kg para cálculo automático. Informe o valor manualmente.`;\r\n            return;\r\n        }\r\n\r\n        if (this.transporteForm.invalid) return;\r\n\r\n        this.loading = true;\r\n        const raw = this.transporteForm.getRawValue();\r\n\r\n        // fallback de dimensões aos padrões se usuário não preencher\r\n        const height = this.numOrDefault(raw.alturaCm, this.DEFAULT_PKG.height);\r\n        const width  = this.numOrDefault(raw.larguraCm, this.DEFAULT_PKG.width);\r\n        const length = this.numOrDefault(raw.comprimentoCm, this.DEFAULT_PKG.length);\r\n\r\n        const body: any = {\r\n            origem: { cep: (raw.origemCep || '').trim(), uf: (raw.origemUf || '').toString().toUpperCase(), cidade: raw.origemCidade || '' },\r\n            destino: { cep: (raw.destinoCep || '').trim(), uf: (raw.destinoUf || '').toString().toUpperCase(), cidade: raw.destinoCidade || '' },\r\n            pesoKg: this.pesoAcimaLimite ? undefined : Number(raw.pesoKg), // segurança extra\r\n            retornoVazio: false,\r\n            // envia pacote (se o backend aceitar, usa; senão, ele cairá no default)\r\n            package: { height, width, length }\r\n        };\r\n\r\n        this.orcSvc.calcularFrete(body).subscribe({\r\n            next: (q: FreteQuote) => { this.frete = q; this.loading = false; this.emit(); },\r\n            error: (err) => {\r\n                this.frete = undefined;\r\n                this.apiError = err?.error?.mensagem || 'Falha ao calcular frete.';\r\n                this.loading = false;\r\n                this.emit();\r\n            }\r\n        });\r\n    }\r\n\r\n    aplicarFrete() {\r\n        if (!this.frete) return;\r\n        this.modalOpen = false;\r\n        this.emit();\r\n    }\r\n\r\n    // botão \"Limpar\" da modal\r\n    limparFreteForm() {\r\n        this.apiError = '';\r\n        this.frete = undefined;\r\n        this.buscandoOrigem = this.buscandoDestino = false;\r\n        this.cepOrigemErro = this.cepDestinoErro = '';\r\n\r\n        this.transporteForm.reset({\r\n            origemCep: '',\r\n            origemUf: '',\r\n            origemCidade: '',\r\n            destinoCep: '',\r\n            destinoUf: '',\r\n            destinoCidade: '',\r\n            pesoKg: null,\r\n            alturaCm: null,\r\n            larguraCm: null,\r\n            comprimentoCm: null,\r\n            valorManual: this.transporteForm.controls.valorManual.value // mantém valor manual fora da modal\r\n        }, { emitEvent: false });\r\n\r\n        // limpa erros e toque do campo de peso\r\n        const ctrl = this.transporteForm.controls.pesoKg;\r\n        ctrl.setErrors(null);\r\n        ctrl.markAsPristine();\r\n        ctrl.markAsUntouched();\r\n\r\n        this.emit();\r\n    }\r\n\r\n    // Helpers de valor selecionado\r\n    get valorManual(): number | null {\r\n        const v = this.transporteForm.value.valorManual as any;\r\n        if (v === null || v === undefined || v === '') return null;\r\n        const n = Number(v);\r\n        return isNaN(n) ? null : n;\r\n    }\r\n\r\n    private custoSelecionado(): number | undefined {\r\n        if (this.form.value.incluirTransporte !== true) return undefined;\r\n        if (this.valorManual && this.valorManual > 0) return this.valorManual;\r\n        return this.frete?.valor;\r\n    }\r\n\r\n    private numOrDefault(v: any, d: number): number {\r\n        const n = Number(v);\r\n        return isNaN(n) || n <= 0 ? d : n;\r\n    }\r\n\r\n    emit() {\r\n        this.changed.emit({\r\n            nomeCompleto: (this.form.value.nomeCompleto || '').trim(),\r\n            incluirTransporte: this.form.value.incluirTransporte === true,\r\n            custoTransporte: this.custoSelecionado(),\r\n            frete: this.frete,\r\n        });\r\n    }\r\n}\r\n","<!-- CARD: Custos adicionais -->\r\n<div class=\"card grid\" style=\"gap:12px;\">\r\n    <h3 class=\"title\">Custos adicionais</h3>\r\n\r\n    <!-- TRANSPORTE -->\r\n    <label class=\"row\">\r\n        <input\r\n                type=\"checkbox\"\r\n                [formControl]=\"form.controls.incluirTransporte\"\r\n                (change)=\"onToggleTransporte()\" />\r\n        <span>Transporte</span>\r\n\r\n        <!-- Botão só aparece quando marcado -->\r\n        <button\r\n                class=\"btn btn-ghost sm push-right\"\r\n                type=\"button\"\r\n                *ngIf=\"form.value.incluirTransporte\"\r\n                (click)=\"openModal()\">\r\n            Configurar / calcular\r\n        </button>\r\n    </label>\r\n\r\n    <!-- Campo de valor manual (currency) quando marcado -->\r\n    <div class=\"manual\" *ngIf=\"form.value.incluirTransporte\">\r\n        <label class=\"col\">\r\n            <span class=\"small\">Valor de transporte (opcional)</span>\r\n            <input\r\n                    class=\"input\"\r\n                    type=\"text\"\r\n                    inputmode=\"numeric\"\r\n                    [mask]=\"'separator.2'\"\r\n                    [thousandSeparator]=\"'.'\"\r\n                    [prefix]=\"'R$ '\"\r\n                    [dropSpecialCharacters]=\"true\"\r\n                    [allowNegativeNumbers]=\"false\"\r\n                    [formControl]=\"transporteForm.controls.valorManual\"\r\n                    placeholder=\"R$ 0,00\" />\r\n            <span class=\"field-hint small\">Se preencher, <b>substitui</b> o valor calculado.</span>\r\n        </label>\r\n    </div>\r\n\r\n    <!-- Resumo/seleção -->\r\n    <div class=\"resumo\" *ngIf=\"form.value.incluirTransporte\">\r\n        <div class=\"small\">Transporte</div>\r\n        <ng-container *ngIf=\"valorManual && valorManual > 0; else calcado\">\r\n            <div class=\"pill\">Valor (manual): {{ valorManual | currency:'BRL':'symbol':'1.2-2' }}</div>\r\n        </ng-container>\r\n        <ng-template #calcado>\r\n            <div class=\"pill\" *ngIf=\"frete; else aguardando\">\r\n                Valor (calculado): {{ frete?.valor | currency:'BRL':'symbol':'1.2-2' }}\r\n            </div>\r\n            <ng-template #aguardando><div class=\"pill muted\">Aguardando cálculo…</div></ng-template>\r\n        </ng-template>\r\n        <div class=\"pill\" *ngIf=\"frete\">Distância: {{ frete?.distanciaKm | number:'1.0-0' }} km</div>\r\n    </div>\r\n</div>\r\n\r\n<!-- CARD: Nome completo (separado) -->\r\n<div class=\"card grid\" style=\"gap:12px;\">\r\n    <h3 class=\"title\">Nome completo</h3>\r\n    <label class=\"col\">\r\n        <input\r\n                type=\"text\"\r\n                class=\"input\"\r\n                placeholder=\"Digite seu nome\"\r\n                [formControl]=\"form.controls.nomeCompleto\" />\r\n        <span class=\"field-hint\" *ngIf=\"form.controls.nomeCompleto.invalid && form.controls.nomeCompleto.touched\">\r\n      Informe seu nome completo.\r\n    </span>\r\n    </label>\r\n</div>\r\n\r\n<!-- MODAL -->\r\n<div class=\"modal\" *ngIf=\"modalOpen\" (click)=\"closeModal()\">\r\n    <div class=\"modal-inner\" (click)=\"$event.stopPropagation()\">\r\n        <div class=\"modal-head\">\r\n            <h4>Calculadora de frete</h4>\r\n            <button class=\"btn btn-ghost\" (click)=\"closeModal()\">×</button>\r\n        </div>\r\n\r\n        <div class=\"grid two\">\r\n            <!-- ORIGEM -->\r\n            <div class=\"card\">\r\n                <div class=\"small muted\">Endereço de origem</div>\r\n                <div class=\"grid three\">\r\n                    <label>\r\n                        <span class=\"small\">CEP</span>\r\n                        <input\r\n                                class=\"input\"\r\n                                inputmode=\"numeric\"\r\n                                placeholder=\"00000000\"\r\n                                [formControl]=\"transporteForm.controls.origemCep\" />\r\n                        <div class=\"hint-row\">\r\n                            <span class=\"small muted\" *ngIf=\"buscandoOrigem\">Buscando CEP…</span>\r\n                            <span class=\"small error\" *ngIf=\"cepOrigemErro\">{{ cepOrigemErro }}</span>\r\n                        </div>\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">UF</span>\r\n                        <input\r\n                                class=\"input readonly\"\r\n                                placeholder=\"—\"\r\n                                [formControl]=\"transporteForm.controls.origemUf\" />\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">Cidade</span>\r\n                        <input\r\n                                class=\"input readonly\"\r\n                                placeholder=\"—\"\r\n                                [formControl]=\"transporteForm.controls.origemCidade\" />\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- DESTINO -->\r\n            <div class=\"card\">\r\n                <div class=\"small muted\">Endereço de destino</div>\r\n                <div class=\"grid three\">\r\n                    <label>\r\n                        <span class=\"small\">CEP</span>\r\n                        <input\r\n                                class=\"input\"\r\n                                inputmode=\"numeric\"\r\n                                placeholder=\"00000000\"\r\n                                [formControl]=\"transporteForm.controls.destinoCep\" />\r\n                        <div class=\"hint-row\">\r\n                            <span class=\"small muted\" *ngIf=\"buscandoDestino\">Buscando CEP…</span>\r\n                            <span class=\"small error\" *ngIf=\"cepDestinoErro\">{{ cepDestinoErro }}</span>\r\n                        </div>\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">UF</span>\r\n                        <input\r\n                                class=\"input readonly\"\r\n                                placeholder=\"—\"\r\n                                [formControl]=\"transporteForm.controls.destinoUf\" />\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">Cidade</span>\r\n                        <input\r\n                                class=\"input readonly\"\r\n                                placeholder=\"—\"\r\n                                [formControl]=\"transporteForm.controls.destinoCidade\" />\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- PESO + DIMENSÕES -->\r\n        <div class=\"grid three\" style=\"margin-top:12px;\">\r\n            <!-- Peso -->\r\n            <label>\r\n                <span class=\"small\">Peso (kg)</span>\r\n                <input\r\n                        class=\"input\"\r\n                        type=\"number\"\r\n                        min=\"0.3\"\r\n                        [max]=\"MAX_PESO\"\r\n                        step=\"0.1\"\r\n                        placeholder=\"Ex.: 1.5\"\r\n                        [formControl]=\"transporteForm.controls.pesoKg\"\r\n                        (input)=\"onPesoInput()\" />\r\n                <div class=\"hint-row\">\r\n          <span class=\"small error\" *ngIf=\"pesoAcimaLimite\">\r\n            O limite para cálculo automático é {{ MAX_PESO }} kg. Informe manualmente o valor do transporte fora desta janela.\r\n          </span>\r\n                    <span class=\"small muted\" *ngIf=\"!pesoAcimaLimite\">\r\n            * Correios normalmente aceitam ~0,3 a 30 kg.\r\n          </span>\r\n                </div>\r\n            </label>\r\n\r\n            <!-- Altura -->\r\n            <label>\r\n                <span class=\"small\">Altura (cm)</span>\r\n                <input\r\n                        class=\"input\"\r\n                        type=\"number\"\r\n                        min=\"1\"\r\n                        step=\"1\"\r\n                        [placeholder]=\"DEFAULT_PKG.height.toString()\"\r\n                        [formControl]=\"transporteForm.controls.alturaCm\" />\r\n                <div class=\"hint-row\">\r\n                    <span class=\"small muted\">Padrão: {{ DEFAULT_PKG.height }} cm</span>\r\n                </div>\r\n            </label>\r\n\r\n            <!-- Largura -->\r\n            <label>\r\n                <span class=\"small\">Largura (cm)</span>\r\n                <input\r\n                        class=\"input\"\r\n                        type=\"number\"\r\n                        min=\"1\"\r\n                        step=\"1\"\r\n                        [placeholder]=\"DEFAULT_PKG.width.toString()\"\r\n                        [formControl]=\"transporteForm.controls.larguraCm\" />\r\n                <div class=\"hint-row\">\r\n                    <span class=\"small muted\">Padrão: {{ DEFAULT_PKG.width }} cm</span>\r\n                </div>\r\n            </label>\r\n        </div>\r\n\r\n        <!-- Comprimento em linha separada pra respiro -->\r\n        <div class=\"grid one\">\r\n            <label>\r\n                <span class=\"small\">Comprimento (cm)</span>\r\n                <input\r\n                        class=\"input\"\r\n                        type=\"number\"\r\n                        min=\"1\"\r\n                        step=\"1\"\r\n                        [placeholder]=\"DEFAULT_PKG.length.toString()\"\r\n                        [formControl]=\"transporteForm.controls.comprimentoCm\" />\r\n                <div class=\"hint-row\">\r\n                    <span class=\"small muted\">Padrão: {{ DEFAULT_PKG.length }} cm</span>\r\n                </div>\r\n            </label>\r\n        </div>\r\n\r\n        <div class=\"actions\">\r\n            <!-- Mensagens à esquerda -->\r\n            <span class=\"small error\" *ngIf=\"pesoAcimaLimite\" style=\"margin-right:auto;\">\r\n        Peso informado ({{ transporteForm.value.pesoKg || 0 }} kg) excede {{ MAX_PESO }} kg.\r\n      </span>\r\n            <span class=\"small error\" *ngIf=\"apiError && !pesoAcimaLimite\" style=\"margin-right:auto;\">\r\n        {{ apiError }}\r\n      </span>\r\n\r\n            <!-- Botões -->\r\n            <button class=\"btn btn-ghost\" type=\"button\" (click)=\"limparFreteForm()\">Limpar</button>\r\n            <button class=\"btn btn-ghost\" type=\"button\" (click)=\"closeModal()\">Cancelar</button>\r\n            <button\r\n                    class=\"btn\"\r\n                    type=\"button\"\r\n                    [disabled]=\"loading || transporteForm.invalid || pesoAcimaLimite\"\r\n                    (click)=\"calcularFrete()\">\r\n                {{ loading ? 'Calculando…' : 'Calcular frete' }}\r\n            </button>\r\n            <button\r\n                    class=\"btn btn-primary\"\r\n                    type=\"button\"\r\n                    [disabled]=\"!frete || pesoAcimaLimite\"\r\n                    (click)=\"aplicarFrete()\">\r\n                Aplicar ao orçamento\r\n            </button>\r\n        </div>\r\n\r\n        <!-- RESULTADO -->\r\n        <div class=\"quote\" *ngIf=\"frete\">\r\n            <div class=\"small\">Resultado</div>\r\n            <div class=\"pill\">Valor: {{ frete.valor | currency:'BRL':'symbol':'1.2-2' }}</div>\r\n            <div class=\"pill\" *ngIf=\"frete?.prazoDias != null\">Prazo: {{ frete?.prazoDias }} dia(s)</div>\r\n\r\n            <div class=\"small muted\" *ngIf=\"frete.servicos?.length\" style=\"width:100%; margin-top:8px;\">Detalhe por serviço:</div>\r\n            <table class=\"servicos\" *ngIf=\"frete.servicos?.length\">\r\n                <thead>\r\n                <tr><th>Serviço</th><th>Prazo</th><th>Valor</th></tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr *ngFor=\"let s of frete.servicos\">\r\n                    <td>{{ s.nome || s.codigo }}</td>\r\n                    <td>{{ s.prazoDias ?? '-' }} d</td>\r\n                    <td>{{ s.valor | currency:'BRL':'symbol':'1.2-2' }}</td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <p class=\"note\">\r\n                Valores <b>estimados</b> por {{ freteFonte || 'parceiro de frete' }} a partir dos dados informados\r\n                (CEPs, peso e dimensões). São cotações indicativas e podem variar no ato da contratação/postagem.\r\n                Se preferir, <b>informe um valor manual</b> no campo de transporte fora desta janela — esse valor\r\n                terá prioridade sobre a cotação.\r\n            </p>\r\n        </div>\r\n    </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}