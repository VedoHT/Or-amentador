{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class AuthService {\n  constructor() {\n    this.KEY = 'wizard_auth_user';\n  }\n  get currentUser() {\n    const raw = localStorage.getItem(this.KEY);\n    return raw ? JSON.parse(raw) : null;\n  }\n  isLoggedIn() {\n    return !!this.currentUser;\n  }\n  login(email, _password) {\n    // mock: aceita qualquer senha; gera id a partir do email\n    const id = 'u_' + btoa(email).replace(/=+$/, '');\n    const user = {\n      id,\n      email\n    };\n    localStorage.setItem(this.KEY, JSON.stringify(user));\n    return user;\n  }\n  logout() {\n    localStorage.removeItem(this.KEY);\n  }\n  getUserId() {\n    return this.currentUser?.id ?? null;\n  }\n  static {\n    this.ɵfac = function AuthService_Factory(t) {\n      return new (t || AuthService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: AuthService,\n      factory: AuthService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["AuthService","constructor","KEY","currentUser","raw","localStorage","getItem","JSON","parse","isLoggedIn","login","email","_password","id","btoa","replace","user","setItem","stringify","logout","removeItem","getUserId","factory","ɵfac","providedIn"],"sources":["G:\\Estudos\\Angular\\Orcamentador\\src\\app\\services\\auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\nexport interface User {\r\n    id: string; // ex.: hash do email\r\n    email: string;\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthService {\r\n    private KEY = 'wizard_auth_user';\r\n\r\n    get currentUser(): User | null {\r\n        const raw = localStorage.getItem(this.KEY);\r\n        return raw ? JSON.parse(raw) as User : null;\r\n    }\r\n\r\n    isLoggedIn(): boolean {\r\n        return !!this.currentUser;\r\n    }\r\n\r\n    login(email: string, _password: string): User {\r\n        // mock: aceita qualquer senha; gera id a partir do email\r\n        const id = 'u_' + btoa(email).replace(/=+$/,'');\r\n        const user: User = { id, email };\r\n        localStorage.setItem(this.KEY, JSON.stringify(user));\r\n        return user;\r\n    }\r\n\r\n    logout() {\r\n        localStorage.removeItem(this.KEY);\r\n    }\r\n\r\n    getUserId(): string | null {\r\n        return this.currentUser?.id ?? null;\r\n    }\r\n}\r\n"],"mappings":";AAQA,OAAM,MAAOA,WAAW;EADxBC,YAAA;IAEY,KAAAC,GAAG,GAAG,kBAAkB;;EAEhC,IAAIC,WAAWA,CAAA;IACX,MAAMC,GAAG,GAAGC,YAAY,CAACC,OAAO,CAAC,IAAI,CAACJ,GAAG,CAAC;IAC1C,OAAOE,GAAG,GAAGG,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAS,GAAG,IAAI;EAC/C;EAEAK,UAAUA,CAAA;IACN,OAAO,CAAC,CAAC,IAAI,CAACN,WAAW;EAC7B;EAEAO,KAAKA,CAACC,KAAa,EAAEC,SAAiB;IAClC;IACA,MAAMC,EAAE,GAAG,IAAI,GAAGC,IAAI,CAACH,KAAK,CAAC,CAACI,OAAO,CAAC,KAAK,EAAC,EAAE,CAAC;IAC/C,MAAMC,IAAI,GAAS;MAAEH,EAAE;MAAEF;IAAK,CAAE;IAChCN,YAAY,CAACY,OAAO,CAAC,IAAI,CAACf,GAAG,EAAEK,IAAI,CAACW,SAAS,CAACF,IAAI,CAAC,CAAC;IACpD,OAAOA,IAAI;EACf;EAEAG,MAAMA,CAAA;IACFd,YAAY,CAACe,UAAU,CAAC,IAAI,CAAClB,GAAG,CAAC;EACrC;EAEAmB,SAASA,CAAA;IACL,OAAO,IAAI,CAAClB,WAAW,EAAEU,EAAE,IAAI,IAAI;EACvC;;;uBA1BSb,WAAW;IAAA;EAAA;;;aAAXA,WAAW;MAAAsB,OAAA,EAAXtB,WAAW,CAAAuB,IAAA;MAAAC,UAAA,EADE;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}