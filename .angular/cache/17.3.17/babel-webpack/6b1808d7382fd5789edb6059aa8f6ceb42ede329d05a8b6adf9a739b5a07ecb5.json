{"ast":null,"code":"import _asyncToGenerator from \"G:/Estudos/Angular/Orcamentador/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { catchError, debounceTime, distinctUntilChanged, filter, map, of, switchMap, tap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/common\";\nfunction Step9CustosAdicionaisComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.openModal());\n    });\n    i0.ɵɵtext(1, \" Configurar / calcular \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"label\", 12)(2, \"span\", 13);\n    i0.ɵɵtext(3, \"Valor de transporte (opcional)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 14);\n    i0.ɵɵelementStart(5, \"span\", 15);\n    i0.ɵɵtext(6, \"Se preencher, \");\n    i0.ɵɵelementStart(7, \"b\");\n    i0.ɵɵtext(8, \"substitui\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \" o valor calculado.\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"mask\", \"separator.2\")(\"thousandSeparator\", \".\")(\"prefix\", \"R$ \")(\"dropSpecialCharacters\", true)(\"allowNegativeNumbers\", false)(\"formControl\", ctx_r1.transporteForm.controls.valorManual);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Valor (manual): \", i0.ɵɵpipeBind4(3, 1, ctx_r1.valorManual, \"BRL\", \"symbol\", \"1.2-2\"), \"\");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_ng_template_4_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Valor (calculado): \", i0.ɵɵpipeBind4(2, 1, ctx_r1.frete == null ? null : ctx_r1.frete.valor, \"BRL\", \"symbol\", \"1.2-2\"), \" \");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_ng_template_4_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1, \"Aguardando c\\u00E1lculo\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, Step9CustosAdicionaisComponent_div_9_ng_template_4_div_0_Template, 3, 6, \"div\", 20)(1, Step9CustosAdicionaisComponent_div_9_ng_template_4_ng_template_1_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const aguardando_r3 = i0.ɵɵreference(2);\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.frete)(\"ngIfElse\", aguardando_r3);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Dist\\u00E2ncia: \", i0.ɵɵpipeBind2(2, 1, ctx_r1.frete == null ? null : ctx_r1.frete.distanciaKm, \"1.0-0\"), \" km\");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"div\", 13);\n    i0.ɵɵtext(2, \"Transporte\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, Step9CustosAdicionaisComponent_div_9_ng_container_3_Template, 4, 6, \"ng-container\", 17)(4, Step9CustosAdicionaisComponent_div_9_ng_template_4_Template, 3, 2, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor)(6, Step9CustosAdicionaisComponent_div_9_div_6_Template, 3, 4, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const calcado_r4 = i0.ɵɵreference(5);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.valorManual && ctx_r1.valorManual > 0)(\"ngIfElse\", calcado_r4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.frete);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_10_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 28);\n    i0.ɵɵtext(1, \"Buscando CEP\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_10_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.cepOrigemErro);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_10_span_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 28);\n    i0.ɵɵtext(1, \"Buscando CEP\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_10_span_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.cepDestinoErro);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_10_span_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.apiError);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_10_div_89_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56)(1, \"div\", 13);\n    i0.ɵɵtext(2, \"Resultado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 19);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 28);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\", 57);\n    i0.ɵɵtext(14, \" Valores de fretes calculados a partir do c\\u00E1lculo indicado para transportes ANTT (\");\n    i0.ɵɵelementStart(15, \"b\");\n    i0.ɵɵtext(16, \"Voc\\u00EA pode digitar o valor manualmente fora desta janela\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"). \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Dist\\u00E2ncia: \", i0.ɵɵpipeBind2(5, 6, ctx_r1.frete.distanciaKm, \"1.0-0\"), \" km\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Valor: \", i0.ɵɵpipeBind4(8, 9, ctx_r1.frete.valor, \"BRL\", \"symbol\", \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate4(\" CCD \", i0.ɵɵpipeBind2(11, 14, ctx_r1.frete.parametros.ccd, \"1.2-2\"), \" \\u2022 CC \", i0.ɵɵpipeBind4(12, 17, ctx_r1.frete.parametros.cc, \"BRL\", \"symbol\", \"1.2-2\"), \" \\u2022 Ve\\u00EDculo: \", ctx_r1.frete.parametros.tipoVeiculo, \" \\u2022 Carga: \", ctx_r1.frete.parametros.tipoCarga, \" \");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_10_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeModal());\n    });\n    i0.ɵɵelementStart(1, \"div\", 23);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_10_Template_div_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementStart(2, \"div\", 24)(3, \"h4\");\n    i0.ɵɵtext(4, \"Calculadora de frete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_10_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeModal());\n    });\n    i0.ɵɵtext(6, \"\\u00D7\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 26)(8, \"div\", 27)(9, \"div\", 28);\n    i0.ɵɵtext(10, \"Endere\\u00E7o de origem\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 29)(12, \"label\")(13, \"span\", 13);\n    i0.ɵɵtext(14, \"CEP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 30);\n    i0.ɵɵelementStart(16, \"div\", 31);\n    i0.ɵɵtemplate(17, Step9CustosAdicionaisComponent_div_10_span_17_Template, 2, 0, \"span\", 32)(18, Step9CustosAdicionaisComponent_div_10_span_18_Template, 2, 1, \"span\", 33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"label\")(20, \"span\", 13);\n    i0.ɵɵtext(21, \"UF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"input\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"label\")(24, \"span\", 13);\n    i0.ɵɵtext(25, \"Cidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(26, \"input\", 34);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 27)(28, \"div\", 28);\n    i0.ɵɵtext(29, \"Endere\\u00E7o de destino\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 29)(31, \"label\")(32, \"span\", 13);\n    i0.ɵɵtext(33, \"CEP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(34, \"input\", 30);\n    i0.ɵɵelementStart(35, \"div\", 31);\n    i0.ɵɵtemplate(36, Step9CustosAdicionaisComponent_div_10_span_36_Template, 2, 0, \"span\", 32)(37, Step9CustosAdicionaisComponent_div_10_span_37_Template, 2, 1, \"span\", 33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"label\")(39, \"span\", 13);\n    i0.ɵɵtext(40, \"UF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(41, \"input\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"label\")(43, \"span\", 13);\n    i0.ɵɵtext(44, \"Cidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(45, \"input\", 34);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(46, \"div\", 35)(47, \"label\")(48, \"span\", 13);\n    i0.ɵɵtext(49, \"Peso (kg)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(50, \"input\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"label\")(52, \"span\", 13);\n    i0.ɵɵtext(53, \"Tipo de Ve\\u00EDculo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"select\", 37)(55, \"option\", 38);\n    i0.ɵɵtext(56, \"Leve (Fiorino/Picape)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"option\", 39);\n    i0.ɵɵtext(58, \"Toco \\u2014 2 eixos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"option\", 40);\n    i0.ɵɵtext(60, \"Truck \\u2014 3 eixos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"option\", 41);\n    i0.ɵɵtext(62, \"Carreta \\u2014 5 eixos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"option\", 42);\n    i0.ɵɵtext(64, \"Bitrem \\u2014 7 eixos\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(65, \"label\")(66, \"span\", 13);\n    i0.ɵɵtext(67, \"Tipo de Carga\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(68, \"select\", 37)(69, \"option\", 43);\n    i0.ɵɵtext(70, \"Carga geral\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(71, \"option\", 44);\n    i0.ɵɵtext(72, \"Frigorificada\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(73, \"option\", 45);\n    i0.ɵɵtext(74, \"Perigosa\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(75, \"option\", 46);\n    i0.ɵɵtext(76, \"Alto valor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(77, \"option\", 47);\n    i0.ɵɵtext(78, \"Granel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(79, \"option\", 48);\n    i0.ɵɵtext(80, \"Fr\\u00E1gil\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(81, \"div\", 49);\n    i0.ɵɵtemplate(82, Step9CustosAdicionaisComponent_div_10_span_82_Template, 2, 1, \"span\", 50);\n    i0.ɵɵelementStart(83, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_10_Template_button_click_83_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeModal());\n    });\n    i0.ɵɵtext(84, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(85, \"button\", 51);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_10_Template_button_click_85_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.calcularFrete());\n    });\n    i0.ɵɵtext(86);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(87, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_10_Template_button_click_87_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.aplicarFrete());\n    });\n    i0.ɵɵtext(88, \"Aplicar ao or\\u00E7amento\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(89, Step9CustosAdicionaisComponent_div_10_div_89_Template, 18, 22, \"div\", 53);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.origemCep);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.buscandoOrigem);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.cepOrigemErro);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.origemUf);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.origemCidade);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.destinoCep);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.buscandoDestino);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.cepDestinoErro);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.destinoUf);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.destinoCidade);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.pesoKg);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.tipoVeiculo);\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.tipoCarga);\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.apiError);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.loading || ctx_r1.transporteForm.invalid);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.loading ? \"Calculando\\u2026\" : \"Calcular frete\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.frete);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.frete);\n  }\n}\nexport class Step9CustosAdicionaisComponent {\n  constructor(fb, httpBackend) {\n    this.fb = fb;\n    this.changed = new EventEmitter();\n    this.form = this.fb.group({\n      nomeCompleto: ['', [Validators.required, Validators.minLength(3)]],\n      incluirTransporte: [false]\n    });\n    this.transporteForm = this.fb.group({\n      // ORIGEM\n      origemCep: ['', [Validators.required, Validators.minLength(8)]],\n      origemUf: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\n      origemCidade: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2)]],\n      // DESTINO\n      destinoCep: ['', [Validators.required, Validators.minLength(8)]],\n      destinoUf: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\n      destinoCidade: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2)]],\n      // CAMPOS DE CÁLCULO\n      pesoKg: [null, [Validators.required, Validators.min(1), Validators.max(100000)]],\n      tipoVeiculo: ['toco_2eixos', Validators.required],\n      tipoCarga: ['carga_geral', Validators.required],\n      // VALOR MANUAL (fora da modal)\n      valorManual: [null]\n    });\n    this.modalOpen = false;\n    this.loading = false;\n    // status CEP\n    this.buscandoOrigem = false;\n    this.buscandoDestino = false;\n    this.cepOrigemErro = '';\n    this.cepDestinoErro = '';\n    this.apiError = '';\n    this.httpRaw = new HttpClient(httpBackend);\n  }\n  ngOnInit() {\n    // CEP watchers → ViaCEP (sem interceptors/credenciais)\n    this.watchCep('origemCep', 'origemUf', 'origemCidade', b => this.buscandoOrigem = b, e => this.cepOrigemErro = e);\n    this.watchCep('destinoCep', 'destinoUf', 'destinoCidade', b => this.buscandoDestino = b, e => this.cepDestinoErro = e);\n    // Emite ao mudar valor manual\n    this.transporteForm.controls.valorManual.valueChanges.pipe(debounceTime(150)).subscribe(() => this.emit());\n  }\n  // CEP → ViaCEP\n  watchCep(ctrlCep, ctrlUf, ctrlCidade, setBusy, setErr) {\n    const cepCtrl = this.transporteForm.controls[ctrlCep];\n    cepCtrl.valueChanges.pipe(map(v => (v || '').toString().replace(/\\D/g, '')), tap(v => {\n      if (v !== cepCtrl.value) cepCtrl.setValue(v, {\n        emitEvent: false\n      });\n    }), debounceTime(250), distinctUntilChanged(), tap(() => setErr('')), filter(v => v.length >= 8), tap(() => setBusy(true)), switchMap(cep => this.httpRaw.get(`https://viacep.com.br/ws/${cep}/json/`, {\n      withCredentials: false\n    }).pipe(catchError(() => of(null)), tap(() => setBusy(false))))).subscribe(resp => {\n      if (!resp || resp.erro) {\n        this.transporteForm.patchValue({\n          [ctrlUf]: '',\n          [ctrlCidade]: ''\n        }, {\n          emitEvent: false\n        });\n        setErr('CEP não encontrado');\n        return;\n      }\n      this.transporteForm.patchValue({\n        [ctrlUf]: (resp.uf || '').toUpperCase(),\n        [ctrlCidade]: resp.localidade || ''\n      }, {\n        emitEvent: false\n      });\n      setErr('');\n    });\n  }\n  // ======= UI principal =======\n  onToggleTransporte() {\n    // Agora NÃO abrimos a modal automaticamente.\n    this.emit();\n  }\n  openModal() {\n    this.modalOpen = true;\n    this.apiError = '';\n  }\n  closeModal() {\n    this.modalOpen = false;\n  }\n  calcularFrete() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.transporteForm.invalid) return;\n      _this.loading = true;\n      _this.apiError = '';\n      try {\n        const raw = _this.transporteForm.getRawValue();\n        const body = {\n          origem: {\n            cep: raw.origemCep.trim(),\n            uf: raw.origemUf.toString().toUpperCase(),\n            cidade: raw.origemCidade\n          },\n          destino: {\n            cep: raw.destinoCep.trim(),\n            uf: raw.destinoUf.toString().toUpperCase(),\n            cidade: raw.destinoCidade\n          },\n          pesoKg: Number(raw.pesoKg),\n          tipoVeiculo: raw.tipoVeiculo,\n          tipoCarga: raw.tipoCarga,\n          retornoVazio: false\n        };\n        const res = yield fetch('/Orcamentos/CalcularFrete', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          credentials: 'include',\n          body: JSON.stringify(body)\n        });\n        if (!res.ok) {\n          const err = yield res.json().catch(() => ({}));\n          _this.apiError = err?.mensagem || 'Falha no cálculo.';\n          _this.frete = undefined;\n        } else {\n          _this.frete = yield res.json();\n        }\n      } catch {\n        _this.frete = undefined;\n        _this.apiError = 'Não foi possível calcular o frete agora.';\n      } finally {\n        _this.loading = false;\n        _this.emit(); // atualiza custo selecionado\n      }\n    })();\n  }\n  aplicarFrete() {\n    if (!this.frete) return;\n    this.modalOpen = false;\n    this.emit();\n  }\n  // Helpers de valor selecionado\n  get valorManual() {\n    const v = this.transporteForm.value.valorManual;\n    if (v === null || v === undefined || v === '') return null;\n    const n = Number(v);\n    return isNaN(n) ? null : n;\n  }\n  custoSelecionado() {\n    if (this.form.value.incluirTransporte !== true) return undefined;\n    if (this.valorManual && this.valorManual > 0) return this.valorManual;\n    return this.frete?.valor;\n  }\n  emit() {\n    this.changed.emit({\n      nomeCompleto: (this.form.value.nomeCompleto || '').trim(),\n      incluirTransporte: this.form.value.incluirTransporte === true,\n      custoTransporte: this.custoSelecionado(),\n      frete: this.frete\n    });\n  }\n  static {\n    this.ɵfac = function Step9CustosAdicionaisComponent_Factory(t) {\n      return new (t || Step9CustosAdicionaisComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpBackend));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: Step9CustosAdicionaisComponent,\n      selectors: [[\"app-step9-custos-adicionais\"]],\n      outputs: {\n        changed: \"changed\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 11,\n      vars: 5,\n      consts: [[\"calcado\", \"\"], [\"aguardando\", \"\"], [1, \"card\", \"grid\", 2, \"gap\", \"12px\"], [1, \"title\"], [1, \"row\"], [\"type\", \"checkbox\", 3, \"change\", \"formControl\"], [\"class\", \"btn btn-ghost sm push-right\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"manual\", 4, \"ngIf\"], [\"class\", \"resumo\", 4, \"ngIf\"], [\"class\", \"modal\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-ghost\", \"sm\", \"push-right\", 3, \"click\"], [1, \"manual\"], [1, \"col\"], [1, \"small\"], [\"type\", \"text\", \"inputmode\", \"numeric\", \"placeholder\", \"R$ 0,00\", 1, \"input\", 3, \"mask\", \"thousandSeparator\", \"prefix\", \"dropSpecialCharacters\", \"allowNegativeNumbers\", \"formControl\"], [1, \"field-hint\", \"small\"], [1, \"resumo\"], [4, \"ngIf\", \"ngIfElse\"], [\"class\", \"pill\", 4, \"ngIf\"], [1, \"pill\"], [\"class\", \"pill\", 4, \"ngIf\", \"ngIfElse\"], [1, \"pill\", \"muted\"], [1, \"modal\", 3, \"click\"], [1, \"modal-inner\", 3, \"click\"], [1, \"modal-head\"], [1, \"btn\", \"btn-ghost\", 3, \"click\"], [1, \"grid\", \"two\"], [1, \"card\"], [1, \"small\", \"muted\"], [1, \"grid\", \"three\"], [\"inputmode\", \"numeric\", \"placeholder\", \"00000000\", 1, \"input\", 3, \"formControl\"], [1, \"hint-row\"], [\"class\", \"small muted\", 4, \"ngIf\"], [\"class\", \"small error\", 4, \"ngIf\"], [\"placeholder\", \"\\u2014\", 1, \"input\", \"readonly\", 3, \"formControl\"], [1, \"grid\", \"three\", 2, \"margin-top\", \"12px\"], [\"type\", \"number\", \"min\", \"1\", \"max\", \"100000\", \"placeholder\", \"Ex.: 1500\", 1, \"input\", 3, \"formControl\"], [1, \"input\", 3, \"formControl\"], [\"value\", \"leve\"], [\"value\", \"toco_2eixos\"], [\"value\", \"truck_3eixos\"], [\"value\", \"carreta_5eixos\"], [\"value\", \"bitrem_7eixos\"], [\"value\", \"carga_geral\"], [\"value\", \"frigorificada\"], [\"value\", \"perigosa\"], [\"value\", \"valor\"], [\"value\", \"granel\"], [\"value\", \"fragil\"], [1, \"actions\"], [\"class\", \"small error\", \"style\", \"margin-right:auto;\", 4, \"ngIf\"], [1, \"btn\", 3, \"click\", \"disabled\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [\"class\", \"quote\", 4, \"ngIf\"], [1, \"small\", \"error\"], [1, \"small\", \"error\", 2, \"margin-right\", \"auto\"], [1, \"quote\"], [1, \"note\"]],\n      template: function Step9CustosAdicionaisComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 2)(1, \"h3\", 3);\n          i0.ɵɵtext(2, \"Custos adicionais\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"label\", 4)(4, \"input\", 5);\n          i0.ɵɵlistener(\"change\", function Step9CustosAdicionaisComponent_Template_input_change_4_listener() {\n            return ctx.onToggleTransporte();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"span\");\n          i0.ɵɵtext(6, \"Transporte\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(7, Step9CustosAdicionaisComponent_button_7_Template, 2, 0, \"button\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(8, Step9CustosAdicionaisComponent_div_8_Template, 10, 6, \"div\", 7)(9, Step9CustosAdicionaisComponent_div_9_Template, 7, 3, \"div\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(10, Step9CustosAdicionaisComponent_div_10_Template, 90, 18, \"div\", 9);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"formControl\", ctx.form.controls.incluirTransporte);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.form.value.incluirTransporte);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.form.value.incluirTransporte);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.form.value.incluirTransporte);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.modalOpen);\n        }\n      },\n      dependencies: [CommonModule, i3.NgIf, i3.DecimalPipe, i3.CurrencyPipe, ReactiveFormsModule, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.CheckboxControlValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.MinValidator, i1.MaxValidator, i1.FormControlDirective, HttpClientModule],\n      styles: [\".title[_ngcontent-%COMP%] { margin: 0; }\\n.row[_ngcontent-%COMP%] { display:flex; align-items:center; gap:8px; }\\n.row[_ngcontent-%COMP%]   .push-right[_ngcontent-%COMP%] { margin-left:auto; }\\n.col[_ngcontent-%COMP%] { display:flex; flex-direction:column; gap:6px; }\\n.input[_ngcontent-%COMP%] { width:100%; }\\n.input.readonly[_ngcontent-%COMP%] { background: color-mix(in oklab, var(--bg-2) 55%, transparent); cursor: not-allowed; }\\n.divider[_ngcontent-%COMP%] { height:1px; background:var(--border); opacity:.6; }\\n\\n.manual[_ngcontent-%COMP%] { margin-top:6px; }\\n\\n.resumo[_ngcontent-%COMP%] { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }\\n.pill[_ngcontent-%COMP%] { border:1px solid var(--border); border-radius:9999px; padding:4px 10px; background:color-mix(in oklab, var(--bg-2) 60%, transparent); }\\n.pill.muted[_ngcontent-%COMP%] { opacity:.7; }\\n\\n.grid.two[_ngcontent-%COMP%] { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:12px; }\\n.grid.three[_ngcontent-%COMP%] { display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; }\\n.small.muted[_ngcontent-%COMP%] { opacity:.8; }\\n.small.error[_ngcontent-%COMP%] { color:#ff6b6b; }\\n.hint-row[_ngcontent-%COMP%] { display:flex; gap:8px; min-height:18px; }\\n\\n.modal[_ngcontent-%COMP%] { position:fixed; inset:0; background:rgba(0,0,0,.6); display:flex; align-items:center; justify-content:center; z-index:1000; }\\n.modal-inner[_ngcontent-%COMP%] { width:min(980px, 96vw); background:var(--bg); border:1px solid var(--border); border-radius:12px; padding:16px; }\\n.modal-head[_ngcontent-%COMP%] { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }\\n.actions[_ngcontent-%COMP%] { display:flex; gap:8px; align-items:center; justify-content:flex-end; margin-top:12px; }\\n.quote[_ngcontent-%COMP%] { margin-top:10px; display:flex; gap:8px; align-items:center; flex-wrap:wrap; }\\n.note[_ngcontent-%COMP%] { margin-top:8px; font-size: .9rem; opacity:.9; }\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvd2l6YXJkL3Bhc3NvOS1jdXN0b3MtYWRpY2lvbmFpcy9wYXNzbzktY3VzdG9zLWFkaWNpb25haXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLFNBQVMsRUFBRTtBQUNwQixPQUFPLFlBQVksRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEVBQUU7QUFDbEQsbUJBQW1CLGdCQUFnQixFQUFFO0FBQ3JDLE9BQU8sWUFBWSxFQUFFLHFCQUFxQixFQUFFLE9BQU8sRUFBRTtBQUNyRCxTQUFTLFVBQVUsRUFBRTtBQUNyQixrQkFBa0IsNkRBQTZELEVBQUUsbUJBQW1CLEVBQUU7QUFDdEcsV0FBVyxVQUFVLEVBQUUsd0JBQXdCLEVBQUUsVUFBVSxFQUFFOztBQUU3RCxVQUFVLGNBQWMsRUFBRTs7QUFFMUIsVUFBVSxZQUFZLEVBQUUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLGNBQWMsRUFBRTtBQUNyRSxRQUFRLDhCQUE4QixFQUFFLG9CQUFvQixFQUFFLGdCQUFnQixFQUFFLDREQUE0RCxFQUFFO0FBQzlJLGNBQWMsVUFBVSxFQUFFOztBQUUxQixZQUFZLFlBQVksRUFBRSwyREFBMkQsRUFBRSxRQUFRLEVBQUU7QUFDakcsY0FBYyxZQUFZLEVBQUUscUNBQXFDLEVBQUUsT0FBTyxFQUFFO0FBQzVFLGVBQWUsVUFBVSxFQUFFO0FBQzNCLGVBQWUsYUFBYSxFQUFFO0FBQzlCLFlBQVksWUFBWSxFQUFFLE9BQU8sRUFBRSxlQUFlLEVBQUU7O0FBRXBELFNBQVMsY0FBYyxFQUFFLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxZQUFZLEVBQUUsa0JBQWtCLEVBQUUsc0JBQXNCLEVBQUUsWUFBWSxFQUFFO0FBQ3JJLGVBQWUsc0JBQXNCLEVBQUUsb0JBQW9CLEVBQUUsOEJBQThCLEVBQUUsa0JBQWtCLEVBQUUsWUFBWSxFQUFFO0FBQy9ILGNBQWMsWUFBWSxFQUFFLGtCQUFrQixFQUFFLDZCQUE2QixFQUFFLGlCQUFpQixFQUFFO0FBQ2xHLFdBQVcsWUFBWSxFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSx3QkFBd0IsRUFBRSxlQUFlLEVBQUU7QUFDakcsU0FBUyxlQUFlLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxjQUFjLEVBQUU7QUFDckYsUUFBUSxjQUFjLEVBQUUsZ0JBQWdCLEVBQUUsVUFBVSxFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiLnRpdGxlIHsgbWFyZ2luOiAwOyB9XHJcbi5yb3cgeyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjhweDsgfVxyXG4ucm93IC5wdXNoLXJpZ2h0IHsgbWFyZ2luLWxlZnQ6YXV0bzsgfVxyXG4uY29sIHsgZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjpjb2x1bW47IGdhcDo2cHg7IH1cclxuLmlucHV0IHsgd2lkdGg6MTAwJTsgfVxyXG4uaW5wdXQucmVhZG9ubHkgeyBiYWNrZ3JvdW5kOiBjb2xvci1taXgoaW4gb2tsYWIsIHZhcigtLWJnLTIpIDU1JSwgdHJhbnNwYXJlbnQpOyBjdXJzb3I6IG5vdC1hbGxvd2VkOyB9XHJcbi5kaXZpZGVyIHsgaGVpZ2h0OjFweDsgYmFja2dyb3VuZDp2YXIoLS1ib3JkZXIpOyBvcGFjaXR5Oi42OyB9XHJcblxyXG4ubWFudWFsIHsgbWFyZ2luLXRvcDo2cHg7IH1cclxuXHJcbi5yZXN1bW8geyBkaXNwbGF5OmZsZXg7IGdhcDo4cHg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZmxleC13cmFwOndyYXA7IH1cclxuLnBpbGwgeyBib3JkZXI6MXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6OTk5OXB4OyBwYWRkaW5nOjRweCAxMHB4OyBiYWNrZ3JvdW5kOmNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYmctMikgNjAlLCB0cmFuc3BhcmVudCk7IH1cclxuLnBpbGwubXV0ZWQgeyBvcGFjaXR5Oi43OyB9XHJcblxyXG4uZ3JpZC50d28geyBkaXNwbGF5OmdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjYwcHgsIDFmcikpOyBnYXA6MTJweDsgfVxyXG4uZ3JpZC50aHJlZSB7IGRpc3BsYXk6Z3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgMWZyKTsgZ2FwOjhweDsgfVxyXG4uc21hbGwubXV0ZWQgeyBvcGFjaXR5Oi44OyB9XHJcbi5zbWFsbC5lcnJvciB7IGNvbG9yOiNmZjZiNmI7IH1cclxuLmhpbnQtcm93IHsgZGlzcGxheTpmbGV4OyBnYXA6OHB4OyBtaW4taGVpZ2h0OjE4cHg7IH1cclxuXHJcbi5tb2RhbCB7IHBvc2l0aW9uOmZpeGVkOyBpbnNldDowOyBiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjYpOyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OmNlbnRlcjsgei1pbmRleDoxMDAwOyB9XHJcbi5tb2RhbC1pbm5lciB7IHdpZHRoOm1pbig5ODBweCwgOTZ2dyk7IGJhY2tncm91bmQ6dmFyKC0tYmcpOyBib3JkZXI6MXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6MTJweDsgcGFkZGluZzoxNnB4OyB9XHJcbi5tb2RhbC1oZWFkIHsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOyBtYXJnaW4tYm90dG9tOjhweDsgfVxyXG4uYWN0aW9ucyB7IGRpc3BsYXk6ZmxleDsgZ2FwOjhweDsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7IG1hcmdpbi10b3A6MTJweDsgfVxyXG4ucXVvdGUgeyBtYXJnaW4tdG9wOjEwcHg7IGRpc3BsYXk6ZmxleDsgZ2FwOjhweDsgYWxpZ24taXRlbXM6Y2VudGVyOyBmbGV4LXdyYXA6d3JhcDsgfVxyXG4ubm90ZSB7IG1hcmdpbi10b3A6OHB4OyBmb250LXNpemU6IC45cmVtOyBvcGFjaXR5Oi45OyB9XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["EventEmitter","CommonModule","ReactiveFormsModule","Validators","HttpClient","HttpClientModule","catchError","debounceTime","distinctUntilChanged","filter","map","of","switchMap","tap","i0","ɵɵelementStart","ɵɵlistener","Step9CustosAdicionaisComponent_button_7_Template_button_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","openModal","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty","transporteForm","controls","valorManual","ɵɵelementContainerStart","ɵɵtextInterpolate1","ɵɵpipeBind4","frete","valor","ɵɵtemplate","Step9CustosAdicionaisComponent_div_9_ng_template_4_div_0_Template","Step9CustosAdicionaisComponent_div_9_ng_template_4_ng_template_1_Template","ɵɵtemplateRefExtractor","aguardando_r3","ɵɵpipeBind2","distanciaKm","Step9CustosAdicionaisComponent_div_9_ng_container_3_Template","Step9CustosAdicionaisComponent_div_9_ng_template_4_Template","Step9CustosAdicionaisComponent_div_9_div_6_Template","calcado_r4","ɵɵtextInterpolate","cepOrigemErro","cepDestinoErro","apiError","ɵɵtextInterpolate4","parametros","ccd","cc","tipoVeiculo","tipoCarga","Step9CustosAdicionaisComponent_div_10_Template_div_click_0_listener","_r5","closeModal","Step9CustosAdicionaisComponent_div_10_Template_div_click_1_listener","$event","stopPropagation","Step9CustosAdicionaisComponent_div_10_Template_button_click_5_listener","Step9CustosAdicionaisComponent_div_10_span_17_Template","Step9CustosAdicionaisComponent_div_10_span_18_Template","Step9CustosAdicionaisComponent_div_10_span_36_Template","Step9CustosAdicionaisComponent_div_10_span_37_Template","Step9CustosAdicionaisComponent_div_10_span_82_Template","Step9CustosAdicionaisComponent_div_10_Template_button_click_83_listener","Step9CustosAdicionaisComponent_div_10_Template_button_click_85_listener","calcularFrete","Step9CustosAdicionaisComponent_div_10_Template_button_click_87_listener","aplicarFrete","Step9CustosAdicionaisComponent_div_10_div_89_Template","origemCep","buscandoOrigem","origemUf","origemCidade","destinoCep","buscandoDestino","destinoUf","destinoCidade","pesoKg","loading","invalid","Step9CustosAdicionaisComponent","constructor","fb","httpBackend","changed","form","group","nomeCompleto","required","minLength","incluirTransporte","value","disabled","maxLength","min","max","modalOpen","httpRaw","ngOnInit","watchCep","b","e","valueChanges","pipe","subscribe","emit","ctrlCep","ctrlUf","ctrlCidade","setBusy","setErr","cepCtrl","v","toString","replace","setValue","emitEvent","length","cep","get","withCredentials","resp","erro","patchValue","uf","toUpperCase","localidade","onToggleTransporte","_this","_asyncToGenerator","raw","getRawValue","body","origem","trim","cidade","destino","Number","retornoVazio","res","fetch","method","headers","credentials","JSON","stringify","ok","err","json","catch","mensagem","undefined","n","isNaN","custoSelecionado","custoTransporte","ɵɵdirectiveInject","i1","FormBuilder","i2","HttpBackend","selectors","outputs","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","Step9CustosAdicionaisComponent_Template","rf","ctx","Step9CustosAdicionaisComponent_Template_input_change_4_listener","Step9CustosAdicionaisComponent_button_7_Template","Step9CustosAdicionaisComponent_div_8_Template","Step9CustosAdicionaisComponent_div_9_Template","Step9CustosAdicionaisComponent_div_10_Template","i3","NgIf","DecimalPipe","CurrencyPipe","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","NumberValueAccessor","CheckboxControlValueAccessor","SelectControlValueAccessor","NgControlStatus","MinValidator","MaxValidator","FormControlDirective","styles"],"sources":["G:\\Estudos\\Angular\\Orcamentador\\src\\app\\pages\\wizard\\passo9-custos-adicionais\\passo9-custos-adicionais.component.ts","G:\\Estudos\\Angular\\Orcamentador\\src\\app\\pages\\wizard\\passo9-custos-adicionais\\passo9-custos-adicionais.component.html"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { HttpClient, HttpClientModule, HttpBackend  } from '@angular/common/http';\r\nimport { catchError, debounceTime, distinctUntilChanged, filter, map, of, switchMap, tap } from 'rxjs';\r\nimport {CalcularFreteRequest, FreteQuote, FreteRequest } from 'src/app/models/orcamento.model';\r\nimport { OrcamentosService } from 'src/app/services/orcamentos.service';\r\n\r\n@Component({\r\n    standalone: true,\r\n    selector: 'app-step9-custos-adicionais',\r\n    imports: [CommonModule, ReactiveFormsModule, HttpClientModule],\r\n    templateUrl: './passo9-custos-adicionais.component.html',\r\n    styleUrls: ['./passo9-custos-adicionais.component.css']\r\n})\r\n\r\nexport class Step9CustosAdicionaisComponent implements OnInit {\r\n    @Output() changed = new EventEmitter<{\r\n        nomeCompleto: string;\r\n        incluirTransporte: boolean;\r\n        custoTransporte?: number;\r\n        frete?: FreteQuote;\r\n    }>();\r\n\r\n    constructor(\r\n        private fb: FormBuilder,\r\n        httpBackend: HttpBackend,\r\n    ) { this.httpRaw = new HttpClient(httpBackend); }\r\n\r\n    private httpRaw: HttpClient;\r\n\r\n    form = this.fb.group({\r\n        nomeCompleto: ['', [Validators.required, Validators.minLength(3)]],\r\n        incluirTransporte: [false],\r\n    });\r\n\r\n    transporteForm = this.fb.group({\r\n        // ORIGEM\r\n        origemCep: ['', [Validators.required, Validators.minLength(8)]],\r\n        origemUf: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\r\n        origemCidade: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2)]],\r\n        // DESTINO\r\n        destinoCep: ['', [Validators.required, Validators.minLength(8)]],\r\n        destinoUf: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\r\n        destinoCidade: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2)]],\r\n        // CAMPOS DE CÁLCULO\r\n        pesoKg: [null as number | null, [Validators.required, Validators.min(1), Validators.max(100000)]],\r\n        tipoVeiculo: ['toco_2eixos' as FreteRequest['tipoVeiculo'], Validators.required],\r\n        tipoCarga: ['carga_geral' as FreteRequest['tipoCarga'], Validators.required],\r\n        // VALOR MANUAL (fora da modal)\r\n        valorManual: [null as number | null]\r\n    });\r\n\r\n    modalOpen = false;\r\n    loading = false;\r\n    frete?: FreteQuote;\r\n\r\n    // status CEP\r\n    buscandoOrigem = false; buscandoDestino = false;\r\n    cepOrigemErro = ''; cepDestinoErro = '';\r\n    apiError = '';\r\n\r\n    ngOnInit(): void {\r\n        // CEP watchers → ViaCEP (sem interceptors/credenciais)\r\n        this.watchCep('origemCep','origemUf','origemCidade', b => this.buscandoOrigem = b, e => this.cepOrigemErro = e);\r\n        this.watchCep('destinoCep','destinoUf','destinoCidade', b => this.buscandoDestino = b, e => this.cepDestinoErro = e);\r\n\r\n        // Emite ao mudar valor manual\r\n        this.transporteForm.controls.valorManual.valueChanges!\r\n            .pipe(debounceTime(150))\r\n            .subscribe(() => this.emit());\r\n    }\r\n\r\n    // CEP → ViaCEP\r\n    private watchCep(\r\n        ctrlCep: 'origemCep'|'destinoCep', ctrlUf: 'origemUf'|'destinoUf', ctrlCidade: 'origemCidade'|'destinoCidade',\r\n        setBusy: (b:boolean)=>void, setErr: (m:string)=>void\r\n    ) {\r\n        const cepCtrl = this.transporteForm.controls[ctrlCep];\r\n        cepCtrl.valueChanges!.pipe(\r\n            map(v => (v || '').toString().replace(/\\D/g,'')),\r\n            tap(v => { if (v !== cepCtrl.value) cepCtrl.setValue(v, { emitEvent:false }); }),\r\n            debounceTime(250),\r\n            distinctUntilChanged(),\r\n            tap(() => setErr('')),\r\n            filter(v => v.length >= 8),\r\n            tap(() => setBusy(true)),\r\n            switchMap(cep => this.httpRaw.get<any>(`https://viacep.com.br/ws/${cep}/json/`, { withCredentials: false }).pipe(\r\n                catchError(() => of(null)),\r\n                tap(() => setBusy(false))\r\n            ))\r\n        ).subscribe(resp => {\r\n            if (!resp || resp.erro) {\r\n                this.transporteForm.patchValue({ [ctrlUf]: '', [ctrlCidade]: '' } as any, { emitEvent:false });\r\n                setErr('CEP não encontrado');\r\n                return;\r\n            }\r\n            this.transporteForm.patchValue(\r\n                { [ctrlUf]: (resp.uf || '').toUpperCase(), [ctrlCidade]: resp.localidade || '' } as any,\r\n                { emitEvent:false }\r\n            );\r\n            setErr('');\r\n        });\r\n    }\r\n\r\n    // ======= UI principal =======\r\n    onToggleTransporte() {\r\n        // Agora NÃO abrimos a modal automaticamente.\r\n        this.emit();\r\n    }\r\n\r\n    openModal() { this.modalOpen = true; this.apiError = ''; }\r\n    closeModal() { this.modalOpen = false; }\r\n\r\n    async calcularFrete() {\r\n        if (this.transporteForm.invalid) return;\r\n        this.loading = true; this.apiError = '';\r\n        try {\r\n            const raw = this.transporteForm.getRawValue();\r\n            const body = {\r\n                origem:  { cep: raw.origemCep!.trim(),  uf: raw.origemUf!.toString().toUpperCase(),  cidade: raw.origemCidade! },\r\n                destino: { cep: raw.destinoCep!.trim(), uf: raw.destinoUf!.toString().toUpperCase(), cidade: raw.destinoCidade! },\r\n                pesoKg: Number(raw.pesoKg),\r\n                tipoVeiculo: raw.tipoVeiculo,\r\n                tipoCarga: raw.tipoCarga,\r\n                retornoVazio: false\r\n            } as FreteRequest;\r\n\r\n            const res = await fetch('/Orcamentos/CalcularFrete', {\r\n                method:'POST', headers:{'Content-Type':'application/json'}, credentials:'include',\r\n                body: JSON.stringify(body)\r\n            });\r\n            if (!res.ok) {\r\n                const err = await res.json().catch(()=> ({}));\r\n                this.apiError = (err?.mensagem || 'Falha no cálculo.');\r\n                this.frete = undefined;\r\n            } else {\r\n                this.frete = await res.json() as FreteQuote;\r\n            }\r\n        } catch {\r\n            this.frete = undefined;\r\n            this.apiError = 'Não foi possível calcular o frete agora.';\r\n        } finally {\r\n            this.loading = false;\r\n            this.emit(); // atualiza custo selecionado\r\n        }\r\n    }\r\n\r\n    aplicarFrete() {\r\n        if (!this.frete) return;\r\n        this.modalOpen = false;\r\n        this.emit();\r\n    }\r\n\r\n    // Helpers de valor selecionado\r\n    get valorManual(): number | null {\r\n        const v = this.transporteForm.value.valorManual as any;\r\n        if (v === null || v === undefined || v === '') return null;\r\n        const n = Number(v);\r\n        return isNaN(n) ? null : n;\r\n    }\r\n    private custoSelecionado(): number | undefined {\r\n        if (this.form.value.incluirTransporte !== true) return undefined;\r\n        if (this.valorManual && this.valorManual > 0) return this.valorManual;\r\n        return this.frete?.valor;\r\n    }\r\n\r\n    emit() {\r\n        this.changed.emit({\r\n            nomeCompleto: (this.form.value.nomeCompleto || '').trim(),\r\n            incluirTransporte: this.form.value.incluirTransporte === true,\r\n            custoTransporte: this.custoSelecionado(),\r\n            frete: this.frete,\r\n        });\r\n    }\r\n}","<div class=\"card grid\" style=\"gap:12px;\">\r\n    <h3 class=\"title\">Custos adicionais</h3>\r\n\r\n    <label class=\"row\">\r\n        <input type=\"checkbox\"\r\n               [formControl]=\"form.controls.incluirTransporte\"\r\n               (change)=\"onToggleTransporte()\">\r\n        <span>Transporte</span>\r\n\r\n        <!-- Botão só aparece quando marcado -->\r\n        <button class=\"btn btn-ghost sm push-right\" type=\"button\"\r\n                *ngIf=\"form.value.incluirTransporte\"\r\n                (click)=\"openModal()\">\r\n            Configurar / calcular\r\n        </button>\r\n    </label>\r\n\r\n    <!-- Campo de valor manual (currency) quando marcado -->\r\n    <div class=\"manual\" *ngIf=\"form.value.incluirTransporte\">\r\n        <label class=\"col\">\r\n            <span class=\"small\">Valor de transporte (opcional)</span>\r\n            <input\r\n                    class=\"input\"\r\n                    type=\"text\"\r\n                    inputmode=\"numeric\"\r\n                    [mask]=\"'separator.2'\"\r\n                    [thousandSeparator]=\"'.'\"\r\n                    [prefix]=\"'R$ '\"\r\n                    [dropSpecialCharacters]=\"true\"\r\n                    [allowNegativeNumbers]=\"false\"\r\n                    [formControl]=\"transporteForm.controls.valorManual\"\r\n                    placeholder=\"R$ 0,00\" />\r\n            <span class=\"field-hint small\">Se preencher, <b>substitui</b> o valor calculado.</span>\r\n        </label>\r\n    </div>\r\n\r\n    <!-- Resumo/seleção -->\r\n    <div class=\"resumo\" *ngIf=\"form.value.incluirTransporte\">\r\n        <div class=\"small\">Transporte</div>\r\n        <ng-container *ngIf=\"valorManual && valorManual > 0; else calcado\">\r\n            <div class=\"pill\">Valor (manual): {{ valorManual | currency:'BRL':'symbol':'1.2-2' }}</div>\r\n        </ng-container>\r\n        <ng-template #calcado>\r\n            <div class=\"pill\" *ngIf=\"frete; else aguardando\">\r\n                Valor (calculado): {{ frete?.valor | currency:'BRL':'symbol':'1.2-2' }}\r\n            </div>\r\n            <ng-template #aguardando><div class=\"pill muted\">Aguardando cálculo…</div></ng-template>\r\n        </ng-template>\r\n\r\n        <div class=\"pill\" *ngIf=\"frete\">Distância: {{ frete?.distanciaKm | number:'1.0-0' }} km</div>\r\n    </div>\r\n</div>\r\n\r\n<!-- MODAL -->\r\n<div class=\"modal\" *ngIf=\"modalOpen\" (click)=\"closeModal()\">\r\n    <div class=\"modal-inner\" (click)=\"$event.stopPropagation()\">\r\n        <div class=\"modal-head\">\r\n            <h4>Calculadora de frete</h4>\r\n            <button class=\"btn btn-ghost\" (click)=\"closeModal()\">×</button>\r\n        </div>\r\n\r\n        <div class=\"grid two\">\r\n            <!-- ORIGEM -->\r\n            <div class=\"card\">\r\n                <div class=\"small muted\">Endereço de origem</div>\r\n                <div class=\"grid three\">\r\n                    <label>\r\n                        <span class=\"small\">CEP</span>\r\n                        <input class=\"input\" inputmode=\"numeric\" placeholder=\"00000000\"\r\n                               [formControl]=\"transporteForm.controls.origemCep\">\r\n                        <div class=\"hint-row\">\r\n                            <span class=\"small muted\" *ngIf=\"buscandoOrigem\">Buscando CEP…</span>\r\n                            <span class=\"small error\" *ngIf=\"cepOrigemErro\">{{ cepOrigemErro }}</span>\r\n                        </div>\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">UF</span>\r\n                        <input class=\"input readonly\" placeholder=\"—\"\r\n                               [formControl]=\"transporteForm.controls.origemUf\">\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">Cidade</span>\r\n                        <input class=\"input readonly\" placeholder=\"—\"\r\n                               [formControl]=\"transporteForm.controls.origemCidade\">\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- DESTINO -->\r\n            <div class=\"card\">\r\n                <div class=\"small muted\">Endereço de destino</div>\r\n                <div class=\"grid three\">\r\n                    <label>\r\n                        <span class=\"small\">CEP</span>\r\n                        <input class=\"input\" inputmode=\"numeric\" placeholder=\"00000000\"\r\n                               [formControl]=\"transporteForm.controls.destinoCep\">\r\n                        <div class=\"hint-row\">\r\n                            <span class=\"small muted\" *ngIf=\"buscandoDestino\">Buscando CEP…</span>\r\n                            <span class=\"small error\" *ngIf=\"cepDestinoErro\">{{ cepDestinoErro }}</span>\r\n                        </div>\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">UF</span>\r\n                        <input class=\"input readonly\" placeholder=\"—\"\r\n                               [formControl]=\"transporteForm.controls.destinoUf\">\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">Cidade</span>\r\n                        <input class=\"input readonly\" placeholder=\"—\"\r\n                               [formControl]=\"transporteForm.controls.destinoCidade\">\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- PESO / VEÍCULO / CARGA -->\r\n        <div class=\"grid three\" style=\"margin-top:12px;\">\r\n            <label>\r\n                <span class=\"small\">Peso (kg)</span>\r\n                <input class=\"input\" type=\"number\" min=\"1\" max=\"100000\" placeholder=\"Ex.: 1500\"\r\n                       [formControl]=\"transporteForm.controls.pesoKg\">\r\n            </label>\r\n\r\n            <label>\r\n                <span class=\"small\">Tipo de Veículo</span>\r\n                <select class=\"input\" [formControl]=\"transporteForm.controls.tipoVeiculo\">\r\n                    <option value=\"leve\">Leve (Fiorino/Picape)</option>\r\n                    <option value=\"toco_2eixos\">Toco — 2 eixos</option>\r\n                    <option value=\"truck_3eixos\">Truck — 3 eixos</option>\r\n                    <option value=\"carreta_5eixos\">Carreta — 5 eixos</option>\r\n                    <option value=\"bitrem_7eixos\">Bitrem — 7 eixos</option>\r\n                </select>\r\n            </label>\r\n\r\n            <label>\r\n                <span class=\"small\">Tipo de Carga</span>\r\n                <select class=\"input\" [formControl]=\"transporteForm.controls.tipoCarga\">\r\n                    <option value=\"carga_geral\">Carga geral</option>\r\n                    <option value=\"frigorificada\">Frigorificada</option>\r\n                    <option value=\"perigosa\">Perigosa</option>\r\n                    <option value=\"valor\">Alto valor</option>\r\n                    <option value=\"granel\">Granel</option>\r\n                    <option value=\"fragil\">Frágil</option>\r\n                </select>\r\n            </label>\r\n        </div>\r\n\r\n        <div class=\"actions\">\r\n            <span class=\"small error\" *ngIf=\"apiError\" style=\"margin-right:auto;\">{{ apiError }}</span>\r\n            <button class=\"btn btn-ghost\" (click)=\"closeModal()\">Cancelar</button>\r\n            <button class=\"btn\" [disabled]=\"loading || transporteForm.invalid\" (click)=\"calcularFrete()\">\r\n                {{ loading ? 'Calculando…' : 'Calcular frete' }}\r\n            </button>\r\n            <button class=\"btn btn-primary\" [disabled]=\"!frete\" (click)=\"aplicarFrete()\">Aplicar ao orçamento</button>\r\n        </div>\r\n\r\n        <div class=\"quote\" *ngIf=\"frete\">\r\n            <div class=\"small\">Resultado</div>\r\n            <div class=\"pill\">Distância: {{ frete.distanciaKm | number:'1.0-0' }} km</div>\r\n            <div class=\"pill\">Valor: {{ frete.valor | currency:'BRL':'symbol':'1.2-2' }}</div>\r\n            <div class=\"small muted\">\r\n                CCD {{ frete.parametros.ccd | number:'1.2-2' }} • CC {{ frete.parametros.cc | currency:'BRL':'symbol':'1.2-2' }} •\r\n                Veículo: {{ frete.parametros.tipoVeiculo }} • Carga: {{ frete.parametros.tipoCarga }}\r\n            </div>\r\n\r\n            <!-- AVISO SOLICITADO -->\r\n            <p class=\"note\">\r\n                Valores de fretes calculados a partir do cálculo indicado para transportes ANTT\r\n                (<b>Você pode digitar o valor manualmente fora desta janela</b>).\r\n            </p>\r\n        </div>\r\n    </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}