{"ast":null,"code":"import { RouterLink, RouterOutlet } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/auth.service\";\nfunction AppComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementContainerStart(0);\n    i0.…µ…µelementStart(1, \"a\", 9);\n    i0.…µ…µtext(2, \"Meus Or\\u00E7amentos\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"button\", 10);\n    i0.…µ…µlistener(\"click\", function AppComponent_ng_container_7_Template_button_click_3_listener() {\n      i0.…µ…µrestoreView(_r2);\n      const ctx_r2 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r2.logout());\n    });\n    i0.…µ…µtext(4, \"Sair\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementContainerEnd();\n  }\n}\nfunction AppComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"a\", 11);\n    i0.…µ…µtext(1, \"Login\");\n    i0.…µ…µelementEnd();\n  }\n}\nexport class AppComponent {\n  constructor(auth) {\n    this.auth = auth;\n    this.theme = 'dark';\n  }\n  /** Getter evita qualquer problema de detec√ß√£o no template */\n  get logged() {\n    return this.auth.isLoggedIn();\n  }\n  ngOnInit() {\n    const saved = localStorage.getItem('theme');\n    if (saved) {\n      this.applyTheme(saved);\n    } else {\n      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n      this.applyTheme(prefersDark ? 'dark' : 'light');\n    }\n  }\n  toggleTheme() {\n    this.applyTheme(this.theme === 'dark' ? 'light' : 'dark');\n  }\n  logout() {\n    this.auth.logout();\n    // for√ßa atualiza√ß√£o visual ap√≥s logout\n    // (como usamos getter, normalmente j√° atualiza; isso s√≥ garante)\n    setTimeout(() => {}, 0);\n  }\n  applyTheme(t) {\n    this.theme = t;\n    document.documentElement.setAttribute('data-theme', t);\n    localStorage.setItem('theme', t);\n  }\n  static {\n    this.…µfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)(i0.…µ…µdirectiveInject(i1.AuthService));\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      standalone: true,\n      features: [i0.…µ…µStandaloneFeature],\n      decls: 16,\n      vars: 3,\n      consts: [[\"showLogin\", \"\"], [1, \"header\"], [\"routerLink\", \"/\", \"aria-label\", \"Ir para in\\u00EDcio\", 1, \"brand\"], [1, \"brand-badge\"], [1, \"nav-right\"], [4, \"ngIf\", \"ngIfElse\"], [\"routerLink\", \"/novo\", 1, \"btn\", \"btn-primary\"], [1, \"btn\", \"btn-ghost\", 3, \"click\"], [1, \"container\", \"grid\"], [\"routerLink\", \"/meus\", 1, \"nav-link\"], [1, \"nav-link\", 3, \"click\"], [\"routerLink\", \"/login\", 1, \"btn\", \"btn-ghost\"]],\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.…µ…µgetCurrentView();\n          i0.…µ…µelementStart(0, \"header\", 1)(1, \"a\", 2)(2, \"span\", 3);\n          i0.…µ…µtext(3, \"\\uD83D\\uDEE0\\uFE0F\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(4, \"span\");\n          i0.…µ…µtext(5, \"Or\\u00E7amento por Partes\");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(6, \"nav\", 4);\n          i0.…µ…µtemplate(7, AppComponent_ng_container_7_Template, 5, 0, \"ng-container\", 5)(8, AppComponent_ng_template_8_Template, 2, 0, \"ng-template\", null, 0, i0.…µ…µtemplateRefExtractor);\n          i0.…µ…µelementStart(10, \"a\", 6);\n          i0.…µ…µtext(11, \"Novo Or\\u00E7amento\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(12, \"button\", 7);\n          i0.…µ…µlistener(\"click\", function AppComponent_Template_button_click_12_listener() {\n            i0.…µ…µrestoreView(_r1);\n            return i0.…µ…µresetView(ctx.toggleTheme());\n          });\n          i0.…µ…µtext(13);\n          i0.…µ…µelementEnd()()();\n          i0.…µ…µelementStart(14, \"main\", 8);\n          i0.…µ…µelement(15, \"router-outlet\");\n          i0.…µ…µelementEnd();\n        }\n        if (rf & 2) {\n          const showLogin_r4 = i0.…µ…µreference(9);\n          i0.…µ…µadvance(7);\n          i0.…µ…µproperty(\"ngIf\", ctx.logged)(\"ngIfElse\", showLogin_r4);\n          i0.…µ…µadvance(6);\n          i0.…µ…µtextInterpolate1(\" \", ctx.theme === \"dark\" ? \"Tema claro\" : \"Tema escuro\", \" \");\n        }\n      },\n      dependencies: [RouterOutlet, RouterLink],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["RouterLink","RouterOutlet","i0","…µ…µelementContainerStart","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µlistener","AppComponent_ng_container_7_Template_button_click_3_listener","…µ…µrestoreView","_r2","ctx_r2","…µ…µnextContext","…µ…µresetView","logout","AppComponent","constructor","auth","theme","logged","isLoggedIn","ngOnInit","saved","localStorage","getItem","applyTheme","prefersDark","window","matchMedia","matches","toggleTheme","setTimeout","t","document","documentElement","setAttribute","setItem","…µ…µdirectiveInject","i1","AuthService","selectors","standalone","features","…µ…µStandaloneFeature","decls","vars","consts","template","AppComponent_Template","rf","ctx","…µ…µtemplate","AppComponent_ng_container_7_Template","AppComponent_ng_template_8_Template","…µ…µtemplateRefExtractor","AppComponent_Template_button_click_12_listener","_r1","…µ…µelement","…µ…µadvance","…µ…µproperty","showLogin_r4","…µ…µtextInterpolate1","encapsulation"],"sources":["G:\\Estudos\\Angular\\Orcamentador\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { RouterLink, RouterOutlet } from '@angular/router';\nimport { AuthService } from './services/auth.service';\n\ntype Theme = 'light' | 'dark';\n\n@Component({\n  selector: 'app-root',\n  standalone: true,\n  imports: [RouterOutlet, RouterLink],\n  template: `\n    <header class=\"header\">\n      <a routerLink=\"/\" class=\"brand\" aria-label=\"Ir para in√≠cio\">\n        <span class=\"brand-badge\">üõ†Ô∏è</span>\n        <span>Or√ßamento por Partes</span>\n      </a>\n\n      <nav class=\"nav-right\">\n        <!-- Se logado: mostra Meus Or√ßamentos + Sair; sen√£o: mostra Login -->\n        <ng-container *ngIf=\"logged; else showLogin\">\n          <a routerLink=\"/meus\" class=\"nav-link\">Meus Or√ßamentos</a>\n          <button class=\"nav-link\" (click)=\"logout()\">Sair</button>\n        </ng-container>\n        <ng-template #showLogin>\n          <!-- deixe mais vis√≠vel usando btn-ghost -->\n          <a routerLink=\"/login\" class=\"btn btn-ghost\">Login</a>\n        </ng-template>\n\n        <!-- Sempre vis√≠vel -->\n        <a routerLink=\"/novo\" class=\"btn btn-primary\">Novo Or√ßamento</a>\n\n        <!-- Tema -->\n        <button class=\"btn btn-ghost\" (click)=\"toggleTheme()\">\n          {{ theme === 'dark' ? 'Tema claro' : 'Tema escuro' }}\n        </button>\n      </nav>\n    </header>\n\n    <main class=\"container grid\">\n      <router-outlet></router-outlet>\n    </main>\n  `\n})\nexport class AppComponent implements OnInit {\n  theme: Theme = 'dark';\n\n  constructor(private auth: AuthService) {}\n\n  /** Getter evita qualquer problema de detec√ß√£o no template */\n  get logged(): boolean {\n    return this.auth.isLoggedIn();\n  }\n\n  ngOnInit() {\n    const saved = localStorage.getItem('theme') as Theme | null;\n    if (saved) {\n      this.applyTheme(saved);\n    } else {\n      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n      this.applyTheme(prefersDark ? 'dark' : 'light');\n    }\n  }\n\n  toggleTheme() {\n    this.applyTheme(this.theme === 'dark' ? 'light' : 'dark');\n  }\n\n  logout() {\n    this.auth.logout();\n    // for√ßa atualiza√ß√£o visual ap√≥s logout\n    // (como usamos getter, normalmente j√° atualiza; isso s√≥ garante)\n    setTimeout(() => {}, 0);\n  }\n\n  private applyTheme(t: Theme) {\n    this.theme = t;\n    document.documentElement.setAttribute('data-theme', t);\n    localStorage.setItem('theme', t);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}