{"ast":null,"code":"import _asyncToGenerator from \"G:/Estudos/Angular/Orcamentador/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nfunction Step9CustosAdicionaisComponent_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 12);\n    i0.ɵɵtext(1, \" Informe seu nome completo. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 7);\n    i0.ɵɵtext(2, \"Transporte\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 14);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 14);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Dist\\u00E2ncia: \", i0.ɵɵpipeBind2(5, 2, ctx_r0.frete.distanciaKm, \"1.0-0\"), \" km\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Valor: \", i0.ɵɵpipeBind4(8, 5, ctx_r0.frete.valor, \"BRL\", \"symbol\", \"1.0-0\"), \"\");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"div\", 7);\n    i0.ɵɵtext(2, \"Resultado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 14);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 14);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 21);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Dist\\u00E2ncia: \", i0.ɵɵpipeBind2(5, 4, ctx_r0.frete.distanciaKm, \"1.0-0\"), \" km\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Valor: \", i0.ɵɵpipeBind4(8, 7, ctx_r0.frete.valor, \"BRL\", \"symbol\", \"1.0-0\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" Par\\u00E2metros: CCD \", i0.ɵɵpipeBind2(11, 12, ctx_r0.frete.parametros.ccd, \"1.2-2\"), \" \\u2022 CC \", i0.ɵɵpipeBind4(12, 15, ctx_r0.frete.parametros.cc, \"BRL\", \"symbol\", \"1.0-0\"), \" \");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeModal());\n    });\n    i0.ɵɵelementStart(1, \"div\", 16);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_div_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementStart(2, \"div\", 17)(3, \"h4\");\n    i0.ɵɵtext(4, \"Calculadora de frete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeModal());\n    });\n    i0.ɵɵtext(6, \"\\u00D7\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 19)(8, \"div\", 20)(9, \"div\", 21);\n    i0.ɵɵtext(10, \"Endere\\u00E7o de origem\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 22)(12, \"label\")(13, \"span\", 7);\n    i0.ɵɵtext(14, \"CEP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"label\")(17, \"span\", 7);\n    i0.ɵɵtext(18, \"UF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"input\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"label\")(21, \"span\", 7);\n    i0.ɵɵtext(22, \"Cidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"input\", 25);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"div\", 20)(25, \"div\", 21);\n    i0.ɵɵtext(26, \"Endere\\u00E7o de destino\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 22)(28, \"label\")(29, \"span\", 7);\n    i0.ɵɵtext(30, \"CEP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(31, \"input\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"label\")(33, \"span\", 7);\n    i0.ɵɵtext(34, \"UF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(35, \"input\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"label\")(37, \"span\", 7);\n    i0.ɵɵtext(38, \"Cidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(39, \"input\", 27);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(40, \"div\", 28)(41, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_41_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeModal());\n    });\n    i0.ɵɵtext(42, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_43_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.calcularFrete());\n    });\n    i0.ɵɵtext(44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_45_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.aplicarFrete());\n    });\n    i0.ɵɵtext(46, \"Aplicar ao or\\u00E7amento\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(47, Step9CustosAdicionaisComponent_div_16_div_47_Template, 13, 20, \"div\", 31);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.transporteForm.controls.origemCep);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.transporteForm.controls.origemUf);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.transporteForm.controls.origemCidade);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.transporteForm.controls.destinoCep);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.transporteForm.controls.destinoUf);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.transporteForm.controls.destinoCidade);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.loading || ctx_r0.transporteForm.invalid);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.loading ? \"Calculando\\u2026\" : \"Calcular frete\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.frete);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.frete);\n  }\n}\nexport class Step9CustosAdicionaisComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.changed = new EventEmitter();\n    this.form = this.fb.group({\n      nomeCompleto: ['', [Validators.required, Validators.minLength(3)]],\n      incluirTransporte: [false]\n    });\n    this.transporteForm = this.fb.group({\n      origemCep: ['', [Validators.required, Validators.minLength(8)]],\n      origemUf: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\n      origemCidade: ['', [Validators.required, Validators.minLength(2)]],\n      destinoCep: ['', [Validators.required, Validators.minLength(8)]],\n      destinoUf: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\n      destinoCidade: ['', [Validators.required, Validators.minLength(2)]]\n    });\n    this.modalOpen = false;\n    this.loading = false;\n  }\n  // === Eventos ===\n  onToggleTransporte() {\n    const marcado = this.form.value.incluirTransporte === true;\n    if (marcado) this.openModal();\n    this.emit();\n  }\n  openModal() {\n    this.modalOpen = true;\n  }\n  closeModal() {\n    this.modalOpen = false;\n  }\n  calcularFrete() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.transporteForm.invalid) return;\n      _this.loading = true;\n      try {\n        const body = {\n          origem: {\n            cep: _this.transporteForm.value.origemCep.trim(),\n            uf: (_this.transporteForm.value.origemUf ?? '').trim().toUpperCase(),\n            cidade: _this.transporteForm.value.origemCidade.trim()\n          },\n          destino: {\n            cep: _this.transporteForm.value.destinoCep.trim(),\n            uf: (_this.transporteForm.value.destinoUf ?? '').trim().toUpperCase(),\n            cidade: _this.transporteForm.value.destinoCidade.trim()\n          },\n          tipoCarga: 'carga_geral',\n          eixos: 2,\n          retornoVazio: false\n        };\n        const res = yield fetch('/Orcamento/CalcularFrete', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          credentials: 'include',\n          body: JSON.stringify(body)\n        });\n        if (!res.ok) throw new Error('Falha no cálculo de frete');\n        _this.frete = yield res.json();\n      } catch {\n        _this.frete = undefined;\n        alert('Não foi possível calcular o frete agora.');\n      } finally {\n        _this.loading = false;\n      }\n    })();\n  }\n  aplicarFrete() {\n    if (!this.frete) return;\n    this.modalOpen = false;\n    this.emit();\n  }\n  emit() {\n    this.changed.emit({\n      nomeCompleto: (this.form.value.nomeCompleto || '').trim(),\n      incluirTransporte: this.form.value.incluirTransporte === true,\n      custoTransporte: this.frete?.valor,\n      frete: this.frete\n    });\n  }\n  static {\n    this.ɵfac = function Step9CustosAdicionaisComponent_Factory(t) {\n      return new (t || Step9CustosAdicionaisComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: Step9CustosAdicionaisComponent,\n      selectors: [[\"app-step9-custos-adicionais\"]],\n      outputs: {\n        changed: \"changed\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 17,\n      vars: 6,\n      consts: [[1, \"card\", \"grid\", 2, \"gap\", \"12px\"], [1, \"title\"], [1, \"row\"], [\"type\", \"checkbox\", 3, \"change\", \"formControl\"], [\"type\", \"button\", 1, \"btn\", \"btn-ghost\", \"sm\", \"push-right\", 3, \"click\", \"disabled\"], [1, \"divider\"], [1, \"col\"], [1, \"small\"], [\"type\", \"text\", \"placeholder\", \"Digite seu nome\", 1, \"input\", 3, \"formControl\"], [\"class\", \"field-hint\", 4, \"ngIf\"], [\"class\", \"resumo\", 4, \"ngIf\"], [\"class\", \"modal\", 3, \"click\", 4, \"ngIf\"], [1, \"field-hint\"], [1, \"resumo\"], [1, \"pill\"], [1, \"modal\", 3, \"click\"], [1, \"modal-inner\", 3, \"click\"], [1, \"modal-head\"], [1, \"btn\", \"btn-ghost\", 3, \"click\"], [1, \"grid\", \"two\"], [1, \"card\"], [1, \"small\", \"muted\"], [1, \"grid\", \"three\"], [\"placeholder\", \"00000000\", 1, \"input\", 3, \"formControl\"], [\"placeholder\", \"SP\", 1, \"input\", 3, \"formControl\"], [\"placeholder\", \"S\\u00E3o Paulo\", 1, \"input\", 3, \"formControl\"], [\"placeholder\", \"RJ\", 1, \"input\", 3, \"formControl\"], [\"placeholder\", \"Rio de Janeiro\", 1, \"input\", 3, \"formControl\"], [1, \"actions\"], [1, \"btn\", 3, \"click\", \"disabled\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [\"class\", \"quote\", 4, \"ngIf\"], [1, \"quote\"]],\n      template: function Step9CustosAdicionaisComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\", 1);\n          i0.ɵɵtext(2, \"Custos adicionais\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"label\", 2)(4, \"input\", 3);\n          i0.ɵɵlistener(\"change\", function Step9CustosAdicionaisComponent_Template_input_change_4_listener() {\n            return ctx.onToggleTransporte();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"span\");\n          i0.ɵɵtext(6, \"Transporte\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_Template_button_click_7_listener() {\n            return ctx.openModal();\n          });\n          i0.ɵɵtext(8, \" Configurar / calcular \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(9, \"div\", 5);\n          i0.ɵɵelementStart(10, \"label\", 6)(11, \"span\", 7);\n          i0.ɵɵtext(12, \"Nome completo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(13, \"input\", 8);\n          i0.ɵɵtemplate(14, Step9CustosAdicionaisComponent_span_14_Template, 2, 0, \"span\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(15, Step9CustosAdicionaisComponent_div_15_Template, 9, 10, \"div\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(16, Step9CustosAdicionaisComponent_div_16_Template, 48, 10, \"div\", 11);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"formControl\", ctx.form.controls.incluirTransporte);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"disabled\", !ctx.form.value.incluirTransporte);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"formControl\", ctx.form.controls.nomeCompleto);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.form.controls.nomeCompleto.invalid && ctx.form.controls.nomeCompleto.touched);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.frete);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.modalOpen);\n        }\n      },\n      dependencies: [CommonModule, i2.NgIf, i2.DecimalPipe, i2.CurrencyPipe, ReactiveFormsModule, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.NgControlStatus, i1.FormControlDirective],\n      styles: [\".title[_ngcontent-%COMP%] { margin: 0; }\\n.row[_ngcontent-%COMP%] { display:flex; align-items:center; gap:8px; }\\n.row[_ngcontent-%COMP%]   .push-right[_ngcontent-%COMP%] { margin-left:auto; }\\n.col[_ngcontent-%COMP%] { display:flex; flex-direction:column; gap:6px; }\\n.input[_ngcontent-%COMP%] { width:100%; }\\n.divider[_ngcontent-%COMP%] { height:1px; background:var(--border); opacity:.6; }\\n\\n.resumo[_ngcontent-%COMP%] { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }\\n.pill[_ngcontent-%COMP%] { border:1px solid var(--border); border-radius:9999px; padding:4px 10px; background:color-mix(in oklab, var(--bg-2) 60%, transparent); }\\n\\n.grid.two[_ngcontent-%COMP%] { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:12px; }\\n.grid.three[_ngcontent-%COMP%] { display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; }\\n.small.muted[_ngcontent-%COMP%] { opacity:.8; }\\n\\n\\n\\n.modal[_ngcontent-%COMP%] { position:fixed; inset:0; background:rgba(0,0,0,.6); display:flex; align-items:center; justify-content:center; z-index:1000; }\\n.modal-inner[_ngcontent-%COMP%] { width:min(900px, 96vw); background:var(--bg); border:1px solid var(--border); border-radius:12px; padding:16px; }\\n.modal-head[_ngcontent-%COMP%] { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }\\n.actions[_ngcontent-%COMP%] { display:flex; gap:8px; align-items:center; justify-content:flex-end; margin-top:12px; }\\n.quote[_ngcontent-%COMP%] { margin-top:10px; display:flex; gap:8px; align-items:center; flex-wrap:wrap; }\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvd2l6YXJkL3Bhc3NvOS1jdXN0b3MtYWRpY2lvbmFpcy9wYXNzbzktY3VzdG9zLWFkaWNpb25haXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLFNBQVMsRUFBRTtBQUNwQixPQUFPLFlBQVksRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEVBQUU7QUFDbEQsbUJBQW1CLGdCQUFnQixFQUFFO0FBQ3JDLE9BQU8sWUFBWSxFQUFFLHFCQUFxQixFQUFFLE9BQU8sRUFBRTtBQUNyRCxTQUFTLFVBQVUsRUFBRTtBQUNyQixXQUFXLFVBQVUsRUFBRSx3QkFBd0IsRUFBRSxVQUFVLEVBQUU7O0FBRTdELFVBQVUsWUFBWSxFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxjQUFjLEVBQUU7QUFDckUsUUFBUSw4QkFBOEIsRUFBRSxvQkFBb0IsRUFBRSxnQkFBZ0IsRUFBRSw0REFBNEQsRUFBRTs7QUFFOUksWUFBWSxZQUFZLEVBQUUsMkRBQTJELEVBQUUsUUFBUSxFQUFFO0FBQ2pHLGNBQWMsWUFBWSxFQUFFLHFDQUFxQyxFQUFFLE9BQU8sRUFBRTtBQUM1RSxlQUFlLFVBQVUsRUFBRTs7QUFFM0IsVUFBVTtBQUNWLFNBQVMsY0FBYyxFQUFFLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxZQUFZLEVBQUUsa0JBQWtCLEVBQUUsc0JBQXNCLEVBQUUsWUFBWSxFQUFFO0FBQ3JJLGVBQWUsc0JBQXNCLEVBQUUsb0JBQW9CLEVBQUUsOEJBQThCLEVBQUUsa0JBQWtCLEVBQUUsWUFBWSxFQUFFO0FBQy9ILGNBQWMsWUFBWSxFQUFFLGtCQUFrQixFQUFFLDZCQUE2QixFQUFFLGlCQUFpQixFQUFFO0FBQ2xHLFdBQVcsWUFBWSxFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSx3QkFBd0IsRUFBRSxlQUFlLEVBQUU7QUFDakcsU0FBUyxlQUFlLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxjQUFjLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyIudGl0bGUgeyBtYXJnaW46IDA7IH1cclxuLnJvdyB7IGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBnYXA6OHB4OyB9XHJcbi5yb3cgLnB1c2gtcmlnaHQgeyBtYXJnaW4tbGVmdDphdXRvOyB9XHJcbi5jb2wgeyBkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsgZ2FwOjZweDsgfVxyXG4uaW5wdXQgeyB3aWR0aDoxMDAlOyB9XHJcbi5kaXZpZGVyIHsgaGVpZ2h0OjFweDsgYmFja2dyb3VuZDp2YXIoLS1ib3JkZXIpOyBvcGFjaXR5Oi42OyB9XHJcblxyXG4ucmVzdW1vIHsgZGlzcGxheTpmbGV4OyBnYXA6OHB4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGZsZXgtd3JhcDp3cmFwOyB9XHJcbi5waWxsIHsgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBib3JkZXItcmFkaXVzOjk5OTlweDsgcGFkZGluZzo0cHggMTBweDsgYmFja2dyb3VuZDpjb2xvci1taXgoaW4gb2tsYWIsIHZhcigtLWJnLTIpIDYwJSwgdHJhbnNwYXJlbnQpOyB9XHJcblxyXG4uZ3JpZC50d28geyBkaXNwbGF5OmdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjYwcHgsIDFmcikpOyBnYXA6MTJweDsgfVxyXG4uZ3JpZC50aHJlZSB7IGRpc3BsYXk6Z3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgMWZyKTsgZ2FwOjhweDsgfVxyXG4uc21hbGwubXV0ZWQgeyBvcGFjaXR5Oi44OyB9XHJcblxyXG4vKiBNb2RhbCAqL1xyXG4ubW9kYWwgeyBwb3NpdGlvbjpmaXhlZDsgaW5zZXQ6MDsgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLC42KTsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGp1c3RpZnktY29udGVudDpjZW50ZXI7IHotaW5kZXg6MTAwMDsgfVxyXG4ubW9kYWwtaW5uZXIgeyB3aWR0aDptaW4oOTAwcHgsIDk2dncpOyBiYWNrZ3JvdW5kOnZhcigtLWJnKTsgYm9yZGVyOjFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyBib3JkZXItcmFkaXVzOjEycHg7IHBhZGRpbmc6MTZweDsgfVxyXG4ubW9kYWwtaGVhZCB7IGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsgbWFyZ2luLWJvdHRvbTo4cHg7IH1cclxuLmFjdGlvbnMgeyBkaXNwbGF5OmZsZXg7IGdhcDo4cHg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OmZsZXgtZW5kOyBtYXJnaW4tdG9wOjEycHg7IH1cclxuLnF1b3RlIHsgbWFyZ2luLXRvcDoxMHB4OyBkaXNwbGF5OmZsZXg7IGdhcDo4cHg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZmxleC13cmFwOndyYXA7IH1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["EventEmitter","CommonModule","ReactiveFormsModule","Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind2","ctx_r0","frete","distanciaKm","ɵɵpipeBind4","valor","ɵɵtextInterpolate2","parametros","ccd","cc","ɵɵlistener","Step9CustosAdicionaisComponent_div_16_Template_div_click_0_listener","ɵɵrestoreView","_r2","ɵɵnextContext","ɵɵresetView","closeModal","Step9CustosAdicionaisComponent_div_16_Template_div_click_1_listener","$event","stopPropagation","Step9CustosAdicionaisComponent_div_16_Template_button_click_5_listener","ɵɵelement","Step9CustosAdicionaisComponent_div_16_Template_button_click_41_listener","Step9CustosAdicionaisComponent_div_16_Template_button_click_43_listener","calcularFrete","Step9CustosAdicionaisComponent_div_16_Template_button_click_45_listener","aplicarFrete","ɵɵtemplate","Step9CustosAdicionaisComponent_div_16_div_47_Template","ɵɵproperty","transporteForm","controls","origemCep","origemUf","origemCidade","destinoCep","destinoUf","destinoCidade","loading","invalid","Step9CustosAdicionaisComponent","constructor","fb","changed","form","group","nomeCompleto","required","minLength","incluirTransporte","maxLength","modalOpen","onToggleTransporte","marcado","value","openModal","emit","_this","_asyncToGenerator","body","origem","cep","trim","uf","toUpperCase","cidade","destino","tipoCarga","eixos","retornoVazio","res","fetch","method","headers","credentials","JSON","stringify","ok","Error","json","undefined","alert","custoTransporte","ɵɵdirectiveInject","i1","FormBuilder","selectors","outputs","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","Step9CustosAdicionaisComponent_Template","rf","ctx","Step9CustosAdicionaisComponent_Template_input_change_4_listener","Step9CustosAdicionaisComponent_Template_button_click_7_listener","Step9CustosAdicionaisComponent_span_14_Template","Step9CustosAdicionaisComponent_div_15_Template","Step9CustosAdicionaisComponent_div_16_Template","touched","i2","NgIf","DecimalPipe","CurrencyPipe","DefaultValueAccessor","CheckboxControlValueAccessor","NgControlStatus","FormControlDirective","styles"],"sources":["G:\\Estudos\\Angular\\Orcamentador\\src\\app\\pages\\wizard\\passo9-custos-adicionais\\passo9-custos-adicionais.component.ts","G:\\Estudos\\Angular\\Orcamentador\\src\\app\\pages\\wizard\\passo9-custos-adicionais\\passo9-custos-adicionais.component.html"],"sourcesContent":["import { Component, EventEmitter, Output } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\r\n\r\nexport interface FreteEndereco { cep: string; uf: string; cidade: string; }\r\nexport interface FreteRequest {\r\n    origem: FreteEndereco;\r\n    destino: FreteEndereco;\r\n    tipoCarga?: 'carga_geral';\r\n    eixos?: number;\r\n    retornoVazio?: boolean;\r\n}\r\nexport interface FreteQuote {\r\n    distanciaKm: number;\r\n    valor: number;\r\n    prazoDias?: number;\r\n    parametros: { ccd: number; cc: number };\r\n}\r\n\r\n@Component({\r\n    standalone: true,\r\n    selector: 'app-step9-custos-adicionais',\r\n    imports: [CommonModule, ReactiveFormsModule],\r\n    templateUrl: './passo9-custos-adicionais.component.html',\r\n    styleUrls: ['./passo9-custos-adicionais.component.css']\r\n})\r\nexport class Step9CustosAdicionaisComponent {\r\n    @Output() changed = new EventEmitter<{\r\n        nomeCompleto: string;\r\n        incluirTransporte: boolean;\r\n        custoTransporte?: number;\r\n        frete?: FreteQuote;\r\n    }>();\r\n\r\n    constructor(private fb: FormBuilder) {}\r\n\r\n    form = this.fb.group({\r\n        nomeCompleto: ['', [Validators.required, Validators.minLength(3)]],\r\n        incluirTransporte: [false],\r\n    });\r\n\r\n    transporteForm = this.fb.group({\r\n        origemCep: ['', [Validators.required, Validators.minLength(8)]],\r\n        origemUf: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\r\n        origemCidade: ['', [Validators.required, Validators.minLength(2)]],\r\n        destinoCep: ['', [Validators.required, Validators.minLength(8)]],\r\n        destinoUf: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\r\n        destinoCidade: ['', [Validators.required, Validators.minLength(2)]],\r\n    });\r\n\r\n    modalOpen = false;\r\n    loading = false;\r\n    frete?: FreteQuote;\r\n\r\n    // === Eventos ===\r\n    onToggleTransporte() {\r\n        const marcado = this.form.value.incluirTransporte === true;\r\n        if (marcado) this.openModal();\r\n        this.emit();\r\n    }\r\n    openModal() { this.modalOpen = true; }\r\n    closeModal() { this.modalOpen = false; }\r\n\r\n    async calcularFrete() {\r\n        if (this.transporteForm.invalid) return;\r\n        this.loading = true;\r\n        try {\r\n            const body: FreteRequest = {\r\n                origem: {\r\n                    cep: this.transporteForm.value.origemCep!.trim(),\r\n                    uf: (this.transporteForm.value.origemUf ?? '').trim().toUpperCase(),\r\n                    cidade: this.transporteForm.value.origemCidade!.trim(),\r\n                },\r\n                destino: {\r\n                    cep: this.transporteForm.value.destinoCep!.trim(),\r\n                    uf: (this.transporteForm.value.destinoUf ?? '').trim().toUpperCase(),\r\n                    cidade: this.transporteForm.value.destinoCidade!.trim(),\r\n                },\r\n                tipoCarga: 'carga_geral',\r\n                eixos: 2,\r\n                retornoVazio: false,\r\n            };\r\n\r\n            const res = await fetch('/Orcamento/CalcularFrete', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                credentials: 'include',\r\n                body: JSON.stringify(body),\r\n            });\r\n            if (!res.ok) throw new Error('Falha no cálculo de frete');\r\n            this.frete = await res.json() as FreteQuote;\r\n        } catch {\r\n            this.frete = undefined;\r\n            alert('Não foi possível calcular o frete agora.');\r\n        } finally {\r\n            this.loading = false;\r\n        }\r\n    }\r\n\r\n    aplicarFrete() {\r\n        if (!this.frete) return;\r\n        this.modalOpen = false;\r\n        this.emit();\r\n    }\r\n\r\n    emit() {\r\n        this.changed.emit({\r\n            nomeCompleto: (this.form.value.nomeCompleto || '').trim(),\r\n            incluirTransporte: this.form.value.incluirTransporte === true,\r\n            custoTransporte: this.frete?.valor,\r\n            frete: this.frete,\r\n        });\r\n    }\r\n}\r\n","<div class=\"card grid\" style=\"gap:12px;\">\r\n    <h3 class=\"title\">Custos adicionais</h3>\r\n\r\n    <label class=\"row\">\r\n        <input type=\"checkbox\" [formControl]=\"form.controls.incluirTransporte\" (change)=\"onToggleTransporte()\">\r\n        <span>Transporte</span>\r\n        <button class=\"btn btn-ghost sm push-right\" type=\"button\"\r\n                (click)=\"openModal()\" [disabled]=\"!form.value.incluirTransporte\">\r\n            Configurar / calcular\r\n        </button>\r\n    </label>\r\n\r\n    <div class=\"divider\"></div>\r\n\r\n    <label class=\"col\">\r\n        <span class=\"small\">Nome completo</span>\r\n        <input type=\"text\" class=\"input\" placeholder=\"Digite seu nome\"\r\n               [formControl]=\"form.controls.nomeCompleto\">\r\n        <span class=\"field-hint\" *ngIf=\"form.controls.nomeCompleto.invalid && form.controls.nomeCompleto.touched\">\r\n      Informe seu nome completo.\r\n    </span>\r\n    </label>\r\n\r\n    <div class=\"resumo\" *ngIf=\"frete\">\r\n        <div class=\"small\">Transporte</div>\r\n        <div class=\"pill\">Distância: {{ frete.distanciaKm | number:'1.0-0' }} km</div>\r\n        <div class=\"pill\">Valor: {{ frete.valor | currency:'BRL':'symbol':'1.0-0' }}</div>\r\n    </div>\r\n</div>\r\n\r\n<!-- MODAL -->\r\n<div class=\"modal\" *ngIf=\"modalOpen\" (click)=\"closeModal()\">\r\n    <div class=\"modal-inner\" (click)=\"$event.stopPropagation()\">\r\n        <div class=\"modal-head\">\r\n            <h4>Calculadora de frete</h4>\r\n            <button class=\"btn btn-ghost\" (click)=\"closeModal()\">×</button>\r\n        </div>\r\n\r\n        <div class=\"grid two\">\r\n            <div class=\"card\">\r\n                <div class=\"small muted\">Endereço de origem</div>\r\n                <div class=\"grid three\">\r\n                    <label>\r\n                        <span class=\"small\">CEP</span>\r\n                        <input class=\"input\" placeholder=\"00000000\" [formControl]=\"transporteForm.controls.origemCep\">\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">UF</span>\r\n                        <input class=\"input\" placeholder=\"SP\" [formControl]=\"transporteForm.controls.origemUf\">\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">Cidade</span>\r\n                        <input class=\"input\" placeholder=\"São Paulo\" [formControl]=\"transporteForm.controls.origemCidade\">\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"card\">\r\n                <div class=\"small muted\">Endereço de destino</div>\r\n                <div class=\"grid three\">\r\n                    <label>\r\n                        <span class=\"small\">CEP</span>\r\n                        <input class=\"input\" placeholder=\"00000000\" [formControl]=\"transporteForm.controls.destinoCep\">\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">UF</span>\r\n                        <input class=\"input\" placeholder=\"RJ\" [formControl]=\"transporteForm.controls.destinoUf\">\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">Cidade</span>\r\n                        <input class=\"input\" placeholder=\"Rio de Janeiro\" [formControl]=\"transporteForm.controls.destinoCidade\">\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"actions\">\r\n            <button class=\"btn btn-ghost\" (click)=\"closeModal()\">Cancelar</button>\r\n            <button class=\"btn\" [disabled]=\"loading || transporteForm.invalid\" (click)=\"calcularFrete()\">\r\n                {{ loading ? 'Calculando…' : 'Calcular frete' }}\r\n            </button>\r\n            <button class=\"btn btn-primary\" [disabled]=\"!frete\" (click)=\"aplicarFrete()\">Aplicar ao orçamento</button>\r\n        </div>\r\n\r\n        <div class=\"quote\" *ngIf=\"frete\">\r\n            <div class=\"small\">Resultado</div>\r\n            <div class=\"pill\">Distância: {{ frete.distanciaKm | number:'1.0-0' }} km</div>\r\n            <div class=\"pill\">Valor: {{ frete.valor | currency:'BRL':'symbol':'1.0-0' }}</div>\r\n            <div class=\"small muted\">\r\n                Parâmetros: CCD {{ frete.parametros.ccd | number:'1.2-2' }} • CC {{ frete.parametros.cc | currency:'BRL':'symbol':'1.0-0' }}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"],"mappings":";AAAA,SAAoBA,YAAY,QAAgB,eAAe;AAC/D,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAAsBC,mBAAmB,EAAEC,UAAU,QAAQ,gBAAgB;;;;;;ICgBrEC,EAAA,CAAAC,cAAA,eAA0G;IAC5GD,EAAA,CAAAE,MAAA,mCACF;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;;IAIHH,EADJ,CAAAC,cAAA,cAAkC,aACX;IAAAD,EAAA,CAAAE,MAAA,iBAAU;IAAAF,EAAA,CAAAG,YAAA,EAAM;IACnCH,EAAA,CAAAC,cAAA,cAAkB;IAAAD,EAAA,CAAAE,MAAA,GAAsD;;IAAAF,EAAA,CAAAG,YAAA,EAAM;IAC9EH,EAAA,CAAAC,cAAA,cAAkB;IAAAD,EAAA,CAAAE,MAAA,GAA0D;;IAChFF,EADgF,CAAAG,YAAA,EAAM,EAChF;;;;IAFgBH,EAAA,CAAAI,SAAA,GAAsD;IAAtDJ,EAAA,CAAAK,kBAAA,qBAAAL,EAAA,CAAAM,WAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAC,WAAA,kBAAsD;IACtDT,EAAA,CAAAI,SAAA,GAA0D;IAA1DJ,EAAA,CAAAK,kBAAA,YAAAL,EAAA,CAAAU,WAAA,OAAAH,MAAA,CAAAC,KAAA,CAAAG,KAAA,gCAA0D;;;;;IA2DxEX,EADJ,CAAAC,cAAA,cAAiC,aACV;IAAAD,EAAA,CAAAE,MAAA,gBAAS;IAAAF,EAAA,CAAAG,YAAA,EAAM;IAClCH,EAAA,CAAAC,cAAA,cAAkB;IAAAD,EAAA,CAAAE,MAAA,GAAsD;;IAAAF,EAAA,CAAAG,YAAA,EAAM;IAC9EH,EAAA,CAAAC,cAAA,cAAkB;IAAAD,EAAA,CAAAE,MAAA,GAA0D;;IAAAF,EAAA,CAAAG,YAAA,EAAM;IAClFH,EAAA,CAAAC,cAAA,cAAyB;IACrBD,EAAA,CAAAE,MAAA,IACJ;;;IACJF,EADI,CAAAG,YAAA,EAAM,EACJ;;;;IALgBH,EAAA,CAAAI,SAAA,GAAsD;IAAtDJ,EAAA,CAAAK,kBAAA,qBAAAL,EAAA,CAAAM,WAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAC,WAAA,kBAAsD;IACtDT,EAAA,CAAAI,SAAA,GAA0D;IAA1DJ,EAAA,CAAAK,kBAAA,YAAAL,EAAA,CAAAU,WAAA,OAAAH,MAAA,CAAAC,KAAA,CAAAG,KAAA,gCAA0D;IAExEX,EAAA,CAAAI,SAAA,GACJ;IADIJ,EAAA,CAAAY,kBAAA,2BAAAZ,EAAA,CAAAM,WAAA,SAAAC,MAAA,CAAAC,KAAA,CAAAK,UAAA,CAAAC,GAAA,2BAAAd,EAAA,CAAAU,WAAA,SAAAH,MAAA,CAAAC,KAAA,CAAAK,UAAA,CAAAE,EAAA,iCACJ;;;;;;IA3DZf,EAAA,CAAAC,cAAA,cAA4D;IAAvBD,EAAA,CAAAgB,UAAA,mBAAAC,oEAAA;MAAAjB,EAAA,CAAAkB,aAAA,CAAAC,GAAA;MAAA,MAAAZ,MAAA,GAAAP,EAAA,CAAAoB,aAAA;MAAA,OAAApB,EAAA,CAAAqB,WAAA,CAASd,MAAA,CAAAe,UAAA,EAAY;IAAA,EAAC;IACvDtB,EAAA,CAAAC,cAAA,cAA4D;IAAnCD,EAAA,CAAAgB,UAAA,mBAAAO,oEAAAC,MAAA;MAAAxB,EAAA,CAAAkB,aAAA,CAAAC,GAAA;MAAA,OAAAnB,EAAA,CAAAqB,WAAA,CAASG,MAAA,CAAAC,eAAA,EAAwB;IAAA,EAAC;IAEnDzB,EADJ,CAAAC,cAAA,cAAwB,SAChB;IAAAD,EAAA,CAAAE,MAAA,2BAAoB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC7BH,EAAA,CAAAC,cAAA,iBAAqD;IAAvBD,EAAA,CAAAgB,UAAA,mBAAAU,uEAAA;MAAA1B,EAAA,CAAAkB,aAAA,CAAAC,GAAA;MAAA,MAAAZ,MAAA,GAAAP,EAAA,CAAAoB,aAAA;MAAA,OAAApB,EAAA,CAAAqB,WAAA,CAASd,MAAA,CAAAe,UAAA,EAAY;IAAA,EAAC;IAACtB,EAAA,CAAAE,MAAA,aAAC;IAC1DF,EAD0D,CAAAG,YAAA,EAAS,EAC7D;IAIEH,EAFR,CAAAC,cAAA,cAAsB,cACA,cACW;IAAAD,EAAA,CAAAE,MAAA,+BAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAM;IAGzCH,EAFR,CAAAC,cAAA,eAAwB,aACb,eACiB;IAAAD,EAAA,CAAAE,MAAA,WAAG;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAC9BH,EAAA,CAAA2B,SAAA,iBAA8F;IAClG3B,EAAA,CAAAG,YAAA,EAAQ;IAEJH,EADJ,CAAAC,cAAA,aAAO,eACiB;IAAAD,EAAA,CAAAE,MAAA,UAAE;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAC7BH,EAAA,CAAA2B,SAAA,iBAAuF;IAC3F3B,EAAA,CAAAG,YAAA,EAAQ;IAEJH,EADJ,CAAAC,cAAA,aAAO,eACiB;IAAAD,EAAA,CAAAE,MAAA,cAAM;IAAAF,EAAA,CAAAG,YAAA,EAAO;IACjCH,EAAA,CAAA2B,SAAA,iBAAkG;IAG9G3B,EAFQ,CAAAG,YAAA,EAAQ,EACN,EACJ;IAGFH,EADJ,CAAAC,cAAA,eAAkB,eACW;IAAAD,EAAA,CAAAE,MAAA,gCAAmB;IAAAF,EAAA,CAAAG,YAAA,EAAM;IAG1CH,EAFR,CAAAC,cAAA,eAAwB,aACb,eACiB;IAAAD,EAAA,CAAAE,MAAA,WAAG;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAC9BH,EAAA,CAAA2B,SAAA,iBAA+F;IACnG3B,EAAA,CAAAG,YAAA,EAAQ;IAEJH,EADJ,CAAAC,cAAA,aAAO,eACiB;IAAAD,EAAA,CAAAE,MAAA,UAAE;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAC7BH,EAAA,CAAA2B,SAAA,iBAAwF;IAC5F3B,EAAA,CAAAG,YAAA,EAAQ;IAEJH,EADJ,CAAAC,cAAA,aAAO,eACiB;IAAAD,EAAA,CAAAE,MAAA,cAAM;IAAAF,EAAA,CAAAG,YAAA,EAAO;IACjCH,EAAA,CAAA2B,SAAA,iBAAwG;IAIxH3B,EAHY,CAAAG,YAAA,EAAQ,EACN,EACJ,EACJ;IAGFH,EADJ,CAAAC,cAAA,eAAqB,kBACoC;IAAvBD,EAAA,CAAAgB,UAAA,mBAAAY,wEAAA;MAAA5B,EAAA,CAAAkB,aAAA,CAAAC,GAAA;MAAA,MAAAZ,MAAA,GAAAP,EAAA,CAAAoB,aAAA;MAAA,OAAApB,EAAA,CAAAqB,WAAA,CAASd,MAAA,CAAAe,UAAA,EAAY;IAAA,EAAC;IAACtB,EAAA,CAAAE,MAAA,gBAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAS;IACtEH,EAAA,CAAAC,cAAA,kBAA6F;IAA1BD,EAAA,CAAAgB,UAAA,mBAAAa,wEAAA;MAAA7B,EAAA,CAAAkB,aAAA,CAAAC,GAAA;MAAA,MAAAZ,MAAA,GAAAP,EAAA,CAAAoB,aAAA;MAAA,OAAApB,EAAA,CAAAqB,WAAA,CAASd,MAAA,CAAAuB,aAAA,EAAe;IAAA,EAAC;IACxF9B,EAAA,CAAAE,MAAA,IACJ;IAAAF,EAAA,CAAAG,YAAA,EAAS;IACTH,EAAA,CAAAC,cAAA,kBAA6E;IAAzBD,EAAA,CAAAgB,UAAA,mBAAAe,wEAAA;MAAA/B,EAAA,CAAAkB,aAAA,CAAAC,GAAA;MAAA,MAAAZ,MAAA,GAAAP,EAAA,CAAAoB,aAAA;MAAA,OAAApB,EAAA,CAAAqB,WAAA,CAASd,MAAA,CAAAyB,YAAA,EAAc;IAAA,EAAC;IAAChC,EAAA,CAAAE,MAAA,iCAAoB;IACrGF,EADqG,CAAAG,YAAA,EAAS,EACxG;IAENH,EAAA,CAAAiC,UAAA,KAAAC,qDAAA,oBAAiC;IASzClC,EADI,CAAAG,YAAA,EAAM,EACJ;;;;IAjD8DH,EAAA,CAAAI,SAAA,IAAiD;IAAjDJ,EAAA,CAAAmC,UAAA,gBAAA5B,MAAA,CAAA6B,cAAA,CAAAC,QAAA,CAAAC,SAAA,CAAiD;IAIvDtC,EAAA,CAAAI,SAAA,GAAgD;IAAhDJ,EAAA,CAAAmC,UAAA,gBAAA5B,MAAA,CAAA6B,cAAA,CAAAC,QAAA,CAAAE,QAAA,CAAgD;IAIzCvC,EAAA,CAAAI,SAAA,GAAoD;IAApDJ,EAAA,CAAAmC,UAAA,gBAAA5B,MAAA,CAAA6B,cAAA,CAAAC,QAAA,CAAAG,YAAA,CAAoD;IAUrDxC,EAAA,CAAAI,SAAA,GAAkD;IAAlDJ,EAAA,CAAAmC,UAAA,gBAAA5B,MAAA,CAAA6B,cAAA,CAAAC,QAAA,CAAAI,UAAA,CAAkD;IAIxDzC,EAAA,CAAAI,SAAA,GAAiD;IAAjDJ,EAAA,CAAAmC,UAAA,gBAAA5B,MAAA,CAAA6B,cAAA,CAAAC,QAAA,CAAAK,SAAA,CAAiD;IAIrC1C,EAAA,CAAAI,SAAA,GAAqD;IAArDJ,EAAA,CAAAmC,UAAA,gBAAA5B,MAAA,CAAA6B,cAAA,CAAAC,QAAA,CAAAM,aAAA,CAAqD;IAQ/F3C,EAAA,CAAAI,SAAA,GAA8C;IAA9CJ,EAAA,CAAAmC,UAAA,aAAA5B,MAAA,CAAAqC,OAAA,IAAArC,MAAA,CAAA6B,cAAA,CAAAS,OAAA,CAA8C;IAC9D7C,EAAA,CAAAI,SAAA,EACJ;IADIJ,EAAA,CAAAK,kBAAA,MAAAE,MAAA,CAAAqC,OAAA,8CACJ;IACgC5C,EAAA,CAAAI,SAAA,EAAmB;IAAnBJ,EAAA,CAAAmC,UAAA,cAAA5B,MAAA,CAAAC,KAAA,CAAmB;IAGnCR,EAAA,CAAAI,SAAA,GAAW;IAAXJ,EAAA,CAAAmC,UAAA,SAAA5B,MAAA,CAAAC,KAAA,CAAW;;;AD1DvC,OAAM,MAAOsC,8BAA8B;EAQvCC,YAAoBC,EAAe;IAAf,KAAAA,EAAE,GAAFA,EAAE;IAPZ,KAAAC,OAAO,GAAG,IAAIrD,YAAY,EAKhC;IAIJ,KAAAsD,IAAI,GAAG,IAAI,CAACF,EAAE,CAACG,KAAK,CAAC;MACjBC,YAAY,EAAE,CAAC,EAAE,EAAE,CAACrD,UAAU,CAACsD,QAAQ,EAAEtD,UAAU,CAACuD,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MAClEC,iBAAiB,EAAE,CAAC,KAAK;KAC5B,CAAC;IAEF,KAAAnB,cAAc,GAAG,IAAI,CAACY,EAAE,CAACG,KAAK,CAAC;MAC3Bb,SAAS,EAAE,CAAC,EAAE,EAAE,CAACvC,UAAU,CAACsD,QAAQ,EAAEtD,UAAU,CAACuD,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/Df,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACxC,UAAU,CAACsD,QAAQ,EAAEtD,UAAU,CAACuD,SAAS,CAAC,CAAC,CAAC,EAAEvD,UAAU,CAACyD,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MACvFhB,YAAY,EAAE,CAAC,EAAE,EAAE,CAACzC,UAAU,CAACsD,QAAQ,EAAEtD,UAAU,CAACuD,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MAClEb,UAAU,EAAE,CAAC,EAAE,EAAE,CAAC1C,UAAU,CAACsD,QAAQ,EAAEtD,UAAU,CAACuD,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MAChEZ,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC3C,UAAU,CAACsD,QAAQ,EAAEtD,UAAU,CAACuD,SAAS,CAAC,CAAC,CAAC,EAAEvD,UAAU,CAACyD,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MACxFb,aAAa,EAAE,CAAC,EAAE,EAAE,CAAC5C,UAAU,CAACsD,QAAQ,EAAEtD,UAAU,CAACuD,SAAS,CAAC,CAAC,CAAC,CAAC;KACrE,CAAC;IAEF,KAAAG,SAAS,GAAG,KAAK;IACjB,KAAAb,OAAO,GAAG,KAAK;EAjBuB;EAoBtC;EACAc,kBAAkBA,CAAA;IACd,MAAMC,OAAO,GAAG,IAAI,CAACT,IAAI,CAACU,KAAK,CAACL,iBAAiB,KAAK,IAAI;IAC1D,IAAII,OAAO,EAAE,IAAI,CAACE,SAAS,EAAE;IAC7B,IAAI,CAACC,IAAI,EAAE;EACf;EACAD,SAASA,CAAA;IAAK,IAAI,CAACJ,SAAS,GAAG,IAAI;EAAE;EACrCnC,UAAUA,CAAA;IAAK,IAAI,CAACmC,SAAS,GAAG,KAAK;EAAE;EAEjC3B,aAAaA,CAAA;IAAA,IAAAiC,KAAA;IAAA,OAAAC,iBAAA;MACf,IAAID,KAAI,CAAC3B,cAAc,CAACS,OAAO,EAAE;MACjCkB,KAAI,CAACnB,OAAO,GAAG,IAAI;MACnB,IAAI;QACA,MAAMqB,IAAI,GAAiB;UACvBC,MAAM,EAAE;YACJC,GAAG,EAAEJ,KAAI,CAAC3B,cAAc,CAACwB,KAAK,CAACtB,SAAU,CAAC8B,IAAI,EAAE;YAChDC,EAAE,EAAE,CAACN,KAAI,CAAC3B,cAAc,CAACwB,KAAK,CAACrB,QAAQ,IAAI,EAAE,EAAE6B,IAAI,EAAE,CAACE,WAAW,EAAE;YACnEC,MAAM,EAAER,KAAI,CAAC3B,cAAc,CAACwB,KAAK,CAACpB,YAAa,CAAC4B,IAAI;WACvD;UACDI,OAAO,EAAE;YACLL,GAAG,EAAEJ,KAAI,CAAC3B,cAAc,CAACwB,KAAK,CAACnB,UAAW,CAAC2B,IAAI,EAAE;YACjDC,EAAE,EAAE,CAACN,KAAI,CAAC3B,cAAc,CAACwB,KAAK,CAAClB,SAAS,IAAI,EAAE,EAAE0B,IAAI,EAAE,CAACE,WAAW,EAAE;YACpEC,MAAM,EAAER,KAAI,CAAC3B,cAAc,CAACwB,KAAK,CAACjB,aAAc,CAACyB,IAAI;WACxD;UACDK,SAAS,EAAE,aAAa;UACxBC,KAAK,EAAE,CAAC;UACRC,YAAY,EAAE;SACjB;QAED,MAAMC,GAAG,SAASC,KAAK,CAAC,0BAA0B,EAAE;UAChDC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YAAE,cAAc,EAAE;UAAkB,CAAE;UAC/CC,WAAW,EAAE,SAAS;UACtBf,IAAI,EAAEgB,IAAI,CAACC,SAAS,CAACjB,IAAI;SAC5B,CAAC;QACF,IAAI,CAACW,GAAG,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;QACzDrB,KAAI,CAACvD,KAAK,SAASoE,GAAG,CAACS,IAAI,EAAgB;MAC/C,CAAC,CAAC,MAAM;QACJtB,KAAI,CAACvD,KAAK,GAAG8E,SAAS;QACtBC,KAAK,CAAC,0CAA0C,CAAC;MACrD,CAAC,SAAS;QACNxB,KAAI,CAACnB,OAAO,GAAG,KAAK;MACxB;IAAC;EACL;EAEAZ,YAAYA,CAAA;IACR,IAAI,CAAC,IAAI,CAACxB,KAAK,EAAE;IACjB,IAAI,CAACiD,SAAS,GAAG,KAAK;IACtB,IAAI,CAACK,IAAI,EAAE;EACf;EAEAA,IAAIA,CAAA;IACA,IAAI,CAACb,OAAO,CAACa,IAAI,CAAC;MACdV,YAAY,EAAE,CAAC,IAAI,CAACF,IAAI,CAACU,KAAK,CAACR,YAAY,IAAI,EAAE,EAAEgB,IAAI,EAAE;MACzDb,iBAAiB,EAAE,IAAI,CAACL,IAAI,CAACU,KAAK,CAACL,iBAAiB,KAAK,IAAI;MAC7DiC,eAAe,EAAE,IAAI,CAAChF,KAAK,EAAEG,KAAK;MAClCH,KAAK,EAAE,IAAI,CAACA;KACf,CAAC;EACN;;;uBAtFSsC,8BAA8B,EAAA9C,EAAA,CAAAyF,iBAAA,CAAAC,EAAA,CAAAC,WAAA;IAAA;EAAA;;;YAA9B7C,8BAA8B;MAAA8C,SAAA;MAAAC,OAAA;QAAA5C,OAAA;MAAA;MAAA6C,UAAA;MAAAC,QAAA,GAAA/F,EAAA,CAAAgG,mBAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,wCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCzBvCtG,EADJ,CAAAC,cAAA,aAAyC,YACnB;UAAAD,EAAA,CAAAE,MAAA,wBAAiB;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAGpCH,EADJ,CAAAC,cAAA,eAAmB,eACwF;UAAhCD,EAAA,CAAAgB,UAAA,oBAAAwF,gEAAA;YAAA,OAAUD,GAAA,CAAA7C,kBAAA,EAAoB;UAAA,EAAC;UAAtG1D,EAAA,CAAAG,YAAA,EAAuG;UACvGH,EAAA,CAAAC,cAAA,WAAM;UAAAD,EAAA,CAAAE,MAAA,iBAAU;UAAAF,EAAA,CAAAG,YAAA,EAAO;UACvBH,EAAA,CAAAC,cAAA,gBACyE;UAAjED,EAAA,CAAAgB,UAAA,mBAAAyF,gEAAA;YAAA,OAASF,GAAA,CAAA1C,SAAA,EAAW;UAAA,EAAC;UACzB7D,EAAA,CAAAE,MAAA,8BACJ;UACJF,EADI,CAAAG,YAAA,EAAS,EACL;UAERH,EAAA,CAAA2B,SAAA,aAA2B;UAGvB3B,EADJ,CAAAC,cAAA,gBAAmB,eACK;UAAAD,EAAA,CAAAE,MAAA,qBAAa;UAAAF,EAAA,CAAAG,YAAA,EAAO;UACxCH,EAAA,CAAA2B,SAAA,gBACkD;UAClD3B,EAAA,CAAAiC,UAAA,KAAAyE,+CAAA,kBAA0G;UAG9G1G,EAAA,CAAAG,YAAA,EAAQ;UAERH,EAAA,CAAAiC,UAAA,KAAA0E,8CAAA,mBAAkC;UAKtC3G,EAAA,CAAAG,YAAA,EAAM;UAGNH,EAAA,CAAAiC,UAAA,KAAA2E,8CAAA,oBAA4D;;;UA3B7B5G,EAAA,CAAAI,SAAA,GAA+C;UAA/CJ,EAAA,CAAAmC,UAAA,gBAAAoE,GAAA,CAAArD,IAAA,CAAAb,QAAA,CAAAkB,iBAAA,CAA+C;UAGxCvD,EAAA,CAAAI,SAAA,GAA0C;UAA1CJ,EAAA,CAAAmC,UAAA,cAAAoE,GAAA,CAAArD,IAAA,CAAAU,KAAA,CAAAL,iBAAA,CAA0C;UAUjEvD,EAAA,CAAAI,SAAA,GAA0C;UAA1CJ,EAAA,CAAAmC,UAAA,gBAAAoE,GAAA,CAAArD,IAAA,CAAAb,QAAA,CAAAe,YAAA,CAA0C;UACvBpD,EAAA,CAAAI,SAAA,EAA8E;UAA9EJ,EAAA,CAAAmC,UAAA,SAAAoE,GAAA,CAAArD,IAAA,CAAAb,QAAA,CAAAe,YAAA,CAAAP,OAAA,IAAA0D,GAAA,CAAArD,IAAA,CAAAb,QAAA,CAAAe,YAAA,CAAAyD,OAAA,CAA8E;UAKvF7G,EAAA,CAAAI,SAAA,EAAW;UAAXJ,EAAA,CAAAmC,UAAA,SAAAoE,GAAA,CAAA/F,KAAA,CAAW;UAQhBR,EAAA,CAAAI,SAAA,EAAe;UAAfJ,EAAA,CAAAmC,UAAA,SAAAoE,GAAA,CAAA9C,SAAA,CAAe;;;qBDTrB5D,YAAY,EAAAiH,EAAA,CAAAC,IAAA,EAAAD,EAAA,CAAAE,WAAA,EAAAF,EAAA,CAAAG,YAAA,EAAEnH,mBAAmB,EAAA4F,EAAA,CAAAwB,oBAAA,EAAAxB,EAAA,CAAAyB,4BAAA,EAAAzB,EAAA,CAAA0B,eAAA,EAAA1B,EAAA,CAAA2B,oBAAA;MAAAC,MAAA;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}