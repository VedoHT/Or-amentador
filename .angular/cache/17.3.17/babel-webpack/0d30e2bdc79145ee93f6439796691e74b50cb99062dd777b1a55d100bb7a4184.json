{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterLink } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/orcamentos.service\";\nimport * as i3 from \"src/app/services/toast.service\";\nimport * as i4 from \"@angular/platform-browser\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = () => [];\nfunction ResultComponent_ng_container_0_li_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(s_r2);\n  }\n}\nfunction ResultComponent_ng_container_0_li_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(s_r3);\n  }\n}\nfunction ResultComponent_ng_container_0_div_45_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ResultComponent_ng_container_0_div_45_button_1_Template_button_click_0_listener() {\n      const i_r5 = i0.ɵɵrestoreView(_r4).index;\n      const ctx_r5 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r5.openPhoto(i_r5));\n    });\n    i0.ɵɵelement(1, \"img\", 22);\n    i0.ɵɵelementStart(2, \"span\", 23);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const f_r7 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"title\", \"Abrir foto \" + (i_r5 + 1));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", ctx_r5.safeFoto(f_r7), i0.ɵɵsanitizeUrl)(\"alt\", \"Foto \" + (i_r5 + 1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r5 + 1);\n  }\n}\nfunction ResultComponent_ng_container_0_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, ResultComponent_ng_container_0_div_45_button_1_Template, 4, 4, \"button\", 20);\n    i0.ɵɵpipe(2, \"slice\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const o_r8 = i0.ɵɵnextContext().ngIf;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(2, 2, o_r8.fotos, 0, 5))(\"ngForTrackBy\", ctx_r5.trackByIndex);\n  }\n}\nfunction ResultComponent_ng_container_0_ng_template_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1, \"Sem fotos\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ResultComponent_ng_container_0_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵlistener(\"click\", function ResultComponent_ng_container_0_div_48_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.closeViewer());\n    });\n    i0.ɵɵelementStart(1, \"div\", 25);\n    i0.ɵɵlistener(\"click\", function ResultComponent_ng_container_0_div_48_Template_div_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelement(2, \"img\", 26);\n    i0.ɵɵelementStart(3, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function ResultComponent_ng_container_0_div_48_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.closeViewer());\n    });\n    i0.ɵɵtext(4, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"closing\", ctx_r5.closing);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r5.safeFoto(ctx_r5.currentPhoto), i0.ɵɵsanitizeUrl)(\"alt\", \"Foto \" + (ctx_r5.viewerIndex + 1));\n  }\n}\nfunction ResultComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 3)(2, \"div\", 4)(3, \"div\", 5)(4, \"div\")(5, \"div\", 6);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"h2\", 7);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"a\", 8);\n    i0.ɵɵtext(11, \"Novo or\\u00E7amento\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 9)(13, \"div\", 10)(14, \"div\", 6);\n    i0.ɵɵtext(15, \"Faixa sugerida\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 11);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 10)(19, \"div\", 6);\n    i0.ɵɵtext(20, \"Valor escolhido\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 11);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"div\", 9)(24, \"div\", 10)(25, \"div\", 6);\n    i0.ɵɵtext(26, \"M\\u00E9dia do novo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 11);\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 6);\n    i0.ɵɵtext(30, \"Fontes:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"ul\", 6);\n    i0.ɵɵtemplate(32, ResultComponent_ng_container_0_li_32_Template, 2, 1, \"li\", 12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 10)(34, \"div\", 6);\n    i0.ɵɵtext(35, \"M\\u00E9dia do usado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"div\", 11);\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"div\", 6);\n    i0.ɵɵtext(39, \"Fontes:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"ul\", 6);\n    i0.ɵɵtemplate(41, ResultComponent_ng_container_0_li_41_Template, 2, 1, \"li\", 12);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(42, \"div\")(43, \"div\", 6);\n    i0.ɵɵtext(44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(45, ResultComponent_ng_container_0_div_45_Template, 3, 6, \"div\", 13)(46, ResultComponent_ng_container_0_ng_template_46_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(48, ResultComponent_ng_container_0_div_48_Template, 5, 4, \"div\", 14);\n    i0.ɵɵelementStart(49, \"div\", 10)(50, \"div\", 6);\n    i0.ɵɵtext(51, \"Link p\\u00FAblico\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"div\", 15)(53, \"code\", 16);\n    i0.ɵɵtext(54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ResultComponent_ng_container_0_Template_button_click_55_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.copy());\n    });\n    i0.ɵɵtext(56, \"Copiar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"a\", 18);\n    i0.ɵɵtext(58, \"Abrir\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const o_r8 = ctx.ngIf;\n    const noPhotos_r10 = i0.ɵɵreference(47);\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" Or\\u00E7amento \\u2022 \", i0.ɵɵpipeBind2(7, 16, o_r8.createdAt || o_r8.criadoEm, \"short\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", o_r8.categoria, \" \\u2014 \", o_r8.modelo, \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate2(\"R$ \", o_r8.precoMin, \" \\u2013 R$ \", o_r8.precoMax, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"R$ \", o_r8.precoEscolhido, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"R$ \", o_r8.mediaNovo, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", o_r8.fontesNovo || i0.ɵɵpureFunction0(19, _c0));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"R$ \", o_r8.mediaUsado, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", o_r8.fontesUsado || i0.ɵɵpureFunction0(20, _c0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Fotos (\", ((o_r8.fotos == null ? null : o_r8.fotos.length) || 0) > 5 ? 5 : (o_r8.fotos == null ? null : o_r8.fotos.length) || 0, \"/5)\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", o_r8.fotos == null ? null : o_r8.fotos.length)(\"ngIfElse\", noPhotos_r10);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.viewerOpen);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.link, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"href\", \"/o/\" + ((o_r8 == null ? null : o_r8.slug) || \"\"), i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ResultComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtext(1, \"Or\\u00E7amento n\\u00E3o encontrado.\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ResultComponent {\n  get currentPhoto() {\n    const list = this.data?.fotos ?? [];\n    const cap = Math.min(list.length, 5);\n    return cap ? list[this.viewerIndex % cap] : '';\n  }\n  constructor(route, orcamentos, toast, sanitizer) {\n    this.route = route;\n    this.orcamentos = orcamentos;\n    this.toast = toast;\n    this.sanitizer = sanitizer;\n    this.slug = '';\n    this.link = '';\n    this.loading = true;\n    this.viewerOpen = false;\n    this.viewerIndex = 0;\n    this.closing = false;\n    const slugParam = this.route.snapshot.paramMap.get('slug') || '';\n    this.link = `${window.location.origin}/o/${slugParam}`;\n  }\n  ngOnInit() {\n    this.slug = this.route.snapshot.paramMap.get('slug') || '';\n    if (!this.slug) {\n      this.loading = false;\n      return;\n    }\n    this.orcamentos.getBySlug(this.slug).subscribe({\n      next: q => {\n        // normaliza campos para o template\n        this.data = {\n          ...q,\n          fotos: q?.fotos ?? [],\n          fontesNovo: q?.fontesNovo ?? [],\n          fontesUsado: q?.fontesUsado ?? [],\n          createdAt: q?.createdAt ?? q?.criadoEm ?? null\n        };\n        this.loading = false;\n      },\n      error: () => {\n        this.loading = false;\n      }\n    });\n  }\n  copy() {\n    navigator.clipboard.writeText(this.link).then(() => this.toast.success('Link copiado!'), () => this.toast.warn('Não foi possível copiar o link.'));\n  }\n  safeFoto(f) {\n    return this.sanitizer.bypassSecurityTrustUrl(f);\n  }\n  openPhoto(i) {\n    this.viewerIndex = i;\n    this.closing = false;\n    this.viewerOpen = true;\n  }\n  closeViewer() {\n    if (!this.viewerOpen) return;\n    this.closing = true;\n    setTimeout(() => {\n      this.viewerOpen = false;\n      this.closing = false;\n    }, 160); // deve bater com a duração do CSS\n  }\n  next() {\n    const cap = Math.min(this.data?.fotos?.length ?? 0, 5);\n    if (cap) this.viewerIndex = (this.viewerIndex + 1) % cap;\n  }\n  prev() {\n    const cap = Math.min(this.data?.fotos?.length ?? 0, 5);\n    if (cap) this.viewerIndex = (this.viewerIndex - 1 + cap) % cap;\n  }\n  onEsc() {\n    if (this.viewerOpen) this.closeViewer();\n  }\n  onRight() {\n    if (this.viewerOpen) this.next();\n  }\n  onLeft() {\n    if (this.viewerOpen) this.prev();\n  }\n  trackByIndex(i) {\n    return i;\n  }\n  static {\n    this.ɵfac = function ResultComponent_Factory(t) {\n      return new (t || ResultComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.OrcamentosService), i0.ɵɵdirectiveInject(i3.ToastService), i0.ɵɵdirectiveInject(i4.DomSanitizer));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ResultComponent,\n      selectors: [[\"app-result\"]],\n      hostBindings: function ResultComponent_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"keydown.escape\", function ResultComponent_keydown_escape_HostBindingHandler() {\n            return ctx.onEsc();\n          }, false, i0.ɵɵresolveDocument)(\"keydown.arrowRight\", function ResultComponent_keydown_arrowRight_HostBindingHandler() {\n            return ctx.onRight();\n          }, false, i0.ɵɵresolveDocument)(\"keydown.arrowLeft\", function ResultComponent_keydown_arrowLeft_HostBindingHandler() {\n            return ctx.onLeft();\n          }, false, i0.ɵɵresolveDocument);\n        }\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 3,\n      vars: 2,\n      consts: [[\"notFound\", \"\"], [\"noPhotos\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"grid\", \"form-shell\"], [1, \"card\", \"grid\", 2, \"gap\", \"16px\"], [2, \"display\", \"flex\", \"align-items\", \"center\", \"justify-content\", \"space-between\", \"gap\", \"12px\"], [1, \"small\"], [2, \"margin\", \"0\"], [\"routerLink\", \"/novo\", 1, \"btn\", \"btn-ghost\"], [1, \"form-shell\"], [1, \"card\"], [1, \"price\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"photos thumb-grid\", 4, \"ngIf\", \"ngIfElse\"], [\"class\", \"lightbox\", \"tabindex\", \"-1\", \"aria-modal\", \"true\", \"role\", \"dialog\", 3, \"closing\", \"click\", 4, \"ngIf\"], [2, \"display\", \"flex\", \"gap\", \"8px\", \"align-items\", \"center\", \"flex-wrap\", \"wrap\"], [2, \"background\", \"color-mix(in oklab, var(--bg-2) 60%, transparent)\", \"border\", \"1px solid var(--border)\", \"padding\", \"8px 10px\", \"border-radius\", \"8px\"], [1, \"btn\", \"btn-ghost\", 3, \"click\"], [1, \"btn\", \"btn-primary\", 3, \"href\"], [1, \"photos\", \"thumb-grid\"], [\"class\", \"thumb-wrap\", \"type\", \"button\", 3, \"title\", \"click\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"type\", \"button\", 1, \"thumb-wrap\", 3, \"click\", \"title\"], [1, \"thumb\", 3, \"src\", \"alt\"], [1, \"badge\"], [\"tabindex\", \"-1\", \"aria-modal\", \"true\", \"role\", \"dialog\", 1, \"lightbox\", 3, \"click\"], [1, \"lightbox-inner\", 3, \"click\"], [3, \"src\", \"alt\"], [\"type\", \"button\", \"aria-label\", \"Fechar\", 1, \"close\", 3, \"click\"], [1, \"card\", \"form-shell\"]],\n      template: function ResultComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, ResultComponent_ng_container_0_Template, 59, 21, \"ng-container\", 2)(1, ResultComponent_ng_template_1_Template, 2, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        }\n        if (rf & 2) {\n          const notFound_r11 = i0.ɵɵreference(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.data)(\"ngIfElse\", notFound_r11);\n        }\n      },\n      dependencies: [CommonModule, i5.NgForOf, i5.NgIf, i5.SlicePipe, i5.DatePipe, RouterLink],\n      styles: [\"\\n\\n.thumb-grid[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-columns: repeat(auto-fill, minmax(96px, 1fr));\\n    gap: 8px;\\n}\\n\\n\\n\\n.thumb-wrap[_ngcontent-%COMP%] {\\n    position: relative;\\n    padding: 0;\\n    border: 1px solid var(--border);\\n    background: var(--bg-2);\\n    border-radius: 12px;\\n    cursor: zoom-in;\\n    overflow: hidden;\\n}\\n\\n\\n\\n.thumb[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 100%;\\n    aspect-ratio: 1 / 1;       \\n\\n    object-fit: cover;         \\n\\n    display: block;\\n}\\n\\n\\n\\n.badge[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 6px;\\n    left: 6px;\\n    font-size: 12px;\\n    line-height: 1;\\n    padding: 4px 6px;\\n    border-radius: 9999px;\\n    background: var(--accent);\\n    color: #000;\\n    border: 1px solid var(--border);\\n    box-shadow: 0 1px 2px rgba(0,0,0,.25);\\n}\\n\\n\\n\\n.lightbox[_ngcontent-%COMP%] {\\n    position: fixed;\\n    inset: 0;\\n    background: rgba(0,0,0,.7);\\n    -webkit-backdrop-filter: blur(2px);\\n            backdrop-filter: blur(2px);\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    z-index: 1000;\\n}\\n\\n.lightbox-inner[_ngcontent-%COMP%] {\\n    position: relative;\\n    max-width: 90vw;\\n    max-height: 90vh;\\n}\\n\\n.lightbox-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n    display: block;\\n    max-width: 90vw;\\n    max-height: 90vh;\\n    border-radius: 12px;\\n    border: 1px solid var(--border);\\n    background: var(--bg);\\n}\\n\\n.lightbox[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: -12px;\\n    right: -12px;\\n    width: 36px;\\n    height: 36px;\\n    border-radius: 9999px;\\n    border: 1px solid var(--border);\\n    background: var(--bg-2);\\n    color: inherit;\\n    cursor: pointer;\\n}\\n\\n\\n\\n.lightbox[_ngcontent-%COMP%] {\\n    \\n\\n    background: rgba(0,0,0,0);\\n    animation: _ngcontent-%COMP%_lb-fade-in .15s ease-out forwards;\\n}\\n\\n.lightbox-inner[_ngcontent-%COMP%] {\\n    \\n\\n    opacity: 0;\\n    transform: scale(.965) translateY(8px);\\n    animation: _ngcontent-%COMP%_lb-pop-in .18s cubic-bezier(.2,.8,.2,1) .02s forwards;\\n    will-change: transform, opacity;\\n}\\n\\n@keyframes _ngcontent-%COMP%_lb-fade-in {\\n    to { background: rgba(0,0,0,.7); }\\n}\\n\\n@keyframes _ngcontent-%COMP%_lb-pop-in {\\n    to { opacity: 1; transform: scale(1) translateY(0); }\\n}\\n\\n\\n\\n@media (prefers-reduced-motion: reduce) {\\n    .lightbox[_ngcontent-%COMP%], .lightbox-inner[_ngcontent-%COMP%] { animation: none !important; }\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvcmVzdWx0L3Jlc3VsdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHdCQUF3QjtBQUN4QjtJQUNJLGFBQWE7SUFDYiwyREFBMkQ7SUFDM0QsUUFBUTtBQUNaOztBQUVBLHFDQUFxQztBQUNyQztJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsK0JBQStCO0lBQy9CLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsZUFBZTtJQUNmLGdCQUFnQjtBQUNwQjs7QUFFQSxpQ0FBaUM7QUFDakM7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLG1CQUFtQixRQUFRLGtCQUFrQjtJQUM3QyxpQkFBaUIsVUFBVSx3QkFBd0I7SUFDbkQsY0FBYztBQUNsQjs7QUFFQSxrQ0FBa0M7QUFDbEM7SUFDSSxrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLFNBQVM7SUFDVCxlQUFlO0lBQ2YsY0FBYztJQUNkLGdCQUFnQjtJQUNoQixxQkFBcUI7SUFDckIseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCwrQkFBK0I7SUFDL0IscUNBQXFDO0FBQ3pDOztBQUVBLHFCQUFxQjtBQUNyQjtJQUNJLGVBQWU7SUFDZixRQUFRO0lBQ1IsMEJBQTBCO0lBQzFCLGtDQUEwQjtZQUExQiwwQkFBMEI7SUFDMUIsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQix1QkFBdUI7SUFDdkIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksY0FBYztJQUNkLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLCtCQUErQjtJQUMvQixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLFlBQVk7SUFDWixXQUFXO0lBQ1gsWUFBWTtJQUNaLHFCQUFxQjtJQUNyQiwrQkFBK0I7SUFDL0IsdUJBQXVCO0lBQ3ZCLGNBQWM7SUFDZCxlQUFlO0FBQ25COztBQUVBLGdDQUFnQztBQUNoQztJQUNJLG1DQUFtQztJQUNuQyx5QkFBeUI7SUFDekIsNENBQTRDO0FBQ2hEOztBQUVBO0lBQ0ksNkRBQTZEO0lBQzdELFVBQVU7SUFDVixzQ0FBc0M7SUFDdEMsZ0VBQWdFO0lBQ2hFLCtCQUErQjtBQUNuQzs7QUFFQTtJQUNJLEtBQUssMEJBQTBCLEVBQUU7QUFDckM7O0FBRUE7SUFDSSxLQUFLLFVBQVUsRUFBRSxpQ0FBaUMsRUFBRTtBQUN4RDs7QUFFQSxrREFBa0Q7QUFDbEQ7SUFDSSw2QkFBNkIsMEJBQTBCLEVBQUU7QUFDN0QiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBncmFkZSBkZSBtaW5pYXR1cmFzICovXHJcbi50aHVtYi1ncmlkIHtcclxuICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCg5NnB4LCAxZnIpKTtcclxuICAgIGdhcDogOHB4O1xyXG59XHJcblxyXG4vKiBib3TDg8KjbyBxdWUgZW52b2x2ZSBjYWRhIG1pbmlhdHVyYSAqL1xyXG4udGh1bWItd3JhcCB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLTIpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICAgIGN1cnNvcjogem9vbS1pbjtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi8qIGltYWdlbSBwZXF1ZW5hIChxdWFkcmFkaW5oYSkgKi9cclxuLnRodW1iIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgYXNwZWN0LXJhdGlvOiAxIC8gMTsgICAgICAgLyogZmljYSBxdWFkcmFkYSAqL1xyXG4gICAgb2JqZWN0LWZpdDogY292ZXI7ICAgICAgICAgLyogY29ydGEgc2VtIGRpc3RvcmNlciAqL1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuXHJcbi8qIGNvbnRhZG9yIChib2xpbmhhIGNvbSBuw4PCum1lcm8pICovXHJcbi5iYWRnZSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDZweDtcclxuICAgIGxlZnQ6IDZweDtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAxO1xyXG4gICAgcGFkZGluZzogNHB4IDZweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDk5OTlweDtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudCk7XHJcbiAgICBjb2xvcjogIzAwMDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7XHJcbiAgICBib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLDAsMCwuMjUpO1xyXG59XHJcblxyXG4vKiBsaWdodGJveCAvIG1vZGFsICovXHJcbi5saWdodGJveCB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBpbnNldDogMDtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjcpO1xyXG4gICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDJweCk7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgei1pbmRleDogMTAwMDtcclxufVxyXG5cclxuLmxpZ2h0Ym94LWlubmVyIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIG1heC13aWR0aDogOTB2dztcclxuICAgIG1heC1oZWlnaHQ6IDkwdmg7XHJcbn1cclxuXHJcbi5saWdodGJveC1pbm5lciBpbWcge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXgtd2lkdGg6IDkwdnc7XHJcbiAgICBtYXgtaGVpZ2h0OiA5MHZoO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZyk7XHJcbn1cclxuXHJcbi5saWdodGJveCAuY2xvc2Uge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAtMTJweDtcclxuICAgIHJpZ2h0OiAtMTJweDtcclxuICAgIHdpZHRoOiAzNnB4O1xyXG4gICAgaGVpZ2h0OiAzNnB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogOTk5OXB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLTIpO1xyXG4gICAgY29sb3I6IGluaGVyaXQ7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi8qIC0tLSBhbmltYcODwqfDg8KjbyBkZSBlbnRyYWRhIC0tLSAqL1xyXG4ubGlnaHRib3gge1xyXG4gICAgLyogY29tZcODwqdhIHRyYW5zcGFyZW50ZSBlIGVzY3VyZWNlICovXHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDApO1xyXG4gICAgYW5pbWF0aW9uOiBsYi1mYWRlLWluIC4xNXMgZWFzZS1vdXQgZm9yd2FyZHM7XHJcbn1cclxuXHJcbi5saWdodGJveC1pbm5lciB7XHJcbiAgICAvKiBjb21lw4PCp2EgbGV2ZW1lbnRlIG1lbm9yIGUgdHJhbnNsYWRhIHVtIHRpcXVpbmhvIHByYSBiYWl4byAqL1xyXG4gICAgb3BhY2l0eTogMDtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoLjk2NSkgdHJhbnNsYXRlWSg4cHgpO1xyXG4gICAgYW5pbWF0aW9uOiBsYi1wb3AtaW4gLjE4cyBjdWJpYy1iZXppZXIoLjIsLjgsLjIsMSkgLjAycyBmb3J3YXJkcztcclxuICAgIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm0sIG9wYWNpdHk7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgbGItZmFkZS1pbiB7XHJcbiAgICB0byB7IGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjcpOyB9XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgbGItcG9wLWluIHtcclxuICAgIHRvIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiBzY2FsZSgxKSB0cmFuc2xhdGVZKDApOyB9XHJcbn1cclxuXHJcbi8qIGFjZXNzaWJpbGlkYWRlOiByZXNwZWl0YSByZWR1w4PCp8ODwqNvIGRlIG1vdmltZW50byAqL1xyXG5AbWVkaWEgKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSkge1xyXG4gICAgLmxpZ2h0Ym94LCAubGlnaHRib3gtaW5uZXIgeyBhbmltYXRpb246IG5vbmUgIWltcG9ydGFudDsgfVxyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","RouterLink","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","s_r2","s_r3","ɵɵlistener","ResultComponent_ng_container_0_div_45_button_1_Template_button_click_0_listener","i_r5","ɵɵrestoreView","_r4","index","ctx_r5","ɵɵnextContext","ɵɵresetView","openPhoto","ɵɵelement","ɵɵproperty","safeFoto","f_r7","ɵɵsanitizeUrl","ɵɵtemplate","ResultComponent_ng_container_0_div_45_button_1_Template","ɵɵpipeBind3","o_r8","fotos","trackByIndex","ResultComponent_ng_container_0_div_48_Template_div_click_0_listener","_r9","closeViewer","ResultComponent_ng_container_0_div_48_Template_div_click_1_listener","$event","stopPropagation","ResultComponent_ng_container_0_div_48_Template_button_click_3_listener","ɵɵclassProp","closing","currentPhoto","viewerIndex","ɵɵelementContainerStart","ResultComponent_ng_container_0_li_32_Template","ResultComponent_ng_container_0_li_41_Template","ResultComponent_ng_container_0_div_45_Template","ResultComponent_ng_container_0_ng_template_46_Template","ɵɵtemplateRefExtractor","ResultComponent_ng_container_0_div_48_Template","ResultComponent_ng_container_0_Template_button_click_55_listener","_r1","copy","ɵɵtextInterpolate1","ɵɵpipeBind2","createdAt","criadoEm","ɵɵtextInterpolate2","categoria","modelo","precoMin","precoMax","precoEscolhido","mediaNovo","fontesNovo","ɵɵpureFunction0","_c0","mediaUsado","fontesUsado","length","noPhotos_r10","viewerOpen","link","slug","ResultComponent","list","data","cap","Math","min","constructor","route","orcamentos","toast","sanitizer","loading","slugParam","snapshot","paramMap","get","window","location","origin","ngOnInit","getBySlug","subscribe","next","q","error","navigator","clipboard","writeText","then","success","warn","f","bypassSecurityTrustUrl","i","setTimeout","prev","onEsc","onRight","onLeft","ɵɵdirectiveInject","i1","ActivatedRoute","i2","OrcamentosService","i3","ToastService","i4","DomSanitizer","selectors","hostBindings","ResultComponent_HostBindings","rf","ctx","ResultComponent_keydown_escape_HostBindingHandler","ɵɵresolveDocument","ResultComponent_keydown_arrowRight_HostBindingHandler","ResultComponent_keydown_arrowLeft_HostBindingHandler","ResultComponent_ng_container_0_Template","ResultComponent_ng_template_1_Template","notFound_r11","i5","NgForOf","NgIf","SlicePipe","DatePipe","styles"],"sources":["G:\\Estudos\\Angular\\Orcamentador\\src\\app\\pages\\result\\result.component.ts","G:\\Estudos\\Angular\\Orcamentador\\src\\app\\pages\\result\\result.component.html"],"sourcesContent":["import { Component, HostListener, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActivatedRoute, RouterLink } from '@angular/router';\nimport { OrcamentosService } from 'src/app/services/orcamentos.service';\nimport { ToastService } from 'src/app/services/toast.service';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\n\ntype DetalheView = any & {\n  fotos?: string[];\n  fontesNovo?: string[];\n  fontesUsado?: string[];\n  createdAt?: string | null;\n  criadoEm?: string | null;\n};\n\n@Component({\n  standalone: true,\n  selector: 'app-result',\n  imports: [CommonModule, RouterLink],\n  templateUrl: './result.component.html',\n  styleUrls: ['./result.component.css']\n})\nexport class ResultComponent implements OnInit {\n  slug = '';\n  link = '';\n  data?: DetalheView;\n  loading = true;\n\n  viewerOpen = false;\n  viewerIndex = 0;\n\n  closing = false;\n\n  get currentPhoto(): string {\n    const list = this.data?.fotos ?? [];\n    const cap = Math.min(list.length, 5);\n    return cap ? list[this.viewerIndex % cap] : '';\n  }\n\n  constructor(\n      private route: ActivatedRoute,\n      private orcamentos: OrcamentosService,\n      private toast: ToastService,\n      private sanitizer: DomSanitizer\n  ) {\n    const slugParam = this.route.snapshot.paramMap.get('slug') || '';\n    this.link = `${window.location.origin}/o/${slugParam}`;\n  }\n\n  ngOnInit(): void {\n    this.slug = this.route.snapshot.paramMap.get('slug') || '';\n    if (!this.slug) { this.loading = false; return; }\n\n    this.orcamentos.getBySlug(this.slug).subscribe({\n      next: (q) => {\n        // normaliza campos para o template\n        this.data = {\n          ...q,\n          fotos: q?.fotos ?? [],\n          fontesNovo: (q as any)?.fontesNovo ?? [],\n          fontesUsado: (q as any)?.fontesUsado ?? [],\n          createdAt: (q as any)?.createdAt ?? (q as any)?.criadoEm ?? null,\n        };\n        this.loading = false;\n      },\n      error: () => { this.loading = false; }\n    });\n  }\n\n  copy(): void {\n    navigator.clipboard.writeText(this.link).then(\n        () => this.toast.success('Link copiado!'),\n        () => this.toast.warn('Não foi possível copiar o link.')\n    );\n  }\n\n  safeFoto(f: string): SafeUrl {\n    return this.sanitizer.bypassSecurityTrustUrl(f);\n  }\n\n  openPhoto(i: number) {\n    this.viewerIndex = i;\n    this.closing = false;\n    this.viewerOpen = true;\n  }\n\n  closeViewer() {\n    if (!this.viewerOpen) return;\n    this.closing = true;\n    setTimeout(() => {\n      this.viewerOpen = false;\n      this.closing = false;\n    }, 160); // deve bater com a duração do CSS\n  }\n\n  next() {\n    const cap = Math.min(this.data?.fotos?.length ?? 0, 5);\n    if (cap) this.viewerIndex = (this.viewerIndex + 1) % cap;\n  }\n  prev() {\n    const cap = Math.min(this.data?.fotos?.length ?? 0, 5);\n    if (cap) this.viewerIndex = (this.viewerIndex - 1 + cap) % cap;\n  }\n\n  @HostListener('document:keydown.escape') onEsc() { if (this.viewerOpen) this.closeViewer(); }\n  @HostListener('document:keydown.arrowRight') onRight() { if (this.viewerOpen) this.next(); }\n  @HostListener('document:keydown.arrowLeft') onLeft() { if (this.viewerOpen) this.prev(); }\n\n  trackByIndex(i: number) { return i; }\n}\n","<ng-container *ngIf=\"data as o; else notFound\">\n    <div class=\"grid form-shell\">\n        <div class=\"card grid\" style=\"gap:16px;\">\n            <div style=\"display:flex; align-items:center; justify-content:space-between; gap:12px;\">\n                <div>\n                    <div class=\"small\">\n                        Orçamento • {{ (o.createdAt || o.criadoEm) | date:'short' }}\n                    </div>\n                    <h2 style=\"margin:0;\">{{ o.categoria }} — {{ o.modelo }}</h2>\n                </div>\n                <a routerLink=\"/novo\" class=\"btn btn-ghost\">Novo orçamento</a>\n            </div>\n\n            <div class=\"form-shell\">\n                <div class=\"card\">\n                    <div class=\"small\">Faixa sugerida</div>\n                    <div class=\"price\">R$ {{ o.precoMin }} – R$ {{ o.precoMax }}</div>\n                </div>\n                <div class=\"card\">\n                    <div class=\"small\">Valor escolhido</div>\n                    <div class=\"price\">R$ {{ o.precoEscolhido }}</div>\n                </div>\n            </div>\n\n            <div class=\"form-shell\">\n                <div class=\"card\">\n                    <div class=\"small\">Média do novo</div>\n                    <div class=\"price\">R$ {{ o.mediaNovo }}</div>\n                    <div class=\"small\">Fontes:</div>\n                    <ul class=\"small\">\n                        <li *ngFor=\"let s of (o.fontesNovo || [])\">{{ s }}</li>\n                    </ul>\n                </div>\n                <div class=\"card\">\n                    <div class=\"small\">Média do usado</div>\n                    <div class=\"price\">R$ {{ o.mediaUsado }}</div>\n                    <div class=\"small\">Fontes:</div>\n                    <ul class=\"small\">\n                        <li *ngFor=\"let s of (o.fontesUsado || [])\">{{ s }}</li>\n                    </ul>\n                </div>\n            </div>\n\n            <div>\n                <div class=\"small\">Fotos ({{ (o.fotos?.length || 0) > 5 ? 5 : (o.fotos?.length || 0) }}/5)</div>\n\n                <div class=\"photos thumb-grid\" *ngIf=\"o.fotos?.length; else noPhotos\">\n                    <button\n                            class=\"thumb-wrap\"\n                            *ngFor=\"let f of o.fotos | slice:0:5; let i = index; trackBy: trackByIndex\"\n                            type=\"button\"\n                            (click)=\"openPhoto(i)\"\n                            [title]=\"'Abrir foto ' + (i + 1)\">\n                        <img class=\"thumb\" [src]=\"safeFoto(f)\" [alt]=\"'Foto ' + (i + 1)\" />\n                        <span class=\"badge\">{{ i + 1 }}</span>\n                    </button>\n                </div>\n\n                <ng-template #noPhotos><div class=\"small\">Sem fotos</div></ng-template>\n            </div>\n\n            <!-- Lightbox -->\n            <div class=\"lightbox\" *ngIf=\"viewerOpen\"\n                 [class.closing]=\"closing\"\n                 (click)=\"closeViewer()\" tabindex=\"-1\" aria-modal=\"true\" role=\"dialog\">\n                <div class=\"lightbox-inner\" (click)=\"$event.stopPropagation()\">\n                    <img [src]=\"safeFoto(currentPhoto)\" [alt]=\"'Foto ' + (viewerIndex + 1)\" />\n                    <button class=\"close\" type=\"button\" (click)=\"closeViewer()\" aria-label=\"Fechar\">×</button>\n                </div>\n            </div>\n\n            <div class=\"card\">\n                <div class=\"small\">Link público</div>\n                <div style=\"display:flex; gap:8px; align-items:center; flex-wrap:wrap;\">\n                    <code\n                            style=\"background:color-mix(in oklab, var(--bg-2) 60%, transparent); border:1px solid var(--border); padding:8px 10px; border-radius:8px;\">\n                        {{ link }}\n                    </code>\n                    <button class=\"btn btn-ghost\" (click)=\"copy()\">Copiar</button>\n                    <a class=\"btn btn-primary\" [href]=\"'/o/' + (o?.slug || '')\">Abrir</a>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n\n<ng-template #notFound>\n    <div class=\"card form-shell\">Orçamento não encontrado.</div>\n</ng-template>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}