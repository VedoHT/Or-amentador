{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { catchError, debounceTime, distinctUntilChanged, filter, map, of, switchMap, tap } from 'rxjs';\nimport { NgxMaskDirective } from \"ngx-mask\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"src/app/services/orcamentos.service\";\nimport * as i4 from \"@angular/common\";\nfunction Step9CustosAdicionaisComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.openModal());\n    });\n    i0.ɵɵtext(1, \" Configurar / calcular \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"label\", 9)(2, \"span\", 15);\n    i0.ɵɵtext(3, \"Valor de transporte (opcional)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 16);\n    i0.ɵɵelementStart(5, \"span\", 17);\n    i0.ɵɵtext(6, \"Se preencher, \");\n    i0.ɵɵelementStart(7, \"b\");\n    i0.ɵɵtext(8, \"substitui\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \" o valor calculado.\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"mask\", \"separator.2\")(\"thousandSeparator\", \".\")(\"prefix\", \"R$ \")(\"dropSpecialCharacters\", true)(\"allowNegativeNumbers\", false)(\"formControl\", ctx_r1.transporteForm.controls.valorManual);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Valor (manual): \", i0.ɵɵpipeBind4(3, 1, ctx_r1.valorManual, \"BRL\", \"symbol\", \"1.2-2\"), \"\");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_ng_template_4_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Valor (calculado): \", i0.ɵɵpipeBind4(2, 1, ctx_r1.frete == null ? null : ctx_r1.frete.valor, \"BRL\", \"symbol\", \"1.2-2\"), \" \");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_ng_template_4_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1, \"Aguardando c\\u00E1lculo\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, Step9CustosAdicionaisComponent_div_9_ng_template_4_div_0_Template, 3, 6, \"div\", 22)(1, Step9CustosAdicionaisComponent_div_9_ng_template_4_ng_template_1_Template, 2, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const aguardando_r3 = i0.ɵɵreference(2);\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.frete)(\"ngIfElse\", aguardando_r3);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Dist\\u00E2ncia: \", i0.ɵɵpipeBind2(2, 1, ctx_r1.frete == null ? null : ctx_r1.frete.distanciaKm, \"1.0-0\"), \" km\");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 15);\n    i0.ɵɵtext(2, \"Transporte\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, Step9CustosAdicionaisComponent_div_9_ng_container_3_Template, 4, 6, \"ng-container\", 19)(4, Step9CustosAdicionaisComponent_div_9_ng_template_4_Template, 3, 2, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor)(6, Step9CustosAdicionaisComponent_div_9_div_6_Template, 3, 4, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const calcado_r4 = i0.ɵɵreference(5);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.valorManual && ctx_r1.valorManual > 0)(\"ngIfElse\", calcado_r4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.frete);\n  }\n}\nfunction Step9CustosAdicionaisComponent_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \" Informe seu nome completo. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 31);\n    i0.ɵɵtext(1, \"Buscando CEP\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.cepOrigemErro);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 31);\n    i0.ɵɵtext(1, \"Buscando CEP\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.cepDestinoErro);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.apiError);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_div_61_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Prazo: \", ctx_r1.frete == null ? null : ctx_r1.frete.prazoDias, \" dia(s)\");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_div_61_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51);\n    i0.ɵɵtext(1, \"Detalhe por servi\\u00E7o:\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_div_61_table_8_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_6_0;\n    const s_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(s_r6.nome || s_r6.codigo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", (tmp_6_0 = s_r6.prazoDias) !== null && tmp_6_0 !== undefined ? tmp_6_0 : \"-\", \" d\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(7, 3, s_r6.valor, \"BRL\", \"symbol\", \"1.2-2\"));\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_div_61_table_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 52)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Servi\\u00E7o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Prazo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Valor\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, Step9CustosAdicionaisComponent_div_16_div_61_table_8_tr_10_Template, 8, 8, \"tr\", 53);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.frete.servicos);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_div_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47)(1, \"div\", 15);\n    i0.ɵɵtext(2, \"Resultado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, Step9CustosAdicionaisComponent_div_16_div_61_div_6_Template, 2, 1, \"div\", 20)(7, Step9CustosAdicionaisComponent_div_16_div_61_div_7_Template, 2, 0, \"div\", 48)(8, Step9CustosAdicionaisComponent_div_16_div_61_table_8_Template, 11, 1, \"table\", 49);\n    i0.ɵɵelementStart(9, \"p\", 50);\n    i0.ɵɵtext(10, \" Valores \");\n    i0.ɵɵelementStart(11, \"b\");\n    i0.ɵɵtext(12, \"estimados\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵelementStart(14, \"b\");\n    i0.ɵɵtext(15, \"informe um valor manual\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \" no campo de transporte fora desta janela \\u2014 esse valor ter\\u00E1 prioridade sobre a cota\\u00E7\\u00E3o. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Valor: \", i0.ɵɵpipeBind4(5, 5, ctx_r1.frete.valor, \"BRL\", \"symbol\", \"1.2-2\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.frete == null ? null : ctx_r1.frete.prazoDias) != null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.frete.servicos == null ? null : ctx_r1.frete.servicos.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.frete.servicos == null ? null : ctx_r1.frete.servicos.length);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" por \", ctx_r1.freteFonte || \"parceiro de frete\", \" a partir dos dados informados (CEPs, peso e dimens\\u00F5es). S\\u00E3o cota\\u00E7\\u00F5es indicativas e podem variar no ato da contrata\\u00E7\\u00E3o/postagem. Se preferir, \");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeModal());\n    });\n    i0.ɵɵelementStart(1, \"div\", 26);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_div_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementStart(2, \"div\", 27)(3, \"h4\");\n    i0.ɵɵtext(4, \"Calculadora de frete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeModal());\n    });\n    i0.ɵɵtext(6, \"\\u00D7\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 29)(8, \"div\", 30)(9, \"div\", 31);\n    i0.ɵɵtext(10, \"Endere\\u00E7o de origem\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 32)(12, \"label\")(13, \"span\", 15);\n    i0.ɵɵtext(14, \"CEP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 33);\n    i0.ɵɵelementStart(16, \"div\", 34);\n    i0.ɵɵtemplate(17, Step9CustosAdicionaisComponent_div_16_span_17_Template, 2, 0, \"span\", 35)(18, Step9CustosAdicionaisComponent_div_16_span_18_Template, 2, 1, \"span\", 36);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"label\")(20, \"span\", 15);\n    i0.ɵɵtext(21, \"UF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"input\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"label\")(24, \"span\", 15);\n    i0.ɵɵtext(25, \"Cidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(26, \"input\", 37);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 30)(28, \"div\", 31);\n    i0.ɵɵtext(29, \"Endere\\u00E7o de destino\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 32)(31, \"label\")(32, \"span\", 15);\n    i0.ɵɵtext(33, \"CEP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(34, \"input\", 33);\n    i0.ɵɵelementStart(35, \"div\", 34);\n    i0.ɵɵtemplate(36, Step9CustosAdicionaisComponent_div_16_span_36_Template, 2, 0, \"span\", 35)(37, Step9CustosAdicionaisComponent_div_16_span_37_Template, 2, 1, \"span\", 36);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"label\")(39, \"span\", 15);\n    i0.ɵɵtext(40, \"UF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(41, \"input\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"label\")(43, \"span\", 15);\n    i0.ɵɵtext(44, \"Cidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(45, \"input\", 37);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(46, \"div\", 38)(47, \"label\")(48, \"span\", 15);\n    i0.ɵɵtext(49, \"Peso (kg)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(50, \"input\", 39);\n    i0.ɵɵelementStart(51, \"div\", 31);\n    i0.ɵɵtext(52, \"* Peso aceito pelos Correios: ~0,3 a 30 kg (ajustamos valores fora desse range).\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(53, \"div\", 40);\n    i0.ɵɵtemplate(54, Step9CustosAdicionaisComponent_div_16_span_54_Template, 2, 1, \"span\", 41);\n    i0.ɵɵelementStart(55, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_55_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closeModal());\n    });\n    i0.ɵɵtext(56, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_57_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.calcularFrete());\n    });\n    i0.ɵɵtext(58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_59_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.aplicarFrete());\n    });\n    i0.ɵɵtext(60, \"Aplicar ao or\\u00E7amento\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(61, Step9CustosAdicionaisComponent_div_16_div_61_Template, 17, 10, \"div\", 44);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.origemCep);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.buscandoOrigem);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.cepOrigemErro);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.origemUf);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.origemCidade);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.destinoCep);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.buscandoDestino);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.cepDestinoErro);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.destinoUf);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.destinoCidade);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.transporteForm.controls.pesoKg);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.apiError);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.loading || ctx_r1.transporteForm.invalid);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.loading ? \"Calculando\\u2026\" : \"Calcular frete\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.frete);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.frete);\n  }\n}\nexport class Step9CustosAdicionaisComponent {\n  constructor(fb, httpBackend, orcSvc) {\n    this.fb = fb;\n    this.orcSvc = orcSvc;\n    this.changed = new EventEmitter();\n    this.freteFonte = 'SuperFrete (PAC/SEDEX)';\n    this.form = this.fb.group({\n      nomeCompleto: ['', [Validators.required, Validators.minLength(3)]],\n      incluirTransporte: [false]\n    });\n    this.transporteForm = this.fb.group({\n      // ORIGEM\n      origemCep: ['', [Validators.required, Validators.minLength(8)]],\n      origemUf: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\n      origemCidade: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2)]],\n      // DESTINO\n      destinoCep: ['', [Validators.required, Validators.minLength(8)]],\n      destinoUf: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\n      destinoCidade: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2)]],\n      // CAMPOS DE CÁLCULO\n      pesoKg: [null, [Validators.required, Validators.min(1), Validators.max(100000)]],\n      // VALOR MANUAL (fora da modal)\n      valorManual: [null]\n    });\n    this.modalOpen = false;\n    this.loading = false;\n    // status CEP\n    this.buscandoOrigem = false;\n    this.buscandoDestino = false;\n    this.cepOrigemErro = '';\n    this.cepDestinoErro = '';\n    this.apiError = '';\n    this.httpRaw = new HttpClient(httpBackend);\n  }\n  ngOnInit() {\n    // CEP watchers\n    this.watchCep('origemCep', 'origemUf', 'origemCidade', b => this.buscandoOrigem = b, e => this.cepOrigemErro = e);\n    this.watchCep('destinoCep', 'destinoUf', 'destinoCidade', b => this.buscandoDestino = b, e => this.cepDestinoErro = e);\n    // emite quando o VALOR MANUAL muda\n    this.transporteForm.controls.valorManual.valueChanges.pipe(debounceTime(150)).subscribe(() => this.emit());\n    // 👉 emite quando o NOME COMPLETO muda\n    this.form.controls.nomeCompleto.valueChanges.pipe(debounceTime(150)).subscribe(() => this.emit());\n  }\n  // CEP → ViaCEP\n  watchCep(ctrlCep, ctrlUf, ctrlCidade, setBusy, setErr) {\n    const cepCtrl = this.transporteForm.controls[ctrlCep];\n    cepCtrl.valueChanges.pipe(map(v => (v || '').toString().replace(/\\D/g, '')), tap(v => {\n      if (v !== cepCtrl.value) cepCtrl.setValue(v, {\n        emitEvent: false\n      });\n    }), debounceTime(250), distinctUntilChanged(), tap(() => setErr('')), filter(v => v.length >= 8), tap(() => setBusy(true)), switchMap(cep => this.httpRaw.get(`https://viacep.com.br/ws/${cep}/json/`, {\n      withCredentials: false\n    }).pipe(catchError(() => of(null)), tap(() => setBusy(false))))).subscribe(resp => {\n      if (!resp || resp.erro) {\n        this.transporteForm.patchValue({\n          [ctrlUf]: '',\n          [ctrlCidade]: ''\n        }, {\n          emitEvent: false\n        });\n        setErr('CEP não encontrado');\n        return;\n      }\n      this.transporteForm.patchValue({\n        [ctrlUf]: (resp.uf || '').toUpperCase(),\n        [ctrlCidade]: resp.localidade || ''\n      }, {\n        emitEvent: false\n      });\n      setErr('');\n    });\n  }\n  // ======= UI principal =======\n  onToggleTransporte() {\n    // Agora NÃO abrimos a modal automaticamente.\n    this.emit();\n  }\n  openModal() {\n    this.modalOpen = true;\n    this.apiError = '';\n  }\n  closeModal() {\n    this.modalOpen = false;\n  }\n  calcularFrete() {\n    if (this.transporteForm.invalid) return;\n    this.loading = true;\n    this.apiError = '';\n    const raw = this.transporteForm.getRawValue();\n    const body = {\n      origem: {\n        cep: raw.origemCep.trim(),\n        uf: raw.origemUf.toString().toUpperCase(),\n        cidade: raw.origemCidade\n      },\n      destino: {\n        cep: raw.destinoCep.trim(),\n        uf: raw.destinoUf.toString().toUpperCase(),\n        cidade: raw.destinoCidade\n      },\n      pesoKg: Number(raw.pesoKg),\n      // (veículo/carga foram removidos; o back ignora)\n      retornoVazio: false\n    };\n    this.orcSvc.calcularFrete(body).subscribe({\n      next: q => {\n        this.frete = q;\n        this.loading = false;\n        this.emit();\n      },\n      error: err => {\n        this.frete = undefined;\n        this.apiError = err?.error?.mensagem || 'Falha ao calcular frete.';\n        this.loading = false;\n        this.emit();\n      }\n    });\n  }\n  aplicarFrete() {\n    if (!this.frete) return;\n    this.modalOpen = false;\n    this.emit();\n  }\n  // Helpers de valor selecionado\n  get valorManual() {\n    const v = this.transporteForm.value.valorManual;\n    if (v === null || v === undefined || v === '') return null;\n    const n = Number(v);\n    return isNaN(n) ? null : n;\n  }\n  custoSelecionado() {\n    if (this.form.value.incluirTransporte !== true) return undefined;\n    if (this.valorManual && this.valorManual > 0) return this.valorManual;\n    return this.frete?.valor;\n  }\n  emit() {\n    this.changed.emit({\n      nomeCompleto: (this.form.value.nomeCompleto || '').trim(),\n      incluirTransporte: this.form.value.incluirTransporte === true,\n      custoTransporte: this.custoSelecionado(),\n      frete: this.frete\n    });\n  }\n  static {\n    this.ɵfac = function Step9CustosAdicionaisComponent_Factory(t) {\n      return new (t || Step9CustosAdicionaisComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpBackend), i0.ɵɵdirectiveInject(i3.OrcamentosService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: Step9CustosAdicionaisComponent,\n      selectors: [[\"app-step9-custos-adicionais\"]],\n      outputs: {\n        changed: \"changed\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 17,\n      vars: 7,\n      consts: [[\"calcado\", \"\"], [\"aguardando\", \"\"], [1, \"card\", \"grid\", 2, \"gap\", \"12px\"], [1, \"title\"], [1, \"row\"], [\"type\", \"checkbox\", 3, \"change\", \"formControl\"], [\"class\", \"btn btn-ghost sm push-right\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"manual\", 4, \"ngIf\"], [\"class\", \"resumo\", 4, \"ngIf\"], [1, \"col\"], [\"type\", \"text\", \"placeholder\", \"Digite seu nome\", 1, \"input\", 3, \"formControl\"], [\"class\", \"field-hint\", 4, \"ngIf\"], [\"class\", \"modal\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-ghost\", \"sm\", \"push-right\", 3, \"click\"], [1, \"manual\"], [1, \"small\"], [\"type\", \"text\", \"inputmode\", \"numeric\", \"placeholder\", \"R$ 0,00\", 1, \"input\", 3, \"mask\", \"thousandSeparator\", \"prefix\", \"dropSpecialCharacters\", \"allowNegativeNumbers\", \"formControl\"], [1, \"field-hint\", \"small\"], [1, \"resumo\"], [4, \"ngIf\", \"ngIfElse\"], [\"class\", \"pill\", 4, \"ngIf\"], [1, \"pill\"], [\"class\", \"pill\", 4, \"ngIf\", \"ngIfElse\"], [1, \"pill\", \"muted\"], [1, \"field-hint\"], [1, \"modal\", 3, \"click\"], [1, \"modal-inner\", 3, \"click\"], [1, \"modal-head\"], [1, \"btn\", \"btn-ghost\", 3, \"click\"], [1, \"grid\", \"two\"], [1, \"card\"], [1, \"small\", \"muted\"], [1, \"grid\", \"three\"], [\"inputmode\", \"numeric\", \"placeholder\", \"00000000\", 1, \"input\", 3, \"formControl\"], [1, \"hint-row\"], [\"class\", \"small muted\", 4, \"ngIf\"], [\"class\", \"small error\", 4, \"ngIf\"], [\"placeholder\", \"\\u2014\", 1, \"input\", \"readonly\", 3, \"formControl\"], [1, \"grid\", \"one\", 2, \"margin-top\", \"12px\"], [\"type\", \"number\", \"min\", \"0.3\", \"max\", \"30\", \"step\", \"0.1\", \"placeholder\", \"Ex.: 1.5\", 1, \"input\", 3, \"formControl\"], [1, \"actions\"], [\"class\", \"small error\", \"style\", \"margin-right:auto;\", 4, \"ngIf\"], [1, \"btn\", 3, \"click\", \"disabled\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [\"class\", \"quote\", 4, \"ngIf\"], [1, \"small\", \"error\"], [1, \"small\", \"error\", 2, \"margin-right\", \"auto\"], [1, \"quote\"], [\"class\", \"small muted\", \"style\", \"width:100%; margin-top:8px;\", 4, \"ngIf\"], [\"class\", \"servicos\", 4, \"ngIf\"], [1, \"note\"], [1, \"small\", \"muted\", 2, \"width\", \"100%\", \"margin-top\", \"8px\"], [1, \"servicos\"], [4, \"ngFor\", \"ngForOf\"]],\n      template: function Step9CustosAdicionaisComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 2)(1, \"h3\", 3);\n          i0.ɵɵtext(2, \"Custos adicionais\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"label\", 4)(4, \"input\", 5);\n          i0.ɵɵlistener(\"change\", function Step9CustosAdicionaisComponent_Template_input_change_4_listener() {\n            return ctx.onToggleTransporte();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"span\");\n          i0.ɵɵtext(6, \"Transporte\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(7, Step9CustosAdicionaisComponent_button_7_Template, 2, 0, \"button\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(8, Step9CustosAdicionaisComponent_div_8_Template, 10, 6, \"div\", 7)(9, Step9CustosAdicionaisComponent_div_9_Template, 7, 3, \"div\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 2)(11, \"h3\", 3);\n          i0.ɵɵtext(12, \"Nome completo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"label\", 9);\n          i0.ɵɵelement(14, \"input\", 10);\n          i0.ɵɵtemplate(15, Step9CustosAdicionaisComponent_span_15_Template, 2, 0, \"span\", 11);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(16, Step9CustosAdicionaisComponent_div_16_Template, 62, 16, \"div\", 12);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"formControl\", ctx.form.controls.incluirTransporte);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.form.value.incluirTransporte);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.form.value.incluirTransporte);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.form.value.incluirTransporte);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"formControl\", ctx.form.controls.nomeCompleto);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.form.controls.nomeCompleto.invalid && ctx.form.controls.nomeCompleto.touched);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.modalOpen);\n        }\n      },\n      dependencies: [CommonModule, i4.NgForOf, i4.NgIf, i4.DecimalPipe, i4.CurrencyPipe, ReactiveFormsModule, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.CheckboxControlValueAccessor, i1.NgControlStatus, i1.MinValidator, i1.MaxValidator, i1.FormControlDirective, HttpClientModule, NgxMaskDirective],\n      styles: [\".title[_ngcontent-%COMP%] { margin: 0; }\\n.row[_ngcontent-%COMP%] { display:flex; align-items:center; gap:8px; }\\n.row[_ngcontent-%COMP%]   .push-right[_ngcontent-%COMP%] { margin-left:auto; }\\n.col[_ngcontent-%COMP%] { display:flex; flex-direction:column; gap:6px; }\\n.input[_ngcontent-%COMP%] { width:100%; }\\n.input.readonly[_ngcontent-%COMP%] { background: color-mix(in oklab, var(--bg-2) 55%, transparent); cursor: not-allowed; }\\n.divider[_ngcontent-%COMP%] { height:1px; background:var(--border); opacity:.6; }\\n\\n.manual[_ngcontent-%COMP%] { margin-top:6px; }\\n\\n.resumo[_ngcontent-%COMP%] { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }\\n.pill[_ngcontent-%COMP%] { border:1px solid var(--border); border-radius:9999px; padding:4px 10px; background:color-mix(in oklab, var(--bg-2) 60%, transparent); }\\n.pill.muted[_ngcontent-%COMP%] { opacity:.7; }\\n\\n.grid.two[_ngcontent-%COMP%] { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:12px; }\\n.grid.three[_ngcontent-%COMP%] { display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; }\\n.small.muted[_ngcontent-%COMP%] { opacity:.8; }\\n.small.error[_ngcontent-%COMP%] { color:#ff6b6b; }\\n.hint-row[_ngcontent-%COMP%] { display:flex; gap:8px; min-height:18px; }\\n\\n.modal[_ngcontent-%COMP%] { position:fixed; inset:0; background:rgba(0,0,0,.6); display:flex; align-items:center; justify-content:center; z-index:1000; }\\n.modal-inner[_ngcontent-%COMP%] { width:min(980px, 96vw); background:var(--bg); border:1px solid var(--border); border-radius:12px; padding:16px; }\\n.modal-head[_ngcontent-%COMP%] { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }\\n.actions[_ngcontent-%COMP%] { display:flex; gap:8px; align-items:center; justify-content:flex-end; margin-top:12px; }\\n.quote[_ngcontent-%COMP%] { margin-top:10px; display:flex; gap:8px; align-items:center; flex-wrap:wrap; }\\n.note[_ngcontent-%COMP%] { margin-top:8px; font-size: .9rem; opacity:.9; }\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvd2l6YXJkL3Bhc3NvOS1jdXN0b3MtYWRpY2lvbmFpcy9wYXNzbzktY3VzdG9zLWFkaWNpb25haXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLFNBQVMsRUFBRTtBQUNwQixPQUFPLFlBQVksRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEVBQUU7QUFDbEQsbUJBQW1CLGdCQUFnQixFQUFFO0FBQ3JDLE9BQU8sWUFBWSxFQUFFLHFCQUFxQixFQUFFLE9BQU8sRUFBRTtBQUNyRCxTQUFTLFVBQVUsRUFBRTtBQUNyQixrQkFBa0IsNkRBQTZELEVBQUUsbUJBQW1CLEVBQUU7QUFDdEcsV0FBVyxVQUFVLEVBQUUsd0JBQXdCLEVBQUUsVUFBVSxFQUFFOztBQUU3RCxVQUFVLGNBQWMsRUFBRTs7QUFFMUIsVUFBVSxZQUFZLEVBQUUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLGNBQWMsRUFBRTtBQUNyRSxRQUFRLDhCQUE4QixFQUFFLG9CQUFvQixFQUFFLGdCQUFnQixFQUFFLDREQUE0RCxFQUFFO0FBQzlJLGNBQWMsVUFBVSxFQUFFOztBQUUxQixZQUFZLFlBQVksRUFBRSwyREFBMkQsRUFBRSxRQUFRLEVBQUU7QUFDakcsY0FBYyxZQUFZLEVBQUUscUNBQXFDLEVBQUUsT0FBTyxFQUFFO0FBQzVFLGVBQWUsVUFBVSxFQUFFO0FBQzNCLGVBQWUsYUFBYSxFQUFFO0FBQzlCLFlBQVksWUFBWSxFQUFFLE9BQU8sRUFBRSxlQUFlLEVBQUU7O0FBRXBELFNBQVMsY0FBYyxFQUFFLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxZQUFZLEVBQUUsa0JBQWtCLEVBQUUsc0JBQXNCLEVBQUUsWUFBWSxFQUFFO0FBQ3JJLGVBQWUsc0JBQXNCLEVBQUUsb0JBQW9CLEVBQUUsOEJBQThCLEVBQUUsa0JBQWtCLEVBQUUsWUFBWSxFQUFFO0FBQy9ILGNBQWMsWUFBWSxFQUFFLGtCQUFrQixFQUFFLDZCQUE2QixFQUFFLGlCQUFpQixFQUFFO0FBQ2xHLFdBQVcsWUFBWSxFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSx3QkFBd0IsRUFBRSxlQUFlLEVBQUU7QUFDakcsU0FBUyxlQUFlLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxjQUFjLEVBQUU7QUFDckYsUUFBUSxjQUFjLEVBQUUsZ0JBQWdCLEVBQUUsVUFBVSxFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiLnRpdGxlIHsgbWFyZ2luOiAwOyB9XHJcbi5yb3cgeyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjhweDsgfVxyXG4ucm93IC5wdXNoLXJpZ2h0IHsgbWFyZ2luLWxlZnQ6YXV0bzsgfVxyXG4uY29sIHsgZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjpjb2x1bW47IGdhcDo2cHg7IH1cclxuLmlucHV0IHsgd2lkdGg6MTAwJTsgfVxyXG4uaW5wdXQucmVhZG9ubHkgeyBiYWNrZ3JvdW5kOiBjb2xvci1taXgoaW4gb2tsYWIsIHZhcigtLWJnLTIpIDU1JSwgdHJhbnNwYXJlbnQpOyBjdXJzb3I6IG5vdC1hbGxvd2VkOyB9XHJcbi5kaXZpZGVyIHsgaGVpZ2h0OjFweDsgYmFja2dyb3VuZDp2YXIoLS1ib3JkZXIpOyBvcGFjaXR5Oi42OyB9XHJcblxyXG4ubWFudWFsIHsgbWFyZ2luLXRvcDo2cHg7IH1cclxuXHJcbi5yZXN1bW8geyBkaXNwbGF5OmZsZXg7IGdhcDo4cHg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZmxleC13cmFwOndyYXA7IH1cclxuLnBpbGwgeyBib3JkZXI6MXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6OTk5OXB4OyBwYWRkaW5nOjRweCAxMHB4OyBiYWNrZ3JvdW5kOmNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYmctMikgNjAlLCB0cmFuc3BhcmVudCk7IH1cclxuLnBpbGwubXV0ZWQgeyBvcGFjaXR5Oi43OyB9XHJcblxyXG4uZ3JpZC50d28geyBkaXNwbGF5OmdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjYwcHgsIDFmcikpOyBnYXA6MTJweDsgfVxyXG4uZ3JpZC50aHJlZSB7IGRpc3BsYXk6Z3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgMWZyKTsgZ2FwOjhweDsgfVxyXG4uc21hbGwubXV0ZWQgeyBvcGFjaXR5Oi44OyB9XHJcbi5zbWFsbC5lcnJvciB7IGNvbG9yOiNmZjZiNmI7IH1cclxuLmhpbnQtcm93IHsgZGlzcGxheTpmbGV4OyBnYXA6OHB4OyBtaW4taGVpZ2h0OjE4cHg7IH1cclxuXHJcbi5tb2RhbCB7IHBvc2l0aW9uOmZpeGVkOyBpbnNldDowOyBiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjYpOyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OmNlbnRlcjsgei1pbmRleDoxMDAwOyB9XHJcbi5tb2RhbC1pbm5lciB7IHdpZHRoOm1pbig5ODBweCwgOTZ2dyk7IGJhY2tncm91bmQ6dmFyKC0tYmcpOyBib3JkZXI6MXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6MTJweDsgcGFkZGluZzoxNnB4OyB9XHJcbi5tb2RhbC1oZWFkIHsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOyBtYXJnaW4tYm90dG9tOjhweDsgfVxyXG4uYWN0aW9ucyB7IGRpc3BsYXk6ZmxleDsgZ2FwOjhweDsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7IG1hcmdpbi10b3A6MTJweDsgfVxyXG4ucXVvdGUgeyBtYXJnaW4tdG9wOjEwcHg7IGRpc3BsYXk6ZmxleDsgZ2FwOjhweDsgYWxpZ24taXRlbXM6Y2VudGVyOyBmbGV4LXdyYXA6d3JhcDsgfVxyXG4ubm90ZSB7IG1hcmdpbi10b3A6OHB4OyBmb250LXNpemU6IC45cmVtOyBvcGFjaXR5Oi45OyB9XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["EventEmitter","CommonModule","ReactiveFormsModule","Validators","HttpClient","HttpClientModule","catchError","debounceTime","distinctUntilChanged","filter","map","of","switchMap","tap","NgxMaskDirective","i0","ɵɵelementStart","ɵɵlistener","Step9CustosAdicionaisComponent_button_7_Template_button_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","openModal","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty","transporteForm","controls","valorManual","ɵɵelementContainerStart","ɵɵtextInterpolate1","ɵɵpipeBind4","frete","valor","ɵɵtemplate","Step9CustosAdicionaisComponent_div_9_ng_template_4_div_0_Template","Step9CustosAdicionaisComponent_div_9_ng_template_4_ng_template_1_Template","ɵɵtemplateRefExtractor","aguardando_r3","ɵɵpipeBind2","distanciaKm","Step9CustosAdicionaisComponent_div_9_ng_container_3_Template","Step9CustosAdicionaisComponent_div_9_ng_template_4_Template","Step9CustosAdicionaisComponent_div_9_div_6_Template","calcado_r4","ɵɵtextInterpolate","cepOrigemErro","cepDestinoErro","apiError","prazoDias","s_r6","nome","codigo","tmp_6_0","undefined","Step9CustosAdicionaisComponent_div_16_div_61_table_8_tr_10_Template","servicos","Step9CustosAdicionaisComponent_div_16_div_61_div_6_Template","Step9CustosAdicionaisComponent_div_16_div_61_div_7_Template","Step9CustosAdicionaisComponent_div_16_div_61_table_8_Template","length","freteFonte","Step9CustosAdicionaisComponent_div_16_Template_div_click_0_listener","_r5","closeModal","Step9CustosAdicionaisComponent_div_16_Template_div_click_1_listener","$event","stopPropagation","Step9CustosAdicionaisComponent_div_16_Template_button_click_5_listener","Step9CustosAdicionaisComponent_div_16_span_17_Template","Step9CustosAdicionaisComponent_div_16_span_18_Template","Step9CustosAdicionaisComponent_div_16_span_36_Template","Step9CustosAdicionaisComponent_div_16_span_37_Template","Step9CustosAdicionaisComponent_div_16_span_54_Template","Step9CustosAdicionaisComponent_div_16_Template_button_click_55_listener","Step9CustosAdicionaisComponent_div_16_Template_button_click_57_listener","calcularFrete","Step9CustosAdicionaisComponent_div_16_Template_button_click_59_listener","aplicarFrete","Step9CustosAdicionaisComponent_div_16_div_61_Template","origemCep","buscandoOrigem","origemUf","origemCidade","destinoCep","buscandoDestino","destinoUf","destinoCidade","pesoKg","loading","invalid","Step9CustosAdicionaisComponent","constructor","fb","httpBackend","orcSvc","changed","form","group","nomeCompleto","required","minLength","incluirTransporte","value","disabled","maxLength","min","max","modalOpen","httpRaw","ngOnInit","watchCep","b","e","valueChanges","pipe","subscribe","emit","ctrlCep","ctrlUf","ctrlCidade","setBusy","setErr","cepCtrl","v","toString","replace","setValue","emitEvent","cep","get","withCredentials","resp","erro","patchValue","uf","toUpperCase","localidade","onToggleTransporte","raw","getRawValue","body","origem","trim","cidade","destino","Number","retornoVazio","next","q","error","err","mensagem","n","isNaN","custoSelecionado","custoTransporte","ɵɵdirectiveInject","i1","FormBuilder","i2","HttpBackend","i3","OrcamentosService","selectors","outputs","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","Step9CustosAdicionaisComponent_Template","rf","ctx","Step9CustosAdicionaisComponent_Template_input_change_4_listener","Step9CustosAdicionaisComponent_button_7_Template","Step9CustosAdicionaisComponent_div_8_Template","Step9CustosAdicionaisComponent_div_9_Template","Step9CustosAdicionaisComponent_span_15_Template","Step9CustosAdicionaisComponent_div_16_Template","touched","i4","NgForOf","NgIf","DecimalPipe","CurrencyPipe","DefaultValueAccessor","NumberValueAccessor","CheckboxControlValueAccessor","NgControlStatus","MinValidator","MaxValidator","FormControlDirective","styles"],"sources":["G:\\Estudos\\Angular\\Orcamentador\\src\\app\\pages\\wizard\\passo9-custos-adicionais\\passo9-custos-adicionais.component.ts","G:\\Estudos\\Angular\\Orcamentador\\src\\app\\pages\\wizard\\passo9-custos-adicionais\\passo9-custos-adicionais.component.html"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { HttpClient, HttpClientModule, HttpBackend  } from '@angular/common/http';\r\nimport { catchError, debounceTime, distinctUntilChanged, filter, map, of, switchMap, tap } from 'rxjs';\r\nimport { FreteQuote } from 'src/app/models/orcamento.model';\r\nimport { OrcamentosService } from 'src/app/services/orcamentos.service';\r\nimport {NgxMaskDirective} from \"ngx-mask\";\r\n\r\n@Component({\r\n    standalone: true,\r\n    selector: 'app-step9-custos-adicionais',\r\n    imports: [CommonModule, ReactiveFormsModule, HttpClientModule, NgxMaskDirective],\r\n    templateUrl: './passo9-custos-adicionais.component.html',\r\n    styleUrls: ['./passo9-custos-adicionais.component.css']\r\n})\r\n\r\nexport class Step9CustosAdicionaisComponent implements OnInit {\r\n    @Output() changed = new EventEmitter<{\r\n        nomeCompleto: string;\r\n        incluirTransporte: boolean;\r\n        custoTransporte?: number;\r\n        frete?: FreteQuote;\r\n    }>();\r\n\r\n    constructor(\r\n        private fb: FormBuilder,\r\n        httpBackend: HttpBackend,\r\n        private orcSvc: OrcamentosService\r\n    ) { this.httpRaw = new HttpClient(httpBackend); }\r\n\r\n    private httpRaw: HttpClient;\r\n\r\n    freteFonte = 'SuperFrete (PAC/SEDEX)';\r\n\r\n    form = this.fb.group({\r\n        nomeCompleto: ['', [Validators.required, Validators.minLength(3)]],\r\n        incluirTransporte: [false],\r\n    });\r\n\r\n    transporteForm = this.fb.group({\r\n        // ORIGEM\r\n        origemCep: ['', [Validators.required, Validators.minLength(8)]],\r\n        origemUf: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\r\n        origemCidade: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2)]],\r\n        // DESTINO\r\n        destinoCep: ['', [Validators.required, Validators.minLength(8)]],\r\n        destinoUf: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\r\n        destinoCidade: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2)]],\r\n        // CAMPOS DE CÁLCULO\r\n        pesoKg: [null as number | null, [Validators.required, Validators.min(1), Validators.max(100000)]],\r\n        // VALOR MANUAL (fora da modal)\r\n        valorManual: [null as number | null]\r\n    });\r\n\r\n    modalOpen = false;\r\n    loading = false;\r\n    frete?: FreteQuote;\r\n\r\n    // status CEP\r\n    buscandoOrigem = false; buscandoDestino = false;\r\n    cepOrigemErro = ''; cepDestinoErro = '';\r\n    apiError = '';\r\n\r\n    ngOnInit(): void {\r\n        // CEP watchers\r\n        this.watchCep('origemCep','origemUf','origemCidade', b => this.buscandoOrigem = b, e => this.cepOrigemErro = e);\r\n        this.watchCep('destinoCep','destinoUf','destinoCidade', b => this.buscandoDestino = b, e => this.cepDestinoErro = e);\r\n\r\n        // emite quando o VALOR MANUAL muda\r\n        this.transporteForm.controls.valorManual.valueChanges!\r\n            .pipe(debounceTime(150))\r\n            .subscribe(() => this.emit());\r\n\r\n        // 👉 emite quando o NOME COMPLETO muda\r\n        this.form.controls.nomeCompleto.valueChanges!\r\n            .pipe(debounceTime(150))\r\n            .subscribe(() => this.emit());\r\n    }\r\n\r\n    // CEP → ViaCEP\r\n    private watchCep(\r\n        ctrlCep: 'origemCep'|'destinoCep', ctrlUf: 'origemUf'|'destinoUf', ctrlCidade: 'origemCidade'|'destinoCidade',\r\n        setBusy: (b:boolean)=>void, setErr: (m:string)=>void\r\n    ) {\r\n        const cepCtrl = this.transporteForm.controls[ctrlCep];\r\n        cepCtrl.valueChanges!.pipe(\r\n            map(v => (v || '').toString().replace(/\\D/g,'')),\r\n            tap(v => { if (v !== cepCtrl.value) cepCtrl.setValue(v, { emitEvent:false }); }),\r\n            debounceTime(250),\r\n            distinctUntilChanged(),\r\n            tap(() => setErr('')),\r\n            filter(v => v.length >= 8),\r\n            tap(() => setBusy(true)),\r\n            switchMap(cep => this.httpRaw.get<any>(`https://viacep.com.br/ws/${cep}/json/`, { withCredentials: false }).pipe(\r\n                catchError(() => of(null)),\r\n                tap(() => setBusy(false))\r\n            ))\r\n        ).subscribe(resp => {\r\n            if (!resp || resp.erro) {\r\n                this.transporteForm.patchValue({ [ctrlUf]: '', [ctrlCidade]: '' } as any, { emitEvent:false });\r\n                setErr('CEP não encontrado');\r\n                return;\r\n            }\r\n            this.transporteForm.patchValue(\r\n                { [ctrlUf]: (resp.uf || '').toUpperCase(), [ctrlCidade]: resp.localidade || '' } as any,\r\n                { emitEvent:false }\r\n            );\r\n            setErr('');\r\n        });\r\n    }\r\n\r\n    // ======= UI principal =======\r\n    onToggleTransporte() {\r\n        // Agora NÃO abrimos a modal automaticamente.\r\n        this.emit();\r\n    }\r\n\r\n    openModal() { this.modalOpen = true; this.apiError = ''; }\r\n    closeModal() { this.modalOpen = false; }\r\n\r\n    calcularFrete() {\r\n        if (this.transporteForm.invalid) return;\r\n\r\n        this.loading = true; this.apiError = '';\r\n        const raw = this.transporteForm.getRawValue();\r\n\r\n        const body = {\r\n            origem:  { cep: raw.origemCep!.trim(),  uf: raw.origemUf!.toString().toUpperCase(),  cidade: raw.origemCidade! },\r\n            destino: { cep: raw.destinoCep!.trim(), uf: raw.destinoUf!.toString().toUpperCase(), cidade: raw.destinoCidade! },\r\n            pesoKg: Number(raw.pesoKg),\r\n            // (veículo/carga foram removidos; o back ignora)\r\n            retornoVazio: false\r\n        };\r\n\r\n        this.orcSvc.calcularFrete(body as any).subscribe({\r\n            next: (q: FreteQuote) => { this.frete = q; this.loading = false; this.emit(); },\r\n            error: (err) => {\r\n                this.frete = undefined;\r\n                this.apiError = err?.error?.mensagem || 'Falha ao calcular frete.';\r\n                this.loading = false;\r\n                this.emit();\r\n            }\r\n        });\r\n    }\r\n\r\n    aplicarFrete() {\r\n        if (!this.frete) return;\r\n        this.modalOpen = false;\r\n        this.emit();\r\n    }\r\n\r\n    // Helpers de valor selecionado\r\n    get valorManual(): number | null {\r\n        const v = this.transporteForm.value.valorManual as any;\r\n        if (v === null || v === undefined || v === '') return null;\r\n        const n = Number(v);\r\n        return isNaN(n) ? null : n;\r\n    }\r\n    private custoSelecionado(): number | undefined {\r\n        if (this.form.value.incluirTransporte !== true) return undefined;\r\n        if (this.valorManual && this.valorManual > 0) return this.valorManual;\r\n        return this.frete?.valor;\r\n    }\r\n\r\n    emit() {\r\n        this.changed.emit({\r\n            nomeCompleto: (this.form.value.nomeCompleto || '').trim(),\r\n            incluirTransporte: this.form.value.incluirTransporte === true,\r\n            custoTransporte: this.custoSelecionado(),\r\n            frete: this.frete,\r\n        });\r\n    }\r\n}","<!-- CARD: Custos adicionais -->\r\n<div class=\"card grid\" style=\"gap:12px;\">\r\n    <h3 class=\"title\">Custos adicionais</h3>\r\n\r\n    <!-- TRANSPORTE -->\r\n    <label class=\"row\">\r\n        <input type=\"checkbox\"\r\n               [formControl]=\"form.controls.incluirTransporte\"\r\n               (change)=\"onToggleTransporte()\">\r\n        <span>Transporte</span>\r\n\r\n        <!-- Botão só aparece quando marcado -->\r\n        <button class=\"btn btn-ghost sm push-right\" type=\"button\"\r\n                *ngIf=\"form.value.incluirTransporte\"\r\n                (click)=\"openModal()\">\r\n            Configurar / calcular\r\n        </button>\r\n    </label>\r\n\r\n    <!-- Campo de valor manual (currency) quando marcado -->\r\n    <div class=\"manual\" *ngIf=\"form.value.incluirTransporte\">\r\n        <label class=\"col\">\r\n            <span class=\"small\">Valor de transporte (opcional)</span>\r\n            <input\r\n                    class=\"input\"\r\n                    type=\"text\"\r\n                    inputmode=\"numeric\"\r\n                    [mask]=\"'separator.2'\"\r\n                    [thousandSeparator]=\"'.'\"\r\n                    [prefix]=\"'R$ '\"\r\n                    [dropSpecialCharacters]=\"true\"\r\n                    [allowNegativeNumbers]=\"false\"\r\n                    [formControl]=\"transporteForm.controls.valorManual\"\r\n                    placeholder=\"R$ 0,00\" />\r\n            <span class=\"field-hint small\">Se preencher, <b>substitui</b> o valor calculado.</span>\r\n        </label>\r\n    </div>\r\n\r\n    <!-- Resumo/seleção -->\r\n    <div class=\"resumo\" *ngIf=\"form.value.incluirTransporte\">\r\n        <div class=\"small\">Transporte</div>\r\n        <ng-container *ngIf=\"valorManual && valorManual > 0; else calcado\">\r\n            <div class=\"pill\">Valor (manual): {{ valorManual | currency:'BRL':'symbol':'1.2-2' }}</div>\r\n        </ng-container>\r\n        <ng-template #calcado>\r\n            <div class=\"pill\" *ngIf=\"frete; else aguardando\">\r\n                Valor (calculado): {{ frete?.valor | currency:'BRL':'symbol':'1.2-2' }}\r\n            </div>\r\n            <ng-template #aguardando><div class=\"pill muted\">Aguardando cálculo…</div></ng-template>\r\n        </ng-template>\r\n        <div class=\"pill\" *ngIf=\"frete\">Distância: {{ frete?.distanciaKm | number:'1.0-0' }} km</div>\r\n    </div>\r\n</div>\r\n\r\n<!-- CARD: Nome completo (separado) -->\r\n<div class=\"card grid\" style=\"gap:12px;\">\r\n    <h3 class=\"title\">Nome completo</h3>\r\n    <label class=\"col\">\r\n        <input type=\"text\" class=\"input\" placeholder=\"Digite seu nome\"\r\n               [formControl]=\"form.controls.nomeCompleto\">\r\n        <span class=\"field-hint\" *ngIf=\"form.controls.nomeCompleto.invalid && form.controls.nomeCompleto.touched\">\r\n            Informe seu nome completo.\r\n        </span>\r\n    </label>\r\n</div>\r\n\r\n<!-- MODAL -->\r\n<div class=\"modal\" *ngIf=\"modalOpen\" (click)=\"closeModal()\">\r\n    <div class=\"modal-inner\" (click)=\"$event.stopPropagation()\">\r\n        <div class=\"modal-head\">\r\n            <h4>Calculadora de frete</h4>\r\n            <button class=\"btn btn-ghost\" (click)=\"closeModal()\">×</button>\r\n        </div>\r\n\r\n        <div class=\"grid two\">\r\n            <!-- ORIGEM -->\r\n            <div class=\"card\">\r\n                <div class=\"small muted\">Endereço de origem</div>\r\n                <div class=\"grid three\">\r\n                    <label>\r\n                        <span class=\"small\">CEP</span>\r\n                        <input class=\"input\" inputmode=\"numeric\" placeholder=\"00000000\"\r\n                               [formControl]=\"transporteForm.controls.origemCep\">\r\n                        <div class=\"hint-row\">\r\n                            <span class=\"small muted\" *ngIf=\"buscandoOrigem\">Buscando CEP…</span>\r\n                            <span class=\"small error\" *ngIf=\"cepOrigemErro\">{{ cepOrigemErro }}</span>\r\n                        </div>\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">UF</span>\r\n                        <input class=\"input readonly\" placeholder=\"—\"\r\n                               [formControl]=\"transporteForm.controls.origemUf\">\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">Cidade</span>\r\n                        <input class=\"input readonly\" placeholder=\"—\"\r\n                               [formControl]=\"transporteForm.controls.origemCidade\">\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- DESTINO -->\r\n            <div class=\"card\">\r\n                <div class=\"small muted\">Endereço de destino</div>\r\n                <div class=\"grid three\">\r\n                    <label>\r\n                        <span class=\"small\">CEP</span>\r\n                        <input class=\"input\" inputmode=\"numeric\" placeholder=\"00000000\"\r\n                               [formControl]=\"transporteForm.controls.destinoCep\">\r\n                        <div class=\"hint-row\">\r\n                            <span class=\"small muted\" *ngIf=\"buscandoDestino\">Buscando CEP…</span>\r\n                            <span class=\"small error\" *ngIf=\"cepDestinoErro\">{{ cepDestinoErro }}</span>\r\n                        </div>\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">UF</span>\r\n                        <input class=\"input readonly\" placeholder=\"—\"\r\n                               [formControl]=\"transporteForm.controls.destinoUf\">\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">Cidade</span>\r\n                        <input class=\"input readonly\" placeholder=\"—\"\r\n                               [formControl]=\"transporteForm.controls.destinoCidade\">\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- PESO (tiramos os 2 selects) -->\r\n        <div class=\"grid one\" style=\"margin-top:12px;\">\r\n            <label>\r\n                <span class=\"small\">Peso (kg)</span>\r\n                <input class=\"input\" type=\"number\" min=\"0.3\" max=\"30\" step=\"0.1\"\r\n                       placeholder=\"Ex.: 1.5\" [formControl]=\"transporteForm.controls.pesoKg\">\r\n                <div class=\"small muted\">* Peso aceito pelos Correios: ~0,3 a 30 kg (ajustamos valores fora desse range).</div>\r\n            </label>\r\n        </div>\r\n\r\n        <div class=\"actions\">\r\n            <span class=\"small error\" *ngIf=\"apiError\" style=\"margin-right:auto;\">{{ apiError }}</span>\r\n            <button class=\"btn btn-ghost\" (click)=\"closeModal()\">Cancelar</button>\r\n            <button class=\"btn\" [disabled]=\"loading || transporteForm.invalid\" (click)=\"calcularFrete()\">\r\n                {{ loading ? 'Calculando…' : 'Calcular frete' }}\r\n            </button>\r\n            <button class=\"btn btn-primary\" [disabled]=\"!frete\" (click)=\"aplicarFrete()\">Aplicar ao orçamento</button>\r\n        </div>\r\n\r\n        <!-- RESULTADO -->\r\n        <div class=\"quote\" *ngIf=\"frete\">\r\n            <div class=\"small\">Resultado</div>\r\n            <div class=\"pill\">Valor: {{ frete.valor | currency:'BRL':'symbol':'1.2-2' }}</div>\r\n            <div class=\"pill\" *ngIf=\"frete?.prazoDias != null\">Prazo: {{ frete?.prazoDias }} dia(s)</div>\r\n\r\n            <div class=\"small muted\" *ngIf=\"frete.servicos?.length\" style=\"width:100%; margin-top:8px;\">Detalhe por serviço:</div>\r\n            <table class=\"servicos\" *ngIf=\"frete.servicos?.length\">\r\n                <thead><tr><th>Serviço</th><th>Prazo</th><th>Valor</th></tr></thead>\r\n                <tbody>\r\n                <tr *ngFor=\"let s of frete.servicos\">\r\n                    <td>{{ s.nome || s.codigo }}</td>\r\n                    <td>{{ s.prazoDias ?? '-' }} d</td>\r\n                    <td>{{ s.valor | currency:'BRL':'symbol':'1.2-2' }}</td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <p class=\"note\">\r\n                Valores <b>estimados</b> por {{ freteFonte || 'parceiro de frete' }} a partir dos dados informados\r\n                (CEPs, peso e dimensões). São cotações indicativas e podem variar no ato da contratação/postagem.\r\n                Se preferir, <b>informe um valor manual</b> no campo de transporte fora desta janela — esse valor\r\n                terá prioridade sobre a cotação.\r\n            </p>\r\n        </div>\r\n    </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}