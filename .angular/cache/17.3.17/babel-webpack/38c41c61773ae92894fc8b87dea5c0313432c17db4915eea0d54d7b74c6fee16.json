{"ast":null,"code":"import _asyncToGenerator from \"G:/Estudos/Angular/Orcamentador/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { catchError, debounceTime, distinctUntilChanged, filter, map, of, switchMap, tap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/common\";\nfunction Step9CustosAdicionaisComponent_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 12);\n    i0.ɵɵtext(1, \" Informe seu nome completo. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 7);\n    i0.ɵɵtext(2, \"Transporte\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 14);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 14);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Dist\\u00E2ncia: \", i0.ɵɵpipeBind2(5, 2, ctx_r0.frete.distanciaKm, \"1.0-0\"), \" km\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Valor: \", i0.ɵɵpipeBind4(8, 5, ctx_r0.frete.valor, \"BRL\", \"symbol\", \"1.0-0\"), \"\");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \"Buscando CEP\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.cepOrigemErro);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \"Buscando CEP\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_span_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.cepDestinoErro);\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 7);\n    i0.ɵɵtext(2, \"Resultado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 14);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 14);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 21);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Dist\\u00E2ncia: \", i0.ɵɵpipeBind2(5, 4, ctx_r0.frete.distanciaKm, \"1.0-0\"), \" km\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Valor: \", i0.ɵɵpipeBind4(8, 7, ctx_r0.frete.valor, \"BRL\", \"symbol\", \"1.0-0\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" Par\\u00E2metros: CCD \", i0.ɵɵpipeBind2(11, 12, ctx_r0.frete.parametros.ccd, \"1.2-2\"), \" \\u2022 CC \", i0.ɵɵpipeBind4(12, 15, ctx_r0.frete.parametros.cc, \"BRL\", \"symbol\", \"1.0-0\"), \" \");\n  }\n}\nfunction Step9CustosAdicionaisComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeModal());\n    });\n    i0.ɵɵelementStart(1, \"div\", 16);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_div_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelementStart(2, \"div\", 17)(3, \"h4\");\n    i0.ɵɵtext(4, \"Calculadora de frete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeModal());\n    });\n    i0.ɵɵtext(6, \"\\u00D7\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 19)(8, \"div\", 20)(9, \"div\", 21);\n    i0.ɵɵtext(10, \"Endere\\u00E7o de origem\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 22)(12, \"label\")(13, \"span\", 7);\n    i0.ɵɵtext(14, \"CEP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 23);\n    i0.ɵɵelementStart(16, \"div\", 24);\n    i0.ɵɵtemplate(17, Step9CustosAdicionaisComponent_div_16_span_17_Template, 2, 0, \"span\", 25)(18, Step9CustosAdicionaisComponent_div_16_span_18_Template, 2, 1, \"span\", 26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"label\")(20, \"span\", 7);\n    i0.ɵɵtext(21, \"UF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"input\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"label\")(24, \"span\", 7);\n    i0.ɵɵtext(25, \"Cidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(26, \"input\", 27);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 20)(28, \"div\", 21);\n    i0.ɵɵtext(29, \"Endere\\u00E7o de destino\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 22)(31, \"label\")(32, \"span\", 7);\n    i0.ɵɵtext(33, \"CEP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(34, \"input\", 23);\n    i0.ɵɵelementStart(35, \"div\", 24);\n    i0.ɵɵtemplate(36, Step9CustosAdicionaisComponent_div_16_span_36_Template, 2, 0, \"span\", 25)(37, Step9CustosAdicionaisComponent_div_16_span_37_Template, 2, 1, \"span\", 26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"label\")(39, \"span\", 7);\n    i0.ɵɵtext(40, \"UF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(41, \"input\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"label\")(43, \"span\", 7);\n    i0.ɵɵtext(44, \"Cidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(45, \"input\", 27);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(46, \"div\", 28)(47, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_47_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.closeModal());\n    });\n    i0.ɵɵtext(48, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_49_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.calcularFrete());\n    });\n    i0.ɵɵtext(50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_div_16_Template_button_click_51_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.aplicarFrete());\n    });\n    i0.ɵɵtext(52, \"Aplicar ao or\\u00E7amento\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(53, Step9CustosAdicionaisComponent_div_16_div_53_Template, 13, 20, \"div\", 31);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.transporteForm.controls.origemCep);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.buscandoOrigem);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.cepOrigemErro);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.transporteForm.controls.origemUf);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.transporteForm.controls.origemCidade);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.transporteForm.controls.destinoCep);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.buscandoDestino);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.cepDestinoErro);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.transporteForm.controls.destinoUf);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.transporteForm.controls.destinoCidade);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.loading || ctx_r0.transporteForm.invalid);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.loading ? \"Calculando\\u2026\" : \"Calcular frete\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.frete);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.frete);\n  }\n}\nexport class Step9CustosAdicionaisComponent {\n  constructor(fb, http) {\n    this.fb = fb;\n    this.http = http;\n    this.changed = new EventEmitter();\n    this.form = this.fb.group({\n      nomeCompleto: ['', [Validators.required, Validators.minLength(3)]],\n      incluirTransporte: [false]\n    });\n    this.transporteForm = this.fb.group({\n      // ORIGEM\n      origemCep: ['', [Validators.required, Validators.minLength(8)]],\n      origemUf: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\n      origemCidade: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2)]],\n      // DESTINO\n      destinoCep: ['', [Validators.required, Validators.minLength(8)]],\n      destinoUf: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\n      destinoCidade: [{\n        value: '',\n        disabled: true\n      }, [Validators.required, Validators.minLength(2)]]\n    });\n    this.modalOpen = false;\n    this.loading = false;\n    // status de CEP\n    this.buscandoOrigem = false;\n    this.buscandoDestino = false;\n    this.cepOrigemErro = '';\n    this.cepDestinoErro = '';\n  }\n  ngOnInit() {\n    // watchers de CEP (8 dígitos) → ViaCEP → preenche UF/Cidade\n    this.watchCep('origemCep', 'origemUf', 'origemCidade', b => this.buscandoOrigem = b, e => this.cepOrigemErro = e);\n    this.watchCep('destinoCep', 'destinoUf', 'destinoCidade', b => this.buscandoDestino = b, e => this.cepDestinoErro = e);\n  }\n  // ==== CEP helpers ====\n  watchCep(ctrlCep, ctrlUf, ctrlCidade, setBusy, setErr) {\n    const cepCtrl = this.transporteForm.controls[ctrlCep];\n    cepCtrl.valueChanges.pipe(map(v => (v || '').toString().replace(/\\D/g, '')),\n    // só dígitos\n    tap(v => {\n      if (v !== cepCtrl.value) cepCtrl.setValue(v, {\n        emitEvent: false\n      });\n    }), debounceTime(250), distinctUntilChanged(), tap(() => {\n      setErr('');\n    }), filter(v => v.length >= 8),\n    // dispara com 8+ dígitos\n    tap(() => setBusy(true)), switchMap(cep => this.http.get(`https://viacep.com.br/ws/${cep}/json/`).pipe(catchError(() => of(null)), tap(() => setBusy(false))))).subscribe(resp => {\n      if (!resp || resp.erro) {\n        // limpa campos e mostra erro\n        this.transporteForm.patchValue({\n          [ctrlUf]: '',\n          [ctrlCidade]: ''\n        }, {\n          emitEvent: false\n        });\n        setErr('CEP não encontrado');\n        return;\n      }\n      // preenche\n      this.transporteForm.patchValue({\n        [ctrlUf]: (resp.uf || '').toUpperCase(),\n        [ctrlCidade]: resp.localidade || ''\n      }, {\n        emitEvent: false\n      });\n      setErr('');\n    });\n  }\n  // ==== UI principal ====\n  onToggleTransporte() {\n    const marcado = this.form.value.incluirTransporte === true;\n    if (marcado) this.openModal();\n    this.emit();\n  }\n  openModal() {\n    this.modalOpen = true;\n  }\n  closeModal() {\n    this.modalOpen = false;\n  }\n  calcularFrete() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.transporteForm.invalid) return;\n      _this.loading = true;\n      try {\n        const body = {\n          origem: {\n            cep: _this.transporteForm.value.origemCep.trim(),\n            uf: (_this.transporteForm.getRawValue().origemUf || '').toString().toUpperCase(),\n            cidade: _this.transporteForm.getRawValue().origemCidade || ''\n          },\n          destino: {\n            cep: _this.transporteForm.value.destinoCep.trim(),\n            uf: (_this.transporteForm.getRawValue().destinoUf || '').toString().toUpperCase(),\n            cidade: _this.transporteForm.getRawValue().destinoCidade || ''\n          },\n          tipoCarga: 'carga_geral',\n          eixos: 2,\n          retornoVazio: false\n        };\n        const res = yield fetch('/Orcamento/CalcularFrete', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          credentials: 'include',\n          body: JSON.stringify(body)\n        });\n        if (!res.ok) throw new Error('Falha no cálculo de frete');\n        _this.frete = yield res.json();\n      } catch {\n        _this.frete = undefined;\n        alert('Não foi possível calcular o frete agora.');\n      } finally {\n        _this.loading = false;\n      }\n    })();\n  }\n  aplicarFrete() {\n    if (!this.frete) return;\n    this.modalOpen = false;\n    this.emit();\n  }\n  emit() {\n    this.changed.emit({\n      nomeCompleto: (this.form.value.nomeCompleto || '').trim(),\n      incluirTransporte: this.form.value.incluirTransporte === true,\n      custoTransporte: this.frete?.valor,\n      frete: this.frete\n    });\n  }\n  static {\n    this.ɵfac = function Step9CustosAdicionaisComponent_Factory(t) {\n      return new (t || Step9CustosAdicionaisComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: Step9CustosAdicionaisComponent,\n      selectors: [[\"app-step9-custos-adicionais\"]],\n      outputs: {\n        changed: \"changed\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 17,\n      vars: 6,\n      consts: [[1, \"card\", \"grid\", 2, \"gap\", \"12px\"], [1, \"title\"], [1, \"row\"], [\"type\", \"checkbox\", 3, \"change\", \"formControl\"], [\"type\", \"button\", 1, \"btn\", \"btn-ghost\", \"sm\", \"push-right\", 3, \"click\", \"disabled\"], [1, \"divider\"], [1, \"col\"], [1, \"small\"], [\"type\", \"text\", \"placeholder\", \"Digite seu nome\", 1, \"input\", 3, \"formControl\"], [\"class\", \"field-hint\", 4, \"ngIf\"], [\"class\", \"resumo\", 4, \"ngIf\"], [\"class\", \"modal\", 3, \"click\", 4, \"ngIf\"], [1, \"field-hint\"], [1, \"resumo\"], [1, \"pill\"], [1, \"modal\", 3, \"click\"], [1, \"modal-inner\", 3, \"click\"], [1, \"modal-head\"], [1, \"btn\", \"btn-ghost\", 3, \"click\"], [1, \"grid\", \"two\"], [1, \"card\"], [1, \"small\", \"muted\"], [1, \"grid\", \"three\"], [\"inputmode\", \"numeric\", \"placeholder\", \"00000000\", 1, \"input\", 3, \"formControl\"], [1, \"hint-row\"], [\"class\", \"small muted\", 4, \"ngIf\"], [\"class\", \"small error\", 4, \"ngIf\"], [\"placeholder\", \"\\u2014\", 1, \"input\", \"readonly\", 3, \"formControl\"], [1, \"actions\"], [1, \"btn\", 3, \"click\", \"disabled\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [\"class\", \"quote\", 4, \"ngIf\"], [1, \"small\", \"error\"], [1, \"quote\"]],\n      template: function Step9CustosAdicionaisComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\", 1);\n          i0.ɵɵtext(2, \"Custos adicionais\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"label\", 2)(4, \"input\", 3);\n          i0.ɵɵlistener(\"change\", function Step9CustosAdicionaisComponent_Template_input_change_4_listener() {\n            return ctx.onToggleTransporte();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"span\");\n          i0.ɵɵtext(6, \"Transporte\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function Step9CustosAdicionaisComponent_Template_button_click_7_listener() {\n            return ctx.openModal();\n          });\n          i0.ɵɵtext(8, \" Configurar / calcular \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(9, \"div\", 5);\n          i0.ɵɵelementStart(10, \"label\", 6)(11, \"span\", 7);\n          i0.ɵɵtext(12, \"Nome completo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(13, \"input\", 8);\n          i0.ɵɵtemplate(14, Step9CustosAdicionaisComponent_span_14_Template, 2, 0, \"span\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(15, Step9CustosAdicionaisComponent_div_15_Template, 9, 10, \"div\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(16, Step9CustosAdicionaisComponent_div_16_Template, 54, 14, \"div\", 11);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"formControl\", ctx.form.controls.incluirTransporte);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"disabled\", !ctx.form.value.incluirTransporte);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"formControl\", ctx.form.controls.nomeCompleto);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.form.controls.nomeCompleto.invalid && ctx.form.controls.nomeCompleto.touched);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.frete);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.modalOpen);\n        }\n      },\n      dependencies: [CommonModule, i3.NgIf, i3.DecimalPipe, i3.CurrencyPipe, ReactiveFormsModule, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.NgControlStatus, i1.FormControlDirective, HttpClientModule],\n      styles: [\".title[_ngcontent-%COMP%] { margin: 0; }\\n.row[_ngcontent-%COMP%] { display:flex; align-items:center; gap:8px; }\\n.row[_ngcontent-%COMP%]   .push-right[_ngcontent-%COMP%] { margin-left:auto; }\\n.col[_ngcontent-%COMP%] { display:flex; flex-direction:column; gap:6px; }\\n.input[_ngcontent-%COMP%] { width:100%; }\\n.input.readonly[_ngcontent-%COMP%] { background: color-mix(in oklab, var(--bg-2) 55%, transparent); cursor: not-allowed; }\\n.divider[_ngcontent-%COMP%] { height:1px; background:var(--border); opacity:.6; }\\n\\n.resumo[_ngcontent-%COMP%] { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }\\n.pill[_ngcontent-%COMP%] { border:1px solid var(--border); border-radius:9999px; padding:4px 10px; background:color-mix(in oklab, var(--bg-2) 60%, transparent); }\\n\\n.grid.two[_ngcontent-%COMP%] { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:12px; }\\n.grid.three[_ngcontent-%COMP%] { display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; }\\n.small.muted[_ngcontent-%COMP%] { opacity:.8; }\\n.small.error[_ngcontent-%COMP%] { color:#ff6b6b; }\\n\\n.hint-row[_ngcontent-%COMP%] { display:flex; gap:8px; min-height:18px; }\\n\\n.modal[_ngcontent-%COMP%] { position:fixed; inset:0; background:rgba(0,0,0,.6); display:flex; align-items:center; justify-content:center; z-index:1000; }\\n.modal-inner[_ngcontent-%COMP%] { width:min(900px, 96vw); background:var(--bg); border:1px solid var(--border); border-radius:12px; padding:16px; }\\n.modal-head[_ngcontent-%COMP%] { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }\\n.actions[_ngcontent-%COMP%] { display:flex; gap:8px; align-items:center; justify-content:flex-end; margin-top:12px; }\\n.quote[_ngcontent-%COMP%] { margin-top:10px; display:flex; gap:8px; align-items:center; flex-wrap:wrap; }\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvd2l6YXJkL3Bhc3NvOS1jdXN0b3MtYWRpY2lvbmFpcy9wYXNzbzktY3VzdG9zLWFkaWNpb25haXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLFNBQVMsRUFBRTtBQUNwQixPQUFPLFlBQVksRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEVBQUU7QUFDbEQsbUJBQW1CLGdCQUFnQixFQUFFO0FBQ3JDLE9BQU8sWUFBWSxFQUFFLHFCQUFxQixFQUFFLE9BQU8sRUFBRTtBQUNyRCxTQUFTLFVBQVUsRUFBRTtBQUNyQixrQkFBa0IsNkRBQTZELEVBQUUsbUJBQW1CLEVBQUU7QUFDdEcsV0FBVyxVQUFVLEVBQUUsd0JBQXdCLEVBQUUsVUFBVSxFQUFFOztBQUU3RCxVQUFVLFlBQVksRUFBRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsY0FBYyxFQUFFO0FBQ3JFLFFBQVEsOEJBQThCLEVBQUUsb0JBQW9CLEVBQUUsZ0JBQWdCLEVBQUUsNERBQTRELEVBQUU7O0FBRTlJLFlBQVksWUFBWSxFQUFFLDJEQUEyRCxFQUFFLFFBQVEsRUFBRTtBQUNqRyxjQUFjLFlBQVksRUFBRSxxQ0FBcUMsRUFBRSxPQUFPLEVBQUU7QUFDNUUsZUFBZSxVQUFVLEVBQUU7QUFDM0IsZUFBZSxhQUFhLEVBQUU7O0FBRTlCLFlBQVksWUFBWSxFQUFFLE9BQU8sRUFBRSxlQUFlLEVBQUU7O0FBRXBELFNBQVMsY0FBYyxFQUFFLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxZQUFZLEVBQUUsa0JBQWtCLEVBQUUsc0JBQXNCLEVBQUUsWUFBWSxFQUFFO0FBQ3JJLGVBQWUsc0JBQXNCLEVBQUUsb0JBQW9CLEVBQUUsOEJBQThCLEVBQUUsa0JBQWtCLEVBQUUsWUFBWSxFQUFFO0FBQy9ILGNBQWMsWUFBWSxFQUFFLGtCQUFrQixFQUFFLDZCQUE2QixFQUFFLGlCQUFpQixFQUFFO0FBQ2xHLFdBQVcsWUFBWSxFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSx3QkFBd0IsRUFBRSxlQUFlLEVBQUU7QUFDakcsU0FBUyxlQUFlLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxjQUFjLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyIudGl0bGUgeyBtYXJnaW46IDA7IH1cclxuLnJvdyB7IGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBnYXA6OHB4OyB9XHJcbi5yb3cgLnB1c2gtcmlnaHQgeyBtYXJnaW4tbGVmdDphdXRvOyB9XHJcbi5jb2wgeyBkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsgZ2FwOjZweDsgfVxyXG4uaW5wdXQgeyB3aWR0aDoxMDAlOyB9XHJcbi5pbnB1dC5yZWFkb25seSB7IGJhY2tncm91bmQ6IGNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYmctMikgNTUlLCB0cmFuc3BhcmVudCk7IGN1cnNvcjogbm90LWFsbG93ZWQ7IH1cclxuLmRpdmlkZXIgeyBoZWlnaHQ6MXB4OyBiYWNrZ3JvdW5kOnZhcigtLWJvcmRlcik7IG9wYWNpdHk6LjY7IH1cclxuXHJcbi5yZXN1bW8geyBkaXNwbGF5OmZsZXg7IGdhcDo4cHg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZmxleC13cmFwOndyYXA7IH1cclxuLnBpbGwgeyBib3JkZXI6MXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6OTk5OXB4OyBwYWRkaW5nOjRweCAxMHB4OyBiYWNrZ3JvdW5kOmNvbG9yLW1peChpbiBva2xhYiwgdmFyKC0tYmctMikgNjAlLCB0cmFuc3BhcmVudCk7IH1cclxuXHJcbi5ncmlkLnR3byB7IGRpc3BsYXk6Z3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyNjBweCwgMWZyKSk7IGdhcDoxMnB4OyB9XHJcbi5ncmlkLnRocmVlIHsgZGlzcGxheTpncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgzLCAxZnIpOyBnYXA6OHB4OyB9XHJcbi5zbWFsbC5tdXRlZCB7IG9wYWNpdHk6Ljg7IH1cclxuLnNtYWxsLmVycm9yIHsgY29sb3I6I2ZmNmI2YjsgfVxyXG5cclxuLmhpbnQtcm93IHsgZGlzcGxheTpmbGV4OyBnYXA6OHB4OyBtaW4taGVpZ2h0OjE4cHg7IH1cclxuXHJcbi5tb2RhbCB7IHBvc2l0aW9uOmZpeGVkOyBpbnNldDowOyBiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjYpOyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsganVzdGlmeS1jb250ZW50OmNlbnRlcjsgei1pbmRleDoxMDAwOyB9XHJcbi5tb2RhbC1pbm5lciB7IHdpZHRoOm1pbig5MDBweCwgOTZ2dyk7IGJhY2tncm91bmQ6dmFyKC0tYmcpOyBib3JkZXI6MXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6MTJweDsgcGFkZGluZzoxNnB4OyB9XHJcbi5tb2RhbC1oZWFkIHsgZGlzcGxheTpmbGV4OyBhbGlnbi1pdGVtczpjZW50ZXI7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOyBtYXJnaW4tYm90dG9tOjhweDsgfVxyXG4uYWN0aW9ucyB7IGRpc3BsYXk6ZmxleDsgZ2FwOjhweDsgYWxpZ24taXRlbXM6Y2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7IG1hcmdpbi10b3A6MTJweDsgfVxyXG4ucXVvdGUgeyBtYXJnaW4tdG9wOjEwcHg7IGRpc3BsYXk6ZmxleDsgZ2FwOjhweDsgYWxpZ24taXRlbXM6Y2VudGVyOyBmbGV4LXdyYXA6d3JhcDsgfVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["EventEmitter","CommonModule","ReactiveFormsModule","Validators","HttpClientModule","catchError","debounceTime","distinctUntilChanged","filter","map","of","switchMap","tap","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind2","ctx_r0","frete","distanciaKm","ɵɵpipeBind4","valor","ɵɵtextInterpolate","cepOrigemErro","cepDestinoErro","ɵɵtextInterpolate2","parametros","ccd","cc","ɵɵlistener","Step9CustosAdicionaisComponent_div_16_Template_div_click_0_listener","ɵɵrestoreView","_r2","ɵɵnextContext","ɵɵresetView","closeModal","Step9CustosAdicionaisComponent_div_16_Template_div_click_1_listener","$event","stopPropagation","Step9CustosAdicionaisComponent_div_16_Template_button_click_5_listener","ɵɵelement","ɵɵtemplate","Step9CustosAdicionaisComponent_div_16_span_17_Template","Step9CustosAdicionaisComponent_div_16_span_18_Template","Step9CustosAdicionaisComponent_div_16_span_36_Template","Step9CustosAdicionaisComponent_div_16_span_37_Template","Step9CustosAdicionaisComponent_div_16_Template_button_click_47_listener","Step9CustosAdicionaisComponent_div_16_Template_button_click_49_listener","calcularFrete","Step9CustosAdicionaisComponent_div_16_Template_button_click_51_listener","aplicarFrete","Step9CustosAdicionaisComponent_div_16_div_53_Template","ɵɵproperty","transporteForm","controls","origemCep","buscandoOrigem","origemUf","origemCidade","destinoCep","buscandoDestino","destinoUf","destinoCidade","loading","invalid","Step9CustosAdicionaisComponent","constructor","fb","http","changed","form","group","nomeCompleto","required","minLength","incluirTransporte","value","disabled","maxLength","modalOpen","ngOnInit","watchCep","b","e","ctrlCep","ctrlUf","ctrlCidade","setBusy","setErr","cepCtrl","valueChanges","pipe","v","toString","replace","setValue","emitEvent","length","cep","get","subscribe","resp","erro","patchValue","uf","toUpperCase","localidade","onToggleTransporte","marcado","openModal","emit","_this","_asyncToGenerator","body","origem","trim","getRawValue","cidade","destino","tipoCarga","eixos","retornoVazio","res","fetch","method","headers","credentials","JSON","stringify","ok","Error","json","undefined","alert","custoTransporte","ɵɵdirectiveInject","i1","FormBuilder","i2","HttpClient","selectors","outputs","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","Step9CustosAdicionaisComponent_Template","rf","ctx","Step9CustosAdicionaisComponent_Template_input_change_4_listener","Step9CustosAdicionaisComponent_Template_button_click_7_listener","Step9CustosAdicionaisComponent_span_14_Template","Step9CustosAdicionaisComponent_div_15_Template","Step9CustosAdicionaisComponent_div_16_Template","touched","i3","NgIf","DecimalPipe","CurrencyPipe","DefaultValueAccessor","CheckboxControlValueAccessor","NgControlStatus","FormControlDirective","styles"],"sources":["G:\\Estudos\\Angular\\Orcamentador\\src\\app\\pages\\wizard\\passo9-custos-adicionais\\passo9-custos-adicionais.component.ts","G:\\Estudos\\Angular\\Orcamentador\\src\\app\\pages\\wizard\\passo9-custos-adicionais\\passo9-custos-adicionais.component.html"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { catchError, debounceTime, distinctUntilChanged, filter, map, of, switchMap, tap } from 'rxjs';\r\nimport { FreteQuote, FreteRequest } from 'src/app/models/orcamento.model';\r\n\r\n@Component({\r\n    standalone: true,\r\n    selector: 'app-step9-custos-adicionais',\r\n    imports: [CommonModule, ReactiveFormsModule, HttpClientModule],\r\n    templateUrl: './passo9-custos-adicionais.component.html',\r\n    styleUrls: ['./passo9-custos-adicionais.component.css']\r\n})\r\nexport class Step9CustosAdicionaisComponent implements OnInit {\r\n    @Output() changed = new EventEmitter<{\r\n        nomeCompleto: string;\r\n        incluirTransporte: boolean;\r\n        custoTransporte?: number;\r\n        frete?: FreteQuote;\r\n    }>();\r\n\r\n    constructor(private fb: FormBuilder, private http: HttpClient) {}\r\n\r\n    form = this.fb.group({\r\n        nomeCompleto: ['', [Validators.required, Validators.minLength(3)]],\r\n        incluirTransporte: [false],\r\n    });\r\n\r\n    transporteForm = this.fb.group({\r\n        // ORIGEM\r\n        origemCep: ['', [Validators.required, Validators.minLength(8)]],\r\n        origemUf: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\r\n        origemCidade: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2)]],\r\n        // DESTINO\r\n        destinoCep: ['', [Validators.required, Validators.minLength(8)]],\r\n        destinoUf: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2), Validators.maxLength(2)]],\r\n        destinoCidade: [{ value: '', disabled: true }, [Validators.required, Validators.minLength(2)]],\r\n    });\r\n\r\n    modalOpen = false;\r\n    loading = false;\r\n    frete?: FreteQuote;\r\n\r\n    // status de CEP\r\n    buscandoOrigem = false;\r\n    buscandoDestino = false;\r\n    cepOrigemErro = '';\r\n    cepDestinoErro = '';\r\n\r\n    ngOnInit(): void {\r\n        // watchers de CEP (8 dígitos) → ViaCEP → preenche UF/Cidade\r\n        this.watchCep(\r\n            'origemCep', 'origemUf', 'origemCidade',\r\n            (b) => (this.buscandoOrigem = b),\r\n            (e) => (this.cepOrigemErro = e)\r\n        );\r\n\r\n        this.watchCep(\r\n            'destinoCep', 'destinoUf', 'destinoCidade',\r\n            (b) => (this.buscandoDestino = b),\r\n            (e) => (this.cepDestinoErro = e)\r\n        );\r\n    }\r\n\r\n    // ==== CEP helpers ====\r\n    private watchCep(\r\n        ctrlCep: 'origemCep' | 'destinoCep',\r\n        ctrlUf: 'origemUf' | 'destinoUf',\r\n        ctrlCidade: 'origemCidade' | 'destinoCidade',\r\n        setBusy: (b: boolean) => void,\r\n        setErr: (msg: string) => void\r\n    ) {\r\n        const cepCtrl = this.transporteForm.controls[ctrlCep];\r\n        cepCtrl.valueChanges!.pipe(\r\n            map(v => (v || '').toString().replace(/\\D/g, '')),          // só dígitos\r\n            tap(v => { if (v !== cepCtrl.value) cepCtrl.setValue(v, { emitEvent: false }); }),\r\n            debounceTime(250),\r\n            distinctUntilChanged(),\r\n            tap(() => { setErr(''); }),\r\n            filter(v => v.length >= 8),                                  // dispara com 8+ dígitos\r\n            tap(() => setBusy(true)),\r\n            switchMap(cep =>\r\n                this.http.get<any>(`https://viacep.com.br/ws/${cep}/json/`).pipe(\r\n                    catchError(() => of(null)),\r\n                    tap(() => setBusy(false))\r\n                )\r\n            )\r\n        ).subscribe(resp => {\r\n            if (!resp || resp.erro) {\r\n                // limpa campos e mostra erro\r\n                this.transporteForm.patchValue({ [ctrlUf]: '', [ctrlCidade]: '' } as any, { emitEvent: false });\r\n                setErr('CEP não encontrado');\r\n                return;\r\n            }\r\n            // preenche\r\n            this.transporteForm.patchValue(\r\n                { [ctrlUf]: (resp.uf || '').toUpperCase(), [ctrlCidade]: resp.localidade || '' } as any,\r\n                { emitEvent: false }\r\n            );\r\n            setErr('');\r\n        });\r\n    }\r\n\r\n    // ==== UI principal ====\r\n    onToggleTransporte() {\r\n        const marcado = this.form.value.incluirTransporte === true;\r\n        if (marcado) this.openModal();\r\n        this.emit();\r\n    }\r\n    openModal() { this.modalOpen = true; }\r\n    closeModal() { this.modalOpen = false; }\r\n\r\n    async calcularFrete() {\r\n        if (this.transporteForm.invalid) return;\r\n        this.loading = true;\r\n        try {\r\n            const body: FreteRequest = {\r\n                origem: {\r\n                    cep: this.transporteForm.value.origemCep!.trim(),\r\n                    uf: (this.transporteForm.getRawValue().origemUf || '').toString().toUpperCase(),\r\n                    cidade: this.transporteForm.getRawValue().origemCidade || '',\r\n                },\r\n                destino: {\r\n                    cep: this.transporteForm.value.destinoCep!.trim(),\r\n                    uf: (this.transporteForm.getRawValue().destinoUf || '').toString().toUpperCase(),\r\n                    cidade: this.transporteForm.getRawValue().destinoCidade || '',\r\n                },\r\n                tipoCarga: 'carga_geral',\r\n                eixos: 2,\r\n                retornoVazio: false,\r\n            };\r\n\r\n            const res = await fetch('/Orcamento/CalcularFrete', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                credentials: 'include',\r\n                body: JSON.stringify(body),\r\n            });\r\n            if (!res.ok) throw new Error('Falha no cálculo de frete');\r\n            this.frete = await res.json() as FreteQuote;\r\n        } catch {\r\n            this.frete = undefined;\r\n            alert('Não foi possível calcular o frete agora.');\r\n        } finally {\r\n            this.loading = false;\r\n        }\r\n    }\r\n\r\n    aplicarFrete() {\r\n        if (!this.frete) return;\r\n        this.modalOpen = false;\r\n        this.emit();\r\n    }\r\n\r\n    emit() {\r\n        this.changed.emit({\r\n            nomeCompleto: (this.form.value.nomeCompleto || '').trim(),\r\n            incluirTransporte: this.form.value.incluirTransporte === true,\r\n            custoTransporte: this.frete?.valor,\r\n            frete: this.frete,\r\n        });\r\n    }\r\n}\r\n","<div class=\"card grid\" style=\"gap:12px;\">\r\n    <h3 class=\"title\">Custos adicionais</h3>\r\n\r\n    <label class=\"row\">\r\n        <input type=\"checkbox\"\r\n               [formControl]=\"form.controls.incluirTransporte\"\r\n               (change)=\"onToggleTransporte()\">\r\n        <span>Transporte</span>\r\n        <button class=\"btn btn-ghost sm push-right\" type=\"button\"\r\n                (click)=\"openModal()\" [disabled]=\"!form.value.incluirTransporte\">\r\n            Configurar / calcular\r\n        </button>\r\n    </label>\r\n\r\n    <div class=\"divider\"></div>\r\n\r\n    <label class=\"col\">\r\n        <span class=\"small\">Nome completo</span>\r\n        <input type=\"text\" class=\"input\" placeholder=\"Digite seu nome\"\r\n               [formControl]=\"form.controls.nomeCompleto\">\r\n        <span class=\"field-hint\" *ngIf=\"form.controls.nomeCompleto.invalid && form.controls.nomeCompleto.touched\">\r\n      Informe seu nome completo.\r\n    </span>\r\n    </label>\r\n\r\n    <div class=\"resumo\" *ngIf=\"frete\">\r\n        <div class=\"small\">Transporte</div>\r\n        <div class=\"pill\">Distância: {{ frete.distanciaKm | number:'1.0-0' }} km</div>\r\n        <div class=\"pill\">Valor: {{ frete.valor | currency:'BRL':'symbol':'1.0-0' }}</div>\r\n    </div>\r\n</div>\r\n\r\n<!-- MODAL -->\r\n<div class=\"modal\" *ngIf=\"modalOpen\" (click)=\"closeModal()\">\r\n    <div class=\"modal-inner\" (click)=\"$event.stopPropagation()\">\r\n        <div class=\"modal-head\">\r\n            <h4>Calculadora de frete</h4>\r\n            <button class=\"btn btn-ghost\" (click)=\"closeModal()\">×</button>\r\n        </div>\r\n\r\n        <div class=\"grid two\">\r\n            <!-- ORIGEM -->\r\n            <div class=\"card\">\r\n                <div class=\"small muted\">Endereço de origem</div>\r\n                <div class=\"grid three\">\r\n                    <label>\r\n                        <span class=\"small\">CEP</span>\r\n                        <input class=\"input\" inputmode=\"numeric\" placeholder=\"00000000\"\r\n                               [formControl]=\"transporteForm.controls.origemCep\">\r\n                        <div class=\"hint-row\">\r\n                            <span class=\"small muted\" *ngIf=\"buscandoOrigem\">Buscando CEP…</span>\r\n                            <span class=\"small error\" *ngIf=\"cepOrigemErro\">{{ cepOrigemErro }}</span>\r\n                        </div>\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">UF</span>\r\n                        <input class=\"input readonly\" placeholder=\"—\"\r\n                               [formControl]=\"transporteForm.controls.origemUf\">\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">Cidade</span>\r\n                        <input class=\"input readonly\" placeholder=\"—\"\r\n                               [formControl]=\"transporteForm.controls.origemCidade\">\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- DESTINO -->\r\n            <div class=\"card\">\r\n                <div class=\"small muted\">Endereço de destino</div>\r\n                <div class=\"grid three\">\r\n                    <label>\r\n                        <span class=\"small\">CEP</span>\r\n                        <input class=\"input\" inputmode=\"numeric\" placeholder=\"00000000\"\r\n                               [formControl]=\"transporteForm.controls.destinoCep\">\r\n                        <div class=\"hint-row\">\r\n                            <span class=\"small muted\" *ngIf=\"buscandoDestino\">Buscando CEP…</span>\r\n                            <span class=\"small error\" *ngIf=\"cepDestinoErro\">{{ cepDestinoErro }}</span>\r\n                        </div>\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">UF</span>\r\n                        <input class=\"input readonly\" placeholder=\"—\"\r\n                               [formControl]=\"transporteForm.controls.destinoUf\">\r\n                    </label>\r\n                    <label>\r\n                        <span class=\"small\">Cidade</span>\r\n                        <input class=\"input readonly\" placeholder=\"—\"\r\n                               [formControl]=\"transporteForm.controls.destinoCidade\">\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"actions\">\r\n            <button class=\"btn btn-ghost\" (click)=\"closeModal()\">Cancelar</button>\r\n            <button class=\"btn\" [disabled]=\"loading || transporteForm.invalid\" (click)=\"calcularFrete()\">\r\n                {{ loading ? 'Calculando…' : 'Calcular frete' }}\r\n            </button>\r\n            <button class=\"btn btn-primary\" [disabled]=\"!frete\" (click)=\"aplicarFrete()\">Aplicar ao orçamento</button>\r\n        </div>\r\n\r\n        <div class=\"quote\" *ngIf=\"frete\">\r\n            <div class=\"small\">Resultado</div>\r\n            <div class=\"pill\">Distância: {{ frete.distanciaKm | number:'1.0-0' }} km</div>\r\n            <div class=\"pill\">Valor: {{ frete.valor | currency:'BRL':'symbol':'1.0-0' }}</div>\r\n            <div class=\"small muted\">\r\n                Parâmetros: CCD {{ frete.parametros.ccd | number:'1.2-2' }} • CC {{ frete.parametros.cc | currency:'BRL':'symbol':'1.0-0' }}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}